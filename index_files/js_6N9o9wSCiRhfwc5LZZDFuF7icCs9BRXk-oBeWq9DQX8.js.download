/* @license GPL-2.0-or-later https://git.drupalcode.org/project/once/-/raw/v1.0.1/LICENSE.md */
/*! @drupal/once - v1.0.1 - 2021-06-12 */
var once=function(){"use strict";var n=/[\11\12\14\15\40]+/,e="data-once",t=document;function r(n,t,r){return n[t+"Attribute"](e,r)}function o(e){if("string"!=typeof e)throw new TypeError("once ID must be a string");if(""===e||n.test(e))throw new RangeError("once ID must not be empty or contain spaces");return'[data-once~="'+e+'"]'}function u(n){if(!(n instanceof Element))throw new TypeError("The element must be an instance of Element");return!0}function i(n,e){void 0===e&&(e=t);var r=n;if(null===n)r=[];else{if(!n)throw new TypeError("Selector must not be empty");"string"!=typeof n||e!==t&&!u(e)?n instanceof Element&&(r=[n]):r=e.querySelectorAll(n)}return Array.prototype.slice.call(r)}function c(n,e,t){return e.filter((function(e){var r=u(e)&&e.matches(n);return r&&t&&t(e),r}))}function f(e,t){var o=t.add,u=t.remove,i=[];r(e,"has")&&r(e,"get").trim().split(n).forEach((function(n){i.indexOf(n)<0&&n!==u&&i.push(n)})),o&&i.push(o);var c=i.join(" ");r(e,""===c?"remove":"set",c)}function a(n,e,t){return c(":not("+o(n)+")",i(e,t),(function(e){return f(e,{add:n})}))}return a.remove=function(n,e,t){return c(o(n),i(e,t),(function(e){return f(e,{remove:n})}))},a.filter=function(n,e,t){return c(o(n),i(e,t))},a.find=function(n,e){return i(n?o(n):"[data-once]",e)},a}();

;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
/*!
  hey, [be]Lazy.js - v1.8.2 - 2016.10.25
  A fast, small and dependency free lazy load script (https://github.com/dinbror/blazy)
  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy
*/
  (function(q,m){"function"===typeof define&&define.amd?define(m):"object"===typeof exports?module.exports=m():q.Blazy=m()})(this,function(){function q(b){var c=b._util;c.elements=E(b.options);c.count=c.elements.length;c.destroyed&&(c.destroyed=!1,b.options.container&&l(b.options.container,function(a){n(a,"scroll",c.validateT)}),n(window,"resize",c.saveViewportOffsetT),n(window,"resize",c.validateT),n(window,"scroll",c.validateT));m(b)}function m(b){for(var c=b._util,a=0;a<c.count;a++){var d=c.elements[a],e;a:{var g=d;e=b.options;var p=g.getBoundingClientRect();if(e.container&&y&&(g=g.closest(e.containerClass))){g=g.getBoundingClientRect();e=r(g,f)?r(p,{top:g.top-e.offset,right:g.right+e.offset,bottom:g.bottom+e.offset,left:g.left-e.offset}):!1;break a}e=r(p,f)}if(e||t(d,b.options.successClass))b.load(d),c.elements.splice(a,1),c.count--,a--}0===c.count&&b.destroy()}function r(b,c){return b.right>=c.left&&b.bottom>=c.top&&b.left<=c.right&&b.top<=c.bottom}function z(b,c,a){if(!t(b,a.successClass)&&(c||a.loadInvisible||0<b.offsetWidth&&0<b.offsetHeight))if(c=b.getAttribute(u)||b.getAttribute(a.src)){c=c.split(a.separator);var d=c[A&&1<c.length?1:0],e=b.getAttribute(a.srcset),g="img"===b.nodeName.toLowerCase(),p=(c=b.parentNode)&&"picture"===c.nodeName.toLowerCase();if(g||void 0===b.src){var h=new Image,w=function(){a.error&&a.error(b,"invalid");v(b,a.errorClass);k(h,"error",w);k(h,"load",f)},f=function(){g?p||B(b,d,e):b.style.backgroundImage='url("'+d+'")';x(b,a);k(h,"load",f);k(h,"error",w)};p&&(h=b,l(c.getElementsByTagName("source"),function(b){var c=a.srcset,e=b.getAttribute(c);e&&(b.setAttribute("srcset",e),b.removeAttribute(c))}));n(h,"error",w);n(h,"load",f);B(h,d,e)}else b.src=d,x(b,a)}else"video"===b.nodeName.toLowerCase()?(l(b.getElementsByTagName("source"),function(b){var c=a.src,e=b.getAttribute(c);e&&(b.setAttribute("src",e),b.removeAttribute(c))}),b.load(),x(b,a)):(a.error&&a.error(b,"missing"),v(b,a.errorClass))}function x(b,c){v(b,c.successClass);c.success&&c.success(b);b.removeAttribute(c.src);b.removeAttribute(c.srcset);l(c.breakpoints,function(a){b.removeAttribute(a.src)})}function B(b,c,a){a&&b.setAttribute("srcset",a);b.src=c}function t(b,c){return-1!==(" "+b.className+" ").indexOf(" "+c+" ")}function v(b,c){t(b,c)||(b.className+=" "+c)}function E(b){var c=[];b=b.root.querySelectorAll(b.selector);for(var a=b.length;a--;c.unshift(b[a]));return c}function C(b){f.bottom=(window.innerHeight||document.documentElement.clientHeight)+b;f.right=(window.innerWidth||document.documentElement.clientWidth)+b}function n(b,c,a){b.attachEvent?b.attachEvent&&b.attachEvent("on"+c,a):b.addEventListener(c,a,{capture:!1,passive:!0})}function k(b,c,a){b.detachEvent?b.detachEvent&&b.detachEvent("on"+c,a):b.removeEventListener(c,a,{capture:!1,passive:!0})}function l(b,c){if(b&&c)for(var a=b.length,d=0;d<a&&!1!==c(b[d],d);d++);}function D(b,c,a){var d=0;return function(){var e=+new Date;e-d<c||(d=e,b.apply(a,arguments))}}var u,f,A,y;return function(b){if(!document.querySelectorAll){var c=document.createStyleSheet();document.querySelectorAll=function(a,b,d,h,f){f=document.all;b=[];a=a.replace(/\[for\b/gi,"[htmlFor").split(",");for(d=a.length;d--;){c.addRule(a[d],"k:v");for(h=f.length;h--;)f[h].currentStyle.k&&b.push(f[h]);c.removeRule(0)}return b}}var a=this,d=a._util={};d.elements=[];d.destroyed=!0;a.options=b||{};a.options.error=a.options.error||!1;a.options.offset=a.options.offset||100;a.options.root=a.options.root||document;a.options.success=a.options.success||!1;a.options.selector=a.options.selector||".b-lazy";a.options.separator=a.options.separator||"|";a.options.containerClass=a.options.container;a.options.container=a.options.containerClass?document.querySelectorAll(a.options.containerClass):!1;a.options.errorClass=a.options.errorClass||"b-error";a.options.breakpoints=a.options.breakpoints||!1;a.options.loadInvisible=a.options.loadInvisible||!1;a.options.successClass=a.options.successClass||"b-loaded";a.options.validateDelay=a.options.validateDelay||25;a.options.saveViewportOffsetDelay=a.options.saveViewportOffsetDelay||50;a.options.srcset=a.options.srcset||"data-srcset";a.options.src=u=a.options.src||"data-src";y=Element.prototype.closest;A=1<window.devicePixelRatio;f={};f.top=0-a.options.offset;f.left=0-a.options.offset;a.revalidate=function(){q(a)};a.load=function(a,b){var c=this.options;void 0===a.length?z(a,b,c):l(a,function(a){z(a,b,c)})};a.destroy=function(){var a=this._util;this.options.container&&l(this.options.container,function(b){k(b,"scroll",a.validateT)});k(window,"scroll",a.validateT);k(window,"resize",a.validateT);k(window,"resize",a.saveViewportOffsetT);a.count=0;a.elements.length=0;a.destroyed=!0};d.validateT=D(function(){m(a)},a.options.validateDelay,a);d.saveViewportOffsetT=D(function(){C(a.options.offset)},a.options.saveViewportOffsetDelay,a);C(a.options.offset);l(a.options.breakpoints,function(a){if(a.width>=window.screen.width)return u=a.src,!1});setTimeout(function(){q(a)})}});;
!function(){var e={3653:function(e,t,r){e.exports=r(1555)},9685:function(e,t,r){"use strict";var n=r(501),i=r(3063),s=r(9233),o=r(4306),a=r(5938),l=r(2644),c=r(3977),u=r(135),p=r(2036),d=r(5930);e.exports=function(e){return new Promise((function(t,r){var h,f=e.data,g=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}n.isFormData(f)&&delete g["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+b)}var x=a(e.baseURL,e.url);function _(){if(v){var n="getAllResponseHeaders"in v?l(v.getAllResponseHeaders()):null,s={data:m&&"text"!==m&&"json"!==m?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:n,config:e,request:v};i((function(e){t(e),y()}),(function(e){r(e),y()}),s),v=null}}if(v.open(e.method.toUpperCase(),o(x,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=_:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(_)},v.onabort=function(){v&&(r(u("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){r(u("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||p.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(u(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},n.isStandardBrowserEnv()){var S=(e.withCredentials||c(x))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;S&&(g[e.xsrfHeaderName]=S)}"setRequestHeader"in v&&n.forEach(g,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete g[t]:v.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),m&&"json"!==m&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){v&&(r(!e||e&&e.type?new d("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),f||(f=null),v.send(f)}))}},1555:function(e,t,r){"use strict";var n=r(501),i=r(2958),s=r(7303),o=r(2445);var a=function e(t){var r=new s(t),a=i(s.prototype.request,r);return n.extend(a,s.prototype,r),n.extend(a,r),a.create=function(r){return e(o(t,r))},a}(r(2036));a.Axios=s,a.Cancel=r(5930),a.CancelToken=r(9939),a.isCancel=r(8414),a.VERSION=r(2196).version,a.all=function(e){return Promise.all(e)},a.spread=r(363),a.isAxiosError=r(9465),e.exports=a,e.exports.default=a},5930:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},9939:function(e,t,r){"use strict";var n=r(5930);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},8414:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},7303:function(e,t,r){"use strict";var n=r(501),i=r(4306),s=r(6942),o=r(6158),a=r(2445),l=r(7169),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new s,response:new s}}u.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&l.assertOptions(r,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var s,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var p=[o,void 0];for(Array.prototype.unshift.apply(p,n),p=p.concat(u),s=Promise.resolve(t);p.length;)s=s.then(p.shift(),p.shift());return s}for(var d=t;n.length;){var h=n.shift(),f=n.shift();try{d=h(d)}catch(e){f(e);break}}try{s=o(d)}catch(e){return Promise.reject(e)}for(;u.length;)s=s.then(u.shift(),u.shift());return s},u.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=u},6942:function(e,t,r){"use strict";var n=r(501);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},5938:function(e,t,r){"use strict";var n=r(3473),i=r(533);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},135:function(e,t,r){"use strict";var n=r(7889);e.exports=function(e,t,r,i,s){var o=new Error(e);return n(o,t,r,i,s)}},6158:function(e,t,r){"use strict";var n=r(501),i=r(4097),s=r(8414),o=r(2036),a=r(5930);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7889:function(e){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},2445:function(e,t,r){"use strict";var n=r(501);e.exports=function(e,t){t=t||{};var r={};function i(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function o(e){if(!n.isUndefined(t[e]))return i(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function l(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||s,i=t(e);n.isUndefined(i)&&t!==l||(r[e]=i)})),r}},3063:function(e,t,r){"use strict";var n=r(135);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},4097:function(e,t,r){"use strict";var n=r(501),i=r(2036);e.exports=function(e,t,r){var s=this||i;return n.forEach(r,(function(r){e=r.call(s,e,t)})),e}},2036:function(e,t,r){"use strict";var n=r(501),i=r(4799),s=r(7889),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=r(9685)),l),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||i&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(o)})),e.exports=c},2196:function(e){e.exports={version:"0.26.0"}},2958:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},4306:function(e,t,r){"use strict";var n=r(501);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var o=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),s=o.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},533:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9233:function(e,t,r){"use strict";var n=r(501);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,s,o){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},3473:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9465:function(e,t,r){"use strict";var n=r(501);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},3977:function(e,t,r){"use strict";var n=r(501);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},4799:function(e,t,r){"use strict";var n=r(501);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},2644:function(e,t,r){"use strict";var n=r(501),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,o={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}},363:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7169:function(e,t,r){"use strict";var n=r(2196).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,o){if(!1===e)throw new Error(i(n," has been removed"+(t?" in "+t:"")));return t&&!s[n]&&(s[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,o)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var s=n[i],o=t[s];if(o){var a=e[s],l=void 0===a||o(a,s,e);if(!0!==l)throw new TypeError("option "+s+" must be "+l)}else if(!0!==r)throw Error("Unknown option "+s)}},validators:i}},501:function(e,t,r){"use strict";var n=r(2958),i=Object.prototype.toString;function s(e){return Array.isArray(e)}function o(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function l(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function p(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return l(e)&&u(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:p,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)p(arguments[n],r);return t},extend:function(e,t,r){return p(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},4933:function(e,t,r){var n=r(5001),i=r(6291),s=r(7073),o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(s(e)+" is not a function")}},9076:function(e,t,r){var n=r(5001),i=r(6291),s=n.String,o=n.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+s(e)+" as a prototype")}},4905:function(e,t,r){var n=r(5001),i=r(2366),s=n.String,o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(s(e)+" is not an object")}},2183:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},50:function(e,t,r){"use strict";var n,i,s,o=r(2183),a=r(1502),l=r(5001),c=r(6291),u=r(2366),p=r(8382),d=r(486),h=r(7073),f=r(430),g=r(6313),m=r(6462).f,y=r(6282),v=r(4320),w=r(2848),b=r(6802),x=r(1050),_=l.Int8Array,S=_&&_.prototype,k=l.Uint8ClampedArray,T=k&&k.prototype,E=_&&v(_),C=S&&v(S),P=Object.prototype,O=l.TypeError,A=b("toStringTag"),j=x("TYPED_ARRAY_TAG"),M=x("TYPED_ARRAY_CONSTRUCTOR"),I=o&&!!w&&"Opera"!==d(l.opera),N=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},$=function(e){if(!u(e))return!1;var t=d(e);return p(R,t)||p(L,t)};for(n in R)(s=(i=l[n])&&i.prototype)?f(s,M,i):I=!1;for(n in L)(s=(i=l[n])&&i.prototype)&&f(s,M,i);if((!I||!c(E)||E===Function.prototype)&&(E=function(){throw O("Incorrect invocation")},I))for(n in R)l[n]&&w(l[n],E);if((!I||!C||C===P)&&(C=E.prototype,I))for(n in R)l[n]&&w(l[n].prototype,C);if(I&&v(T)!==C&&w(T,C),a&&!p(C,A))for(n in N=!0,m(C,A,{get:function(){return u(this)?this[j]:void 0}}),R)l[n]&&f(l[n],j,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_CONSTRUCTOR:M,TYPED_ARRAY_TAG:N&&j,aTypedArray:function(e){if($(e))return e;throw O("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!w||y(E,e)))return e;throw O(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(a){if(r)for(var i in R){var s=l[i];if(s&&p(s.prototype,e))try{delete s.prototype[e]}catch(r){try{s.prototype[e]=t}catch(e){}}}C[e]&&!r||g(C,e,r?t:I&&S[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(a){if(w){if(r)for(n in R)if((i=l[n])&&p(i,e))try{delete i[e]}catch(e){}if(E[e]&&!r)return;try{return g(E,e,r?t:I&&E[e]||t)}catch(e){}}for(n in R)!(i=l[n])||i[e]&&!r||g(i,e,t)}},isView:function(e){if(!u(e))return!1;var t=d(e);return"DataView"===t||p(R,t)||p(L,t)},isTypedArray:$,TypedArray:E,TypedArrayPrototype:C}},5489:function(e,t,r){var n=r(936),i=n({}.toString),s=n("".slice);e.exports=function(e){return s(i(e),8,-1)}},486:function(e,t,r){var n=r(5001),i=r(8171),s=r(6291),o=r(5489),a=r(6802)("toStringTag"),l=n.Object,c="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=l(e),a))?r:c?o(t):"Object"==(n=o(t))&&s(t.callee)?"Arguments":n}},149:function(e,t,r){var n=r(5061);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},430:function(e,t,r){var n=r(1502),i=r(6462),s=r(6034);e.exports=n?function(e,t,r){return i.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},6034:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},1502:function(e,t,r){var n=r(5061);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6009:function(e,t,r){var n=r(5001),i=r(2366),s=n.document,o=i(s)&&i(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},9966:function(e,t,r){var n=r(3425);e.exports=n("navigator","userAgent")||""},2821:function(e,t,r){var n,i,s=r(5001),o=r(9966),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(i=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},5061:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},8483:function(e,t,r){var n=r(5061);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},3927:function(e,t,r){var n=r(8483),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},9873:function(e,t,r){var n=r(1502),i=r(8382),s=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=i(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!n||n&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},936:function(e,t,r){var n=r(8483),i=Function.prototype,s=i.bind,o=i.call,a=n&&s.bind(o,o);e.exports=n?function(e){return e&&a(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},3425:function(e,t,r){var n=r(5001),i=r(6291),s=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(n[e]):n[e]&&n[e][t]}},3815:function(e,t,r){var n=r(4933);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},5001:function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},8382:function(e,t,r){var n=r(936),i=r(7615),s=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(i(e),t)}},2499:function(e){e.exports={}},7788:function(e,t,r){var n=r(1502),i=r(5061),s=r(6009);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},685:function(e,t,r){var n=r(936),i=r(6291),s=r(9982),o=n(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},684:function(e,t,r){var n,i,s,o=r(7650),a=r(5001),l=r(936),c=r(2366),u=r(430),p=r(8382),d=r(9982),h=r(1695),f=r(2499),g="Object already initialized",m=a.TypeError,y=a.WeakMap;if(o||d.state){var v=d.state||(d.state=new y),w=l(v.get),b=l(v.has),x=l(v.set);n=function(e,t){if(b(v,e))throw new m(g);return t.facade=e,x(v,e,t),t},i=function(e){return w(v,e)||{}},s=function(e){return b(v,e)}}else{var _=h("state");f[_]=!0,n=function(e,t){if(p(e,_))throw new m(g);return t.facade=e,u(e,_,t),t},i=function(e){return p(e,_)?e[_]:{}},s=function(e){return p(e,_)}}e.exports={set:n,get:i,has:s,enforce:function(e){return s(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return r}}}},6291:function(e){e.exports=function(e){return"function"==typeof e}},2366:function(e,t,r){var n=r(6291);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},13:function(e){e.exports=!1},6448:function(e,t,r){var n=r(5001),i=r(3425),s=r(6291),o=r(6282),a=r(7558),l=n.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return s(t)&&o(t.prototype,l(e))}},4821:function(e,t,r){var n=r(4479);e.exports=function(e){return n(e.length)}},9262:function(e,t,r){var n=r(2821),i=r(5061);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},7650:function(e,t,r){var n=r(5001),i=r(6291),s=r(685),o=n.WeakMap;e.exports=i(o)&&/native code/.test(s(o))},6462:function(e,t,r){var n=r(5001),i=r(1502),s=r(7788),o=r(5780),a=r(4905),l=r(1030),c=n.TypeError,u=Object.defineProperty,p=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";t.f=i?o?function(e,t,r){if(a(e),t=l(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&f in r&&!r.writable){var n=p(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:h in r?r.configurable:n.configurable,enumerable:d in r?r.enumerable:n.enumerable,writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(a(e),t=l(t),a(r),s)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},4320:function(e,t,r){var n=r(5001),i=r(8382),s=r(6291),o=r(7615),a=r(1695),l=r(149),c=a("IE_PROTO"),u=n.Object,p=u.prototype;e.exports=l?u.getPrototypeOf:function(e){var t=o(e);if(i(t,c))return t[c];var r=t.constructor;return s(r)&&t instanceof r?r.prototype:t instanceof u?p:null}},6282:function(e,t,r){var n=r(936);e.exports=n({}.isPrototypeOf)},2848:function(e,t,r){var n=r(936),i=r(4905),s=r(9076);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),s(n),t?e(r,n):r.__proto__=n,r}}():void 0)},379:function(e,t,r){var n=r(5001),i=r(3927),s=r(6291),o=r(2366),a=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&s(r=e.toString)&&!o(n=i(r,e)))return n;if(s(r=e.valueOf)&&!o(n=i(r,e)))return n;if("string"!==t&&s(r=e.toString)&&!o(n=i(r,e)))return n;throw a("Can't convert object to primitive value")}},6313:function(e,t,r){var n=r(5001),i=r(6291),s=r(8382),o=r(430),a=r(8506),l=r(685),c=r(684),u=r(9873).CONFIGURABLE,p=c.get,d=c.enforce,h=String(String).split("String");(e.exports=function(e,t,r,l){var c,p=!!l&&!!l.unsafe,f=!!l&&!!l.enumerable,g=!!l&&!!l.noTargetGet,m=l&&void 0!==l.name?l.name:t;i(r)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(r,"name")||u&&r.name!==m)&&o(r,"name",m),(c=d(r)).source||(c.source=h.join("string"==typeof m?m:""))),e!==n?(p?!g&&e[t]&&(f=!0):delete e[t],f?e[t]=r:o(e,t,r)):f?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return i(this)&&p(this).source||l(this)}))},4475:function(e,t,r){var n=r(5001).TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},8506:function(e,t,r){var n=r(5001),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},1695:function(e,t,r){var n=r(6809),i=r(1050),s=n("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},9982:function(e,t,r){var n=r(5001),i=r(8506),s="__core-js_shared__",o=n[s]||i(s,{});e.exports=o},6809:function(e,t,r){var n=r(13),i=r(9982);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:n?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},9398:function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){var n=+e;return n!=n||0===n?0:(n>0?r:t)(n)}},4479:function(e,t,r){var n=r(9398),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},7615:function(e,t,r){var n=r(5001),i=r(4475),s=n.Object;e.exports=function(e){return s(i(e))}},2924:function(e,t,r){var n=r(5001),i=r(239),s=n.RangeError;e.exports=function(e,t){var r=i(e);if(r%t)throw s("Wrong offset");return r}},239:function(e,t,r){var n=r(5001),i=r(9398),s=n.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw s("The argument can't be less than 0");return t}},6973:function(e,t,r){var n=r(5001),i=r(3927),s=r(2366),o=r(6448),a=r(3815),l=r(379),c=r(6802),u=n.TypeError,p=c("toPrimitive");e.exports=function(e,t){if(!s(e)||o(e))return e;var r,n=a(e,p);if(n){if(void 0===t&&(t="default"),r=i(n,e,t),!s(r)||o(r))return r;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},1030:function(e,t,r){var n=r(6973),i=r(6448);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},8171:function(e,t,r){var n={};n[r(6802)("toStringTag")]="z",e.exports="[object z]"===String(n)},7073:function(e,t,r){var n=r(5001).String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},1050:function(e,t,r){var n=r(936),i=0,s=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+s,36)}},7558:function(e,t,r){var n=r(9262);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5780:function(e,t,r){var n=r(1502),i=r(5061);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},6802:function(e,t,r){var n=r(5001),i=r(6809),s=r(8382),o=r(1050),a=r(9262),l=r(7558),c=i("wks"),u=n.Symbol,p=u&&u.for,d=l?u:u&&u.withoutSetter||o;e.exports=function(e){if(!s(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&s(u,e)?c[e]=u[e]:c[e]=l&&p?p(t):d(t)}return c[e]}},4122:function(e,t,r){"use strict";var n=r(5001),i=r(3927),s=r(50),o=r(4821),a=r(2924),l=r(7615),c=r(5061),u=n.RangeError,p=n.Int8Array,d=p&&p.prototype,h=d&&d.set,f=s.aTypedArray,g=s.exportTypedArrayMethod,m=!c((function(){var e=new Uint8ClampedArray(2);return i(h,e,{length:1,0:3},1),3!==e[1]})),y=m&&s.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new p(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){f(this);var t=a(arguments.length>1?arguments[1]:void 0,1),r=l(e);if(m)return i(h,this,r,t);var n=this.length,s=o(r),c=0;if(s+t>n)throw u("Wrong length");for(;c<s;)this[t+c]=r[c++]}),!m||y)},6405:function(){!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var r,n;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(r=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n=r.preventDefault,r.preventDefault=function(){n.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},r};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},4324:function(e){window,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";e.exports=function(){var e=/%%|%(?:(\d+)\$)?((?:[-+#0 ]|'[\s\S])*)(\d+)?(?:\.(\d*))?([\s\S])/g,t=arguments,r=0,n=t[r++],i=function(e,t,r,n){r||(r=" ");var i=e.length>=t?"":new Array(1+t-e.length>>>0).join(r);return n?e+i:i+e},s=function(e,t,r,n,s){var o=n-e.length;return o>0&&(e=r||"0"!==s?i(e,n,s,r):[e.slice(0,t.length),i("",o,"0",!0),e.slice(t.length)].join("")),e},o=function(e,t,r,n,o,a){return e=i((e>>>0).toString(t),o||0,"0",!1),s(e,"",r,n,a)},a=function(e,t,r,n,i){return null!=n&&(e=e.slice(0,n)),s(e,"",t,r,i)},l=function(e,n,l,c,u,p){var d,h,f,g,m;if("%%"===e)return"%";var y,v,w=" ",b=!1,x="";for(y=0,v=l.length;y<v;y++)switch(l.charAt(y)){case" ":case"0":w=l.charAt(y);break;case"+":x="+";break;case"-":b=!0;break;case"'":y+1<v&&(w=l.charAt(y+1),y++)}if(c=c?+c:0,!isFinite(c))throw new Error("Width must be finite");if(u=u?+u:"d"===p?0:"fFeE".indexOf(p)>-1?6:void 0,n&&0==+n)throw new Error("Argument number must be greater than zero");if(n&&+n>=t.length)throw new Error("Too few arguments");switch(m=n?t[+n]:t[r++],p){case"%":return"%";case"s":return a(m+"",b,c,u,w);case"c":return a(String.fromCharCode(+m),b,c,u,w);case"b":return o(m,2,b,c,u,w);case"o":return o(m,8,b,c,u,w);case"x":return o(m,16,b,c,u,w);case"X":return o(m,16,b,c,u,w).toUpperCase();case"u":return o(m,10,b,c,u,w);case"i":case"d":return d=+m||0,m=(h=(d=Math.round(d-d%1))<0?"-":x)+i(String(Math.abs(d)),u,"0",!1),b&&"0"===w&&(w=" "),s(m,h,b,c,w);case"e":case"E":case"f":case"F":case"g":case"G":return h=(d=+m)<0?"-":x,f=["toExponential","toFixed","toPrecision"]["efg".indexOf(p.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(p)%2],m=h+Math.abs(d)[f](u),s(m,h,b,c,w)[g]();default:return""}};try{return n.replace(e,l)}catch(e){return!1}}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":n(e)){case"number":return isNaN(e)||!isFinite(e)?0:e<0?Math.ceil(e):Math.floor(e);case"string":return parseInt(e,10)||0;default:return+!!e}}},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var o=s>=0?arguments[s]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return(i?"/":"")+(t=r(n(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var s=t.isAbsolute(e),o="/"===i(e,-1);return(e=r(n(e.split("/"),(function(e){return!!e})),!s).join("/"))||s||(e="."),e&&o&&(e+="/"),(s?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),s=n(r.split("/")),o=Math.min(i.length,s.length),a=o,l=0;l<o;l++)if(i[l]!==s[l]){a=l;break}var c=[];for(l=a;l<i.length;l++)c.push("..");return(c=c.concat(s.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!i){n=s;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,s=0,o=e.length-1;o>=0;--o){var a=e.charCodeAt(o);if(47!==a)-1===n&&(i=!1,n=o+1),46===a?-1===t?t=o:1!==s&&(s=1):-1!==t&&(s=-1);else if(!i){r=o+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===r+1?"":e.slice(t,n)};var i=function(e,t,r){return e.substr(t,r)}}).call(this,r(34))},function(e,t,r){"use strict";e.exports=r(8)()},function(e,t,r){"use strict";e.exports=function e(){var t={VERSION:"1.14.0"};return r(9)(t),r(10)(t),r(11)(t),r(18)(t),r(19)(t),r(20)(t),r(31)(t),r(32)(t),r(35)(t),r(36)(t),r(37)(t),r(38)(t),r(39)(t),r(40)(t),r(41)(t),t.exports.factory=e,t.exports}},function(e,t,r){"use strict";var n=r(0)(r(2));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e.exports=function(e){function t(t,r){if(t.template.options.rethrow)throw"string"==typeof r&&(r=new e.Error(r)),"TwigException"!==r.type||r.file||(r.file=t.template.id),r;if(e.log.error("Error parsing twig template "+t.template.id+": "),r.stack?e.log.error(r.stack):e.log.error(r.toString()),e.debug)return r.toString()}return e.trace=!1,e.debug=!1,e.cache=!0,e.noop=function(){},e.merge=function(e,t,r){return Object.keys(t).forEach((function(n){r&&!(n in e)||(e[n]=t[n])})),e},e.Error=function(e,t){this.message=e,this.name="TwigException",this.type="TwigException",this.file=t},e.Error.prototype.toString=function(){return this.name+": "+this.message},e.log={trace:function(){if(e.trace&&console){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console.log(Array.prototype.slice.call(r))}},debug:function(){if(e.debug&&console){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console.log(Array.prototype.slice.call(r))}}},"undefined"==typeof console?e.log.error=function(){}:void 0!==console.error?e.log.error=function(){var e;(e=console).error.apply(e,arguments)}:void 0!==console.log&&(e.log.error=function(){var e;(e=console).log.apply(e,arguments)}),e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",outputWhitespacePre:"output_whitespace_pre",outputWhitespacePost:"output_whitespace_post",outputWhitespaceBoth:"output_whitespace_both",logicWhitespacePre:"logic_whitespace_pre",logicWhitespacePost:"logic_whitespace_post",logicWhitespaceBoth:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.outputWhitespacePre,open:"{{-",close:"}}"},{type:e.token.type.outputWhitespacePost,open:"{{",close:"-}}"},{type:e.token.type.outputWhitespaceBoth,open:"{{-",close:"-}}"},{type:e.token.type.logicWhitespacePre,open:"{%-",close:"%}"},{type:e.token.type.logicWhitespacePost,open:"{%",close:"-%}"},{type:e.token.type.logicWhitespaceBoth,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(t){var r,n,i,s,o={position:null,def:null},a=null,l=e.token.definitions.length;for(r=0;r<l;r++)n=e.token.definitions[r],i=t.indexOf(n.open),s=t.indexOf(n.close),e.log.trace("Twig.token.findStart: ","Searching for ",n.open," found at ",i),i>=0&&n.open.length!==n.close.length&&s<0||(i>=0&&(null===o.position||i<o.position)?(o.position=i,o.def=n,a=s):i>=0&&null!==o.position&&i===o.position&&(n.open.length>o.def.open.length?(o.position=i,o.def=n,a=s):n.open.length===o.def.open.length&&(n.close.length,o.def.close.length,s>=0&&s<a&&(o.position=i,o.def=n,a=s))));return o},e.token.findEnd=function(t,r,n){for(var i,s,o=null,a=!1,l=0,c=null,u=null,p=null,d=null,h=null,f=null;!a;){if(c=null,u=null,!((p=t.indexOf(r.close,l))>=0))throw new e.Error("Unable to find closing bracket '"+r.close+"' opened near template position "+n);if(o=p,a=!0,r.type===e.token.type.comment)break;if(r.type===e.token.type.raw)break;for(s=e.token.strings.length,i=0;i<s;i+=1)(h=t.indexOf(e.token.strings[i],l))>0&&h<p&&(null===c||h<c)&&(c=h,u=e.token.strings[i]);if(null!==c)for(d=c+1,o=null,a=!1;;){if((f=t.indexOf(u,d))<0)throw e.Error("Unclosed string in template");if("\\"!==t.slice(f-1,f)){l=f+1;break}d=f+1}}return o},e.tokenize=function(t){for(var r=[],n=0,i=null,s=null;t.length>0;)if(i=e.token.findStart(t),e.log.trace("Twig.tokenize: ","Found token: ",i),null===i.position)r.push({type:e.token.type.raw,value:t}),t="";else{if(i.position>0&&r.push({type:e.token.type.raw,value:t.slice(0,Math.max(0,i.position))}),t=t.slice(i.position+i.def.open.length),n+=i.position+i.def.open.length,s=e.token.findEnd(t,i.def,n),e.log.trace("Twig.tokenize: ","Token ends at ",s),r.push({type:i.def.type,value:t.slice(0,Math.max(0,s)).trim()}),"\n"===t.slice(s+i.def.close.length,s+i.def.close.length+1))switch(i.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":s+=1}t=t.slice(s+i.def.close.length),n+=s+i.def.close.length}return r},e.compile=function(t){var r=this;try{for(var n=[],i=[],s=[],o=null,a=null,l=null,c=null,u=null,p=null,d=null,h=null,f=null,g=null,m=null,y=function(t){e.expression.compile.call(r,t),i.length>0?s.push(t):n.push(t)},v=function(t){if(a=e.logic.compile.call(r,t),f=a.type,g=e.logic.handler[f].open,m=e.logic.handler[f].next,e.log.trace("Twig.compile: ","Compiled logic token to ",a," next is: ",m," open is : ",g),void 0!==g&&!g){if(c=i.pop(),!e.logic.handler[c.type].next.includes(f))throw new Error(f+" not expected after a "+c.type);c.output=c.output||[],c.output=c.output.concat(s),s=[],h={type:e.token.type.logic,token:c},i.length>0?s.push(h):n.push(h)}void 0!==m&&m.length>0?(e.log.trace("Twig.compile: ","Pushing ",a," to logic stack."),i.length>0&&((c=i.pop()).output=c.output||[],c.output=c.output.concat(s),i.push(c),s=[]),i.push(a)):void 0!==g&&g&&(h={type:e.token.type.logic,token:a},i.length>0?s.push(h):n.push(h))};t.length>0;){switch(o=t.shift(),u=n[n.length-1],p=s[s.length-1],d=t[0],e.log.trace("Compiling token ",o),o.type){case e.token.type.raw:i.length>0?s.push(o):n.push(o);break;case e.token.type.logic:v.call(r,o);break;case e.token.type.comment:break;case e.token.type.output:y.call(r,o);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:switch(o.type!==e.token.type.outputWhitespacePost&&o.type!==e.token.type.logicWhitespacePost&&(u&&u.type===e.token.type.raw&&(n.pop(),u.value=u.value.trimEnd(),n.push(u)),p&&p.type===e.token.type.raw&&(s.pop(),p.value=p.value.trimEnd(),s.push(p))),o.type){case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:y.call(r,o);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:v.call(r,o)}o.type!==e.token.type.outputWhitespacePre&&o.type!==e.token.type.logicWhitespacePre&&d&&d.type===e.token.type.raw&&(t.shift(),d.value=d.value.trimStart(),t.unshift(d))}e.log.trace("Twig.compile: "," Output: ",n," Logic Stack: ",i," Pending Output: ",s)}if(i.length>0)throw l=i.pop(),new Error("Unable to find an end tag for "+l.type+", expecting one of "+l.next);return n}catch(t){if(r.options.rethrow)throw"TwigException"!==t.type||t.file||(t.file=r.id),t;e.log.error("Error compiling twig template "+r.id+": "),t.stack?e.log.error(t.stack):e.log.error(t.toString())}},e.prepare=function(t){e.log.debug("Twig.prepare: ","Tokenizing ",t);var r=e.tokenize.call(this,t);e.log.debug("Twig.prepare: ","Compiling ",r);var n=e.compile.call(this,r);return e.log.debug("Twig.prepare: ","Compiled ",n),n},e.output=function(t){var r=this.options.autoescape;if(!r)return t.join("");var n="string"==typeof r?r:"html",i=t.map((function(t){return!t||!0===t.twigMarkup||t.twigMarkup===n||"html"===n&&"html_attr"===t.twigMarkup||(t=e.filters.escape(t,[n])),t}));if(0===i.length)return"";var s=i.join("");return 0===s.length?"":new e.Markup(s,!0)},e.Templates={loaders:{},parsers:{},registry:{}},e.validateId=function(t){if("prototype"===t)throw new e.Error(t+" is not a valid twig identifier");if(e.cache&&Object.hasOwnProperty.call(e.Templates.registry,t))throw new e.Error("There is already a template with the ID "+t);return!0},e.Templates.registerLoader=function(t,r,n){if("function"!=typeof r)throw new e.Error("Unable to add loader for "+t+": Invalid function reference given.");n&&(r=r.bind(n)),this.loaders[t]=r},e.Templates.unRegisterLoader=function(e){this.isRegisteredLoader(e)&&delete this.loaders[e]},e.Templates.isRegisteredLoader=function(e){return Object.hasOwnProperty.call(this.loaders,e)},e.Templates.registerParser=function(t,r,n){if("function"!=typeof r)throw new e.Error("Unable to add parser for "+t+": Invalid function regerence given.");n&&(r=r.bind(n)),this.parsers[t]=r},e.Templates.unRegisterParser=function(e){this.isRegisteredParser(e)&&delete this.parsers[e]},e.Templates.isRegisteredParser=function(e){return Object.hasOwnProperty.call(this.parsers,e)},e.Templates.save=function(t){if(void 0===t.id)throw new e.Error("Unable to save template with no id");e.Templates.registry[t.id]=t},e.Templates.load=function(t){return Object.hasOwnProperty.call(e.Templates.registry,t)?e.Templates.registry[t]:null},e.Templates.loadRemote=function(t,r,n,i){var s=void 0===r.id?t:r.id,o=e.Templates.registry[s];return e.cache&&void 0!==o?("function"==typeof n&&n(o),o):(r.parser=r.parser||"twig",r.id=s,void 0===r.async&&(r.async=!0),(this.loaders[r.method]||this.loaders.fs).call(this,t,r,n,i))},e.Block=function(e,t){this.template=e,this.token=t},e.Block.prototype.render=function(t,r){var n=t.template;return t.template=this.template,(this.token.expression?e.expression.parseAsync.call(t,this.token.output,r):t.parseAsync(this.token.output,r)).then((function(n){return e.expression.parseAsync.call(t,{type:e.expression.type.string,value:n},r)})).then((function(e){return t.template=n,e}))},e.ParseState=function(e,t){this.renderedBlocks={},this.overrideBlocks=void 0===t?{}:t,this.context={},this.macros={},this.nestingStack=[],this.template=e},e.ParseState.prototype.getBlock=function(e,t){var r;return!0!==t&&(r=this.overrideBlocks[e]),void 0===r&&(r=this.template.getBlock(e,t)),void 0===r&&null!==this.template.parentTemplate&&(r=this.template.parentTemplate.getBlock(e)),r},e.ParseState.prototype.getBlocks=function(e){var t={};return!1!==e&&null!==this.template.parentTemplate&&this.template.parentTemplate!==this.template&&(t=this.template.parentTemplate.getBlocks()),s(s(s({},t),this.template.getBlocks()),this.overrideBlocks)},e.ParseState.prototype.getNestingStackToken=function(e){var t;return this.nestingStack.forEach((function(r){void 0===t&&r.type===e&&(t=r)})),t},e.ParseState.prototype.parse=function(r,n,i){var s,o=this,a=[],l=null,c=!0,u=!0;function p(e){a.push(e)}function d(e){void 0!==e.chain&&(u=e.chain),void 0!==e.context&&(o.context=e.context),void 0!==e.output&&a.push(e.output)}if(n&&(o.context=n),s=e.async.forEach(r,(function(t){switch(e.log.debug("Twig.ParseState.parse: ","Parsing token: ",t),t.type){case e.token.type.raw:a.push(e.filters.raw(t.value));break;case e.token.type.logic:return e.logic.parseAsync.call(o,t.token,o.context,u).then(d);case e.token.type.comment:break;case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:case e.token.type.output:return e.log.debug("Twig.ParseState.parse: ","Output token: ",t.stack),e.expression.parseAsync.call(o,t.stack,o.context).then(p)}})).then((function(){return a=e.output.call(o.template,a),c=!1,a})).catch((function(e){i&&t(o,e),l=e})),i)return s;if(null!==l)return t(o,l);if(c)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return a},e.Template=function(t){var r,n,i,s=t.data,o=t.id,a=t.base,l=t.path,c=t.url,u=t.name,p=t.method,d=t.options;this.base=a,this.blocks={defined:{},imported:{}},this.id=o,this.method=p,this.name=u,this.options=d,this.parentTemplate=null,this.path=l,this.url=c,r="String",n=s,i=Object.prototype.toString.call(n).slice(8,-1),this.tokens=null!=n&&i===r?e.prepare.call(this,s):s,void 0!==o&&e.Templates.save(this)},e.Template.prototype.getBlock=function(e,t){var r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!0!==t&&(r=this.blocks.defined[e]),n&&void 0===r&&(r=this.blocks.imported[e]),void 0===r&&null!==this.parentTemplate&&(r=this.parentTemplate.getBlock(e,t,n=!1)),r},e.Template.prototype.getBlocks=function(){var e={};return s(s(s({},e),this.blocks.imported),this.blocks.defined)},e.Template.prototype.render=function(t,r,n){var i=this;return r=r||{},e.async.potentiallyAsync(i,n,(function(){var n=new e.ParseState(i,r.blocks);return n.parseAsync(i.tokens,t).then((function(t){var s,o;return null!==i.parentTemplate?(i.options.allowInlineIncludes&&(s=e.Templates.load(i.parentTemplate))&&(s.options=i.options),s||(o=e.path.parsePath(i,i.parentTemplate),s=e.Templates.loadRemote(o,{method:i.getLoaderMethod(),base:i.base,async:!1,id:o,options:i.options})),i.parentTemplate=s,i.parentTemplate.renderAsync(n.context,{blocks:n.getBlocks(!1),isInclude:!0})):!0===r.isInclude?t:t.valueOf()}))}))},e.Template.prototype.importFile=function(t){var r,n=null;if(!this.url&&this.options.allowInlineIncludes){if(t=this.path?e.path.parsePath(this,t):t,!(r=e.Templates.load(t))&&!(r=e.Templates.loadRemote(n,{id:t,method:this.getLoaderMethod(),async:!1,path:t,options:this.options})))throw new e.Error("Unable to find the template "+t);return r.options=this.options,r}return n=e.path.parsePath(this,t),e.Templates.loadRemote(n,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:n})},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(t){return e.compiler.compile(this,t)},e.Markup=function(e,t){if("string"!=typeof e)return e;var r=new String(e);return r.twigMarkup=void 0===t||t,r},e}},function(e,t,r){"use strict";e.exports=function(e){return e.compiler={module:{}},e.compiler.compile=function(t,r){var n=JSON.stringify(t.tokens),i=t.id,s=null;if(r.module){if(void 0===e.compiler.module[r.module])throw new e.Error("Unable to find module type "+r.module);s=e.compiler.module[r.module](i,n,r.twig)}else s=e.compiler.wrap(i,n);return s},e.compiler.module={amd:function(t,r,n){return'define(["'+n+'"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = '+e.compiler.wrap(t,r)+"\n\treturn templates;\n});"},node:function(t,r){return'var twig = require("twig").twig;\nexports.template = '+e.compiler.wrap(t,r)},cjs2:function(t,r,n){return'module.declare([{ twig: "'+n+'" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = '+e.compiler.wrap(t,r)+"\n});"}},e.compiler.wrap=function(e,t){return'twig({id:"'+e.replace('"','\\"')+'", data:'+t+", precompiled: true});\n"},e}},function(e,t,r){"use strict";var n=r(0),i=n(r(1)),s=n(r(12));e.exports=function(e){function t(t,r,n){return r?e.expression.parseAsync.call(t,r,n):e.Promise.resolve(!1)}for(e.expression={},r(17)(e),e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if","matches","starts","ends","with"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.subexpression.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start,e.expression.type.subexpression.start,e.expression.type.operator.unary]},e.expression.set.operationsExtended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets,e.expression.type.slice]),e.expression.fn={compile:{push:function(e,t,r){r.push(e)},pushBoth:function(e,t,r){r.push(e),t.push(e)}},parse:{push:function(e,t){t.push(e)},pushValue:function(e,t){t.push(e.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_]\w*(\s?as)?)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.filter=e.match[2],e.modifier=e.match[1],delete e.match,delete e.value,r.push(e)},parse:function(r,n,i){var s=n.pop();return t(this,r.params,i).then((function(t){var i=e.test(r.filter,s,t);"not"===r.modifier?n.push(!i):n.push(i)}))}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile:function(t,r,n){var i,s=r.length-1;for(delete t.match,delete t.value;s>=0;s--){if((i=r.pop()).type===e.expression.type.object.start||i.type===e.expression.type.parameter.start||i.type===e.expression.type.array.start){r.push(i);break}n.push(i)}n.push(t)}},{type:e.expression.type.number,regex:/^-?\d+(\.\d+)?/,next:e.expression.set.operations,compile:function(e,t,r){e.value=Number(e.value),r.push(e)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.operator.binary,regex:/(^\?\?|^\?:|^(b-and)|^(b-or)|^(b-xor)|^[+\-~%?]|^[:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[(|\s+]|^(or)[(|\s+]|^(in)[(|\s+]|^(not in)[(|\s+]|^(matches)|^(starts with)|^(ends with)|^\.\.)/,next:e.expression.set.expressions,transform:function(e,t){switch(e[0]){case"and(":case"or(":case"in(":case"not in(":return t[t.length-1].value=e[2],e[0];default:return""}},compile:function(t,r,n){delete t.match,t.value=t.value.trim();var i=t.value,s=e.expression.operator.lookup(i,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",s," from ",i);r.length>0&&(r[r.length-1].type===e.expression.type.operator.unary||r[r.length-1].type===e.expression.type.operator.binary)&&(s.associativity===e.expression.operator.leftToRight&&s.precidence>=r[r.length-1].precidence||s.associativity===e.expression.operator.rightToLeft&&s.precidence>r[r.length-1].precidence);){var o=r.pop();n.push(o)}if(":"===i)if(r[r.length-1]&&"?"===r[r.length-1].value);else{var a=n.pop();if(a.type===e.expression.type.string||a.type===e.expression.type.variable)t.key=a.value;else if(a.type===e.expression.type.number)t.key=a.value.toString();else{if(!a.expression||a.type!==e.expression.type.parameter.end&&a.type!==e.expression.type.subexpression.end)throw new e.Error("Unexpected value before ':' of "+a.type+" = "+a.value);t.params=a.params}n.push(t)}else r.push(s)},parse:function(t,r,n){if(t.key)r.push(t);else{if(t.params)return e.expression.parseAsync.call(this,t.params,n).then((function(e){t.key=e,r.push(t),n.loop||delete t.params}));e.expression.operator.parse(t.value,r)}}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile:function(t,r,n){delete t.match,t.value=t.value.trim();var i=t.value,s=e.expression.operator.lookup(i,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",s," from ",i);r.length>0&&(r[r.length-1].type===e.expression.type.operator.unary||r[r.length-1].type===e.expression.type.operator.binary)&&(s.associativity===e.expression.operator.leftToRight&&s.precidence>=r[r.length-1].precidence||s.associativity===e.expression.operator.rightToLeft&&s.precidence>r[r.length-1].precidence);){var o=r.pop();n.push(o)}r.push(s)},parse:function(t,r){e.expression.operator.parse(t.value,r)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operationsExtended,compile:function(t,r,n){var i=t.value;delete t.match,i='"'===i.slice(0,1)?i.replace('\\"','"'):i.replace("\\'","'"),t.value=i.slice(1,-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),n.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.subexpression.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.subexpression.end]),compile:function(e,t,r){e.value="(",r.push(e),t.push(e)},parse:e.expression.fn.parse.push},{type:e.expression.type.subexpression.end,regex:/^\)/,next:e.expression.set.operationsExtended,validate:function(t,r){for(var n=r.length-1,i=!1,s=!1,o=0;!i&&n>=0;){var a=r[n];(i=a.type===e.expression.type.subexpression.start)&&s&&(s=!1,i=!1),a.type===e.expression.type.parameter.start?o++:a.type===e.expression.type.parameter.end?o--:a.type===e.expression.type.subexpression.end&&(s=!0),n--}return i&&0===o},compile:function(t,r,n){var i,s=t;for(i=r.pop();r.length>0&&i.type!==e.expression.type.subexpression.start;)n.push(i),i=r.pop();for(var o=[];t.type!==e.expression.type.subexpression.start;)o.unshift(t),t=n.pop();o.unshift(t),void 0===(i=r[r.length-1])||i.type!==e.expression.type._function&&i.type!==e.expression.type.filter&&i.type!==e.expression.type.test&&i.type!==e.expression.type.key.brackets?(s.expression=!0,o.pop(),o.shift(),s.params=o,n.push(s)):(s.expression=!1,i.params=o)},parse:function(t,r,n){if(t.expression)return e.expression.parseAsync.call(this,t.params,n).then((function(e){r.push(e)}));throw new e.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),validate:function(t,r){var n=r[r.length-1];return n&&!e.expression.reservedWords.includes(n.value.trim())},compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operationsExtended,compile:function(t,r,n){var i,s=t;for(i=r.pop();r.length>0&&i.type!==e.expression.type.parameter.start;)n.push(i),i=r.pop();for(var o=[];t.type!==e.expression.type.parameter.start;)o.unshift(t),t=n.pop();o.unshift(t),void 0===(t=n[n.length-1])||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets?(s.expression=!0,o.pop(),o.shift(),s.params=o,n.push(s)):(s.expression=!1,t.params=o)},parse:function(t,r,n){var i=[],s=!1,o=null;if(t.expression)return e.expression.parseAsync.call(this,t.params,n).then((function(e){r.push(e)}));for(;r.length>0;){if((o=r.pop())&&o.type&&o.type===e.expression.type.parameter.start){s=!0;break}i.unshift(o)}if(!s)throw new e.Error("Expected end of parameter set.");r.push(i)}},{type:e.expression.type.slice,regex:/^\[(\d*:\d*)\]/,next:e.expression.set.operationsExtended,compile:function(e,t,r){var n=e.match[1].split(":"),i=n[0]?parseInt(n[0],10):void 0,s=n[1]?parseInt(n[1],10):void 0;e.value="slice",e.params=[i,s],s||(e.params=[i]),r.push(e)},parse:function(t,r){var n=r.pop(),i=t.params;r.push(e.filter.call(this,t.value,n,i))}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operationsExtended,compile:function(t,r,n){for(var i,s=r.length-1;s>=0&&(i=r.pop()).type!==e.expression.type.array.start;s--)n.push(i);n.push(t)},parse:function(t,r){for(var n=[],i=!1,s=null;r.length>0;){if((s=r.pop())&&s.type&&s.type===e.expression.type.array.start){i=!0;break}n.unshift(s)}if(!i)throw new e.Error("Expected end of array.");r.push(n)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operationsExtended,compile:function(t,r,n){for(var i,s=r.length-1;s>=0&&(!(i=r.pop())||i.type!==e.expression.type.object.start);s--)n.push(i);n.push(t)},parse:function(t,r){for(var n={},i=!1,s=null,o=!1,a=null;r.length>0;){if((s=r.pop())&&s.type&&s.type===e.expression.type.object.start){i=!0;break}if(s&&s.type&&(s.type===e.expression.type.operator.binary||s.type===e.expression.type.operator.unary)&&s.key){if(!o)throw new e.Error("Missing value for key '"+s.key+"' in object definition.");n[s.key]=a,void 0===n._keys&&(n._keys=[]),n._keys.unshift(s.key),a=null,o=!1}else o=!0,a=s}if(!i)throw new e.Error("Unexpected end of object.");r.push(n)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_-]*)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.value=e.match[1],r.push(e)},parse:function(r,n,i){var s=n.pop(),o=this;return t(o,r.params,i).then((function(t){return e.filter.call(o,r.value,s,t)})).then((function(e){n.push(e)}))}},{type:e.expression.type._function,regex:/^([a-zA-Z_]\w*)\s*\(/,next:e.expression.type.parameter.start,validate:function(t){return t[1]&&!e.expression.reservedWords.includes(t[1])},transform:function(){return"("},compile:function(e,t,r){var n=e.match[1];e.fn=n,delete e.match,delete e.value,r.push(e)},parse:function(r,n,i){var o,a=this,l=r.fn;return t(a,r.params,i).then((function(t){if(e.functions[l])o=e.functions[l].apply(a,t);else{if("function"!=typeof i[l])throw new e.Error(l+" function does not exist and is not defined in the context");o=i[l].apply(i,(0,s.default)(t))}return o})).then((function(e){n.push(e)}))}},{type:e.expression.type.variable,regex:/^[a-zA-Z_]\w*/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate:function(t){return!e.expression.reservedWords.includes(t[0])},parse:function(t,r,n){var i=this;return e.expression.resolveAsync.call(i,n[t.value],n).then((function(n){if(i.template.options.strictVariables&&void 0===n)throw new e.Error('Variable "'+t.value+'" does not exist.');r.push(n)}))}},{type:e.expression.type.key.period,regex:/^\.(\w+)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.key=e.match[1],delete e.match,delete e.value,r.push(e)},parse:function(r,n,s,o){var a,l=this,c=r.key,u=n.pop();if(u&&!Object.prototype.hasOwnProperty.call(u,c)&&l.template.options.strictVariables)throw Object.keys(u).length>0?new e.Error('Key "'+c+'" for object with keys "'+Object.keys(u).join(", ")+'" does not exist.'):new e.Error('Key "'+c+'" does not exist as the object is empty.');return t(l,r.params,s).then((function(t){if(null==u)a=void 0;else{var r=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)};a="object"===(0,i.default)(u)&&c in u?u[c]:u["get"+r(c)]?u["get"+r(c)]:u["is"+r(c)]?u["is"+r(c)]:void 0}return e.expression.resolveAsync.call(l,a,s,t,o,u)})).then((function(e){n.push(e)}))}},{type:e.expression.type.key.brackets,regex:/^\[([^\]:]*)\]/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:function(t,r,n){var i=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:i}).stack,n.push(t)},parse:function(r,n,s,o){var a,l,c=this,u=null;return t(c,r.params,s).then((function(t){return u=t,e.expression.parseAsync.call(c,r.stack,s)})).then((function(t){if((a=n.pop())&&!Object.prototype.hasOwnProperty.call(a,t)&&c.template.options.strictVariables){var r=Object.keys(a);throw r.length>0?new e.Error('Key "'+t+'" for array with keys "'+r.join(", ")+'" does not exist.'):new e.Error('Key "'+t+'" does not exist as the array is empty.')}return null==a?null:(l="object"===(0,i.default)(a)&&t in a?a[t]:null,e.expression.resolveAsync.call(c,l,a,u,o))})).then((function(e){n.push(e)}))}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile:function(e,t,r){delete e.match,e.value=null,r.push(e)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse:function(e,t,r){t.push(r)}},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile:function(e,t,r){e.value="true"===e.match[0].toLowerCase(),delete e.match,r.push(e)},parse:e.expression.fn.parse.pushValue}],e.expression.resolveAsync=function(t,r,n,i,s){var o=this;if("function"!=typeof t)return e.Promise.resolve(t);var a=e.Promise.resolve(n);return i&&i.type===e.expression.type.parameter.end&&(a=a.then((function(){return i.params&&e.expression.parseAsync.call(o,i.params,r,!0)})).then((function(e){return i.cleanup=!0,e}))),a.then((function(e){return t.apply(s||r,e||[])}))},e.expression.resolve=function(t,r,n,i,s){return e.async.potentiallyAsync(this,!1,(function(){return e.expression.resolveAsync.call(this,t,r,n,i,s)}))},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){var r,n,i,s,o,a=[],l=0,c=null,u=[],p=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var p=arguments.length-2,d=new Array(p);p-- >0;)d[p]=n[p];if(e.log.trace("Twig.expression.tokenize","Matched a ",r," regular expression of ",d),c&&!c.includes(r))return u.push(r+" cannot follow a "+a[a.length-1].type+" at template:"+l+" near '"+d[0].slice(0,20)+"...'"),d[0];var h=e.expression.handler[r];return h.validate&&!h.validate(d,a)?d[0]:(u=[],a.push({type:r,value:d[0],match:d}),o=!0,c=s,l+=d[0].length,h.transform?h.transform(d,a):"")};for(e.log.debug("Twig.expression.tokenize","Tokenizing expression ",t);t.length>0;){for(r in t=t.trim(),e.expression.handler)if(Object.hasOwnProperty.call(e.expression.handler,r)){if(s=e.expression.handler[r].next,n=e.expression.handler[r].regex,e.log.trace("Checking type ",r," on ",t),o=!1,Array.isArray(n))for(i=n.length;i-- >0;)t=t.replace(n[i],p);else t=t.replace(n,p);if(o)break}if(!o)throw u.length>0?new e.Error(u.join(" OR ")):new e.Error("Unable to parse '"+t+"' at template position"+l)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",a),a},e.expression.compile=function(t){var r=t.value,n=e.expression.tokenize(r),i=null,s=[],o=[],a=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",r);n.length>0;)i=n.shift(),a=e.expression.handler[i.type],e.log.trace("Twig.expression.compile: ","Compiling ",i),a.compile(i,o,s),e.log.trace("Twig.expression.compile: ","Stack is",o),e.log.trace("Twig.expression.compile: ","Output is",s);for(;o.length>0;)s.push(o.pop());return e.log.trace("Twig.expression.compile: ","Final output is",s),t.stack=s,delete t.value,t},e.expression.parse=function(t,r,n,i){var s=this;Array.isArray(t)||(t=[t]);var o=[],a=[],l=e.expression.type.operator.binary;return e.async.potentiallyAsync(s,i,(function(){return e.async.forEach(t,(function(n,i){var c,u=null,p=null;if(!n.cleanup)return t.length>i+1&&(p=t[i+1]),(u=e.expression.handler[n.type]).parse&&(c=u.parse.call(s,n,o,r,p)),n.type===l&&r.loop&&a.push(n),c})).then((function(){for(var e=a.length,t=null;e-- >0;)(t=a[e]).params&&t.key&&delete t.key;if(n){var r=o.splice(0);o.push(r)}return o.pop()}))}))},e}},function(e,t,r){var n=r(13),i=r(14),s=r(15),o=r(16);e.exports=function(e){return n(e)||i(e)||s(e)||o()}},function(e,t,r){var n=r(3);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,r){var n=r(3);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";e.exports=function(e){e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};var t=function(e,t){if(null==t)return null;if(void 0!==t.indexOf)return(e===t||""!==e)&&t.includes(e);var r;for(r in t)if(Object.hasOwnProperty.call(t,r)&&t[r]===e)return!0;return!1};return e.expression.operator.lookup=function(t,r){switch(t){case"..":r.precidence=20,r.associativity=e.expression.operator.leftToRight;break;case",":r.precidence=18,r.associativity=e.expression.operator.leftToRight;break;case"?:":case"?":case":":r.precidence=16,r.associativity=e.expression.operator.rightToLeft;break;case"??":r.precidence=15,r.associativity=e.expression.operator.rightToLeft;break;case"or":r.precidence=14,r.associativity=e.expression.operator.leftToRight;break;case"and":r.precidence=13,r.associativity=e.expression.operator.leftToRight;break;case"b-or":r.precidence=12,r.associativity=e.expression.operator.leftToRight;break;case"b-xor":r.precidence=11,r.associativity=e.expression.operator.leftToRight;break;case"b-and":r.precidence=10,r.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":r.precidence=9,r.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":case"matches":case"starts with":case"ends with":r.precidence=8,r.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":r.precidence=6,r.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":r.precidence=5,r.associativity=e.expression.operator.leftToRight;break;case"not":r.precidence=3,r.associativity=e.expression.operator.rightToLeft;break;default:throw new e.Error("Failed to lookup operator: "+t+" is an unknown operator.")}return r.operator=t,r},e.expression.operator.parse=function(r,n){var i,s,o;if(e.log.trace("Twig.expression.operator.parse: ","Handling ",r),"?"===r&&(o=n.pop()),s=n.pop(),"not"!==r&&(i=n.pop()),"in"!==r&&"not in"!==r&&"??"!==r&&(i&&Array.isArray(i)&&(i=i.length),"?"!==r&&s&&Array.isArray(s)&&(s=s.length)),"matches"===r&&s&&"string"==typeof s){var a=s.match(/^\/(.*)\/([gims]?)$/),l=a[1],c=a[2];s=new RegExp(l,c)}switch(r){case":":break;case"??":void 0===i&&(i=s,s=o,o=void 0),null!=i?n.push(i):n.push(s);break;case"?:":e.lib.boolval(i)?n.push(i):n.push(s);break;case"?":void 0===i&&(i=s,s=o,o=void 0),e.lib.boolval(i)?n.push(s):n.push(o);break;case"+":s=parseFloat(s),i=parseFloat(i),n.push(i+s);break;case"-":s=parseFloat(s),i=parseFloat(i),n.push(i-s);break;case"*":s=parseFloat(s),i=parseFloat(i),n.push(i*s);break;case"/":s=parseFloat(s),i=parseFloat(i),n.push(i/s);break;case"//":s=parseFloat(s),i=parseFloat(i),n.push(Math.floor(i/s));break;case"%":s=parseFloat(s),i=parseFloat(i),n.push(i%s);break;case"~":n.push((null!=i?i.toString():"")+(null!=s?s.toString():""));break;case"not":case"!":n.push(!e.lib.boolval(s));break;case"<":n.push(i<s);break;case"<=":n.push(i<=s);break;case">":n.push(i>s);break;case">=":n.push(i>=s);break;case"===":n.push(i===s);break;case"==":n.push(i==s);break;case"!==":n.push(i!==s);break;case"!=":n.push(i!=s);break;case"or":n.push(e.lib.boolval(i)||e.lib.boolval(s));break;case"b-or":n.push(i|s);break;case"b-xor":n.push(i^s);break;case"and":n.push(e.lib.boolval(i)&&e.lib.boolval(s));break;case"b-and":n.push(i&s);break;case"**":n.push(Math.pow(i,s));break;case"not in":n.push(!t(i,s));break;case"in":n.push(t(i,s));break;case"matches":n.push(s.test(i));break;case"starts with":n.push("string"==typeof i&&0===i.indexOf(s));break;case"ends with":n.push("string"==typeof i&&i.includes(s,i.length-s.length));break;case"..":n.push(e.functions.range(i,s));break;default:throw new e.Error("Failed to parse operator: "+r+" is an unknown operator.")}},e}},function(e,t,r){"use strict";var n=r(0)(r(1));e.exports=function(e){function t(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&r===e}return e.filters={upper:function(e){return"string"!=typeof e?e:e.toUpperCase()},lower:function(e){return"string"!=typeof e?e:e.toLowerCase()},capitalize:function(e){return"string"!=typeof e?e:e.slice(0,1).toUpperCase()+e.toLowerCase().slice(1)},title:function(e){return"string"!=typeof e?e:e.toLowerCase().replace(/(^|\s)([a-z])/g,(function(e,t,r){return t+r.toUpperCase()}))},length:function(t){return e.lib.is("Array",t)||"string"==typeof t?t.length:e.lib.is("Object",t)?void 0===t._keys?Object.keys(t).length:t._keys.length:0},reverse:function(e){if(t("Array",e))return e.reverse();if(t("String",e))return e.split("").reverse().join("");if(t("Object",e)){var r=e._keys||Object.keys(e).reverse();return e._keys=r,e}},sort:function(e){if(t("Array",e))return e.sort();if(t("Object",e)){delete e._keys;var r=Object.keys(e).sort((function(t,r){var n,i;return e[t]>e[r]==!(e[t]<=e[r])?e[t]>e[r]?1:e[t]<e[r]?-1:0:isNaN(n=parseFloat(e[t]))||isNaN(i=parseFloat(e[r]))?"string"==typeof e[t]?e[t]>e[r].toString()?1:e[t]<e[r].toString()?-1:0:"string"==typeof e[r]?e[t].toString()>e[r]?1:e[t].toString()<e[r]?-1:0:null:n>i?1:n<i?-1:0}));return e._keys=r,e}},keys:function(e){if(null!=e){var t=e._keys||Object.keys(e),r=[];return t.forEach((function(t){"_keys"!==t&&Object.hasOwnProperty.call(e,t)&&r.push(t)})),r}},url_encode:function(t){if(null!=t){if(e.lib.is("Object",t))return function t(r,n){var i=[];return(r._keys||Object.keys(r)).forEach((function(s){if(Object.prototype.hasOwnProperty.call(r,s)){var o=n?n+"["+s+"]":s,a=r[s];i.push(e.lib.is("Object",a)||Array.isArray(a)?t(a,o):encodeURIComponent(o)+"="+encodeURIComponent(a))}})),i.join("&amp;")}(t);var r=encodeURIComponent(t);return r.replace("'","%27")}},join:function(e,r){if(null!=e){var n="",i=[];return r&&r[0]&&(n=r[0]),t("Array",e)?i=e:(e._keys||Object.keys(e)).forEach((function(t){"_keys"!==t&&Object.hasOwnProperty.call(e,t)&&i.push(e[t])})),i.join(n)}},default:function(t,r){if(void 0!==r&&r.length>1)throw new e.Error("default filter expects one argument");return null==t||""===t?void 0===r?"":r[0]:t},json_encode:function(r){if(null==r)return"null";if("object"===(0,n.default)(r)&&t("Array",r)){var i=[];return r.forEach((function(t){i.push(e.filters.json_encode(t))})),"["+i.join(",")+"]"}if("object"===(0,n.default)(r)&&t("Date",r))return'"'+r.toISOString()+'"';if("object"===(0,n.default)(r)){var s=r._keys||Object.keys(r),o=[];return s.forEach((function(t){o.push(JSON.stringify(t)+":"+e.filters.json_encode(r[t]))})),"{"+o.join(",")+"}"}return JSON.stringify(r)},merge:function(r,n){var i=[],s=0;if(t("Array",r)?n.forEach((function(e){t("Array",e)||(i={})})):i={},t("Array",i)||(i._keys=[]),t("Array",r)?r.forEach((function(e){i._keys&&i._keys.push(s),i[s]=e,s++})):(r._keys||Object.keys(r)).forEach((function(e){i[e]=r[e],i._keys.push(e);var t=parseInt(e,10);!isNaN(t)&&t>=s&&(s=t+1)})),n.forEach((function(e){t("Array",e)?e.forEach((function(e){i._keys&&i._keys.push(s),i[s]=e,s++})):(e._keys||Object.keys(e)).forEach((function(t){i[t]||i._keys.push(t),i[t]=e[t];var r=parseInt(t,10);!isNaN(r)&&r>=s&&(s=r+1)}))})),0===n.length)throw new e.Error("Filter merge expects at least one parameter");return i},date:function(t,r){var n=e.functions.date(t),i=r&&Boolean(r.length)?r[0]:"F j, Y H:i";return e.lib.date(i.replace(/\\\\/g,"\\"),n)},date_modify:function(t,r){if(null!=t){if(void 0===r||1!==r.length)throw new e.Error("date_modify filter expects 1 argument");var n,i=r[0];return e.lib.is("Date",t)&&(n=e.lib.strtotime(i,t.getTime()/1e3)),e.lib.is("String",t)&&(n=e.lib.strtotime(i,e.lib.strtotime(t))),e.lib.is("Number",t)&&(n=e.lib.strtotime(i,t)),new Date(1e3*n)}},replace:function(t,r){if(null!=t){var n,i=r[0];for(n in i)Object.hasOwnProperty.call(i,n)&&"_keys"!==n&&(t=e.lib.replaceAll(t,n,i[n]));return t}},format:function(t,r){if(null!=t)return e.lib.vsprintf(t,r)},striptags:function(t,r){if(null!=t)return e.lib.stripTags(t,r)},escape:function(t,r){if(null!=t&&""!==t){var n="html";if(r&&Boolean(r.length)&&!0!==r[0]&&(n=r[0]),"html"===n){var i=t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return new e.Markup(i,"html")}if("js"===n){for(var s=t.toString(),o="",a=0;a<s.length;a++)if(s[a].match(/^[a-zA-Z0-9,._]$/))o+=s[a];else{var l=s.charAt(a),c=s.charCodeAt(a),u={"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};o+=u[l]?u[l]:e.lib.sprintf("\\u%04s",c.toString(16).toUpperCase())}return new e.Markup(o,"js")}if("css"===n){for(var p=t.toString(),d="",h=0;h<p.length;h++)p[h].match(/^[a-zA-Z0-9]$/)?d+=p[h]:d+="\\"+p.charCodeAt(h).toString(16).toUpperCase()+" ";return new e.Markup(d,"css")}if("url"===n){var f=e.filters.url_encode(t);return new e.Markup(f,"url")}if("html_attr"===n){for(var g=t.toString(),m="",y=0;y<g.length;y++)if(g[y].match(/^[a-zA-Z0-9,.\-_]$/))m+=g[y];else if(g[y].match(/^[&<>"]$/))m+=g[y].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{var v=g.charCodeAt(y);m+=v<=31&&9!==v&&10!==v&&13!==v?"&#xFFFD;":v<128?e.lib.sprintf("&#x%02s;",v.toString(16).toUpperCase()):e.lib.sprintf("&#x%04s;",v.toString(16).toUpperCase())}return new e.Markup(m,"html_attr")}throw new e.Error("escape strategy unsupported")}},e:function(t,r){return e.filters.escape(t,r)},nl2br:function(t){if(null!=t&&""!==t){var r="<br />BACKSLASH_n_replace";return t=e.filters.escape(t).replace(/\r\n/g,r).replace(/\r/g,r).replace(/\n/g,r),t=e.lib.replaceAll(t,"BACKSLASH_n_replace","\n"),new e.Markup(t)}},number_format:function(e,t){var r=e,n=t&&t[0]?t[0]:void 0,i=t&&void 0!==t[1]?t[1]:".",s=t&&void 0!==t[2]?t[2]:",";r=String(r).replace(/[^0-9+\-Ee.]/g,"");var o=isFinite(Number(r))?Number(r):0,a=isFinite(Number(n))?Math.abs(n):0,l="";return(l=(a?function(e,t){var r=Math.pow(10,t);return String(Math.round(e*r)/r)}(o,a):String(Math.round(o))).split("."))[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),(l[1]||"").length<a&&(l[1]=l[1]||"",l[1]+=new Array(a-l[1].length+1).join("0")),l.join(i)},trim:function(e,t){if(null!=e){var r,n=String(e);r=t&&t[0]?String(t[0]):" \n\r\t\f\vÂ ââââââââââââ\u2028\u2029ã";for(var i=0;i<n.length;i++)if(!r.includes(n.charAt(i))){n=n.slice(Math.max(0,i));break}for(var s=n.length-1;s>=0;s--)if(!r.includes(n.charAt(s))){n=n.slice(0,Math.max(0,s+1));break}return r.includes(n.charAt(0))?"":n}},truncate:function(e,t){var r=30,n=!1,i="...";if(e=String(e),t&&(t[0]&&(r=t[0]),t[1]&&(n=t[1]),t[2]&&(i=t[2])),e.length>r){if(n&&-1===(r=e.indexOf(" ",r)))return e;e=e.slice(0,r)+i}return e},slice:function(t,r){if(null!=t){if(void 0===r||0===r.length)throw new e.Error("slice filter expects at least 1 argument");var n=r[0]||0,i=r.length>1?r[1]:t.length,s=n>=0?n:Math.max(t.length+n,0);if(e.lib.is("Array",t)){for(var o=[],a=s;a<s+i&&a<t.length;a++)o.push(t[a]);return o}if(e.lib.is("String",t))return t.slice(s,s+i);throw new e.Error("slice filter expects value to be an array or string")}},abs:function(e){if(null!=e)return Math.abs(e)},first:function(e){if(t("Array",e))return e[0];if(t("Object",e)){if("_keys"in e)return e[e._keys[0]]}else if("string"==typeof e)return e.slice(0,1)},split:function(t,r){if(null!=t){if(void 0===r||0===r.length||r.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){var n=r[0],i=r[1],s=t.split(n);if(void 0===i)return s;if(i<0)return t.split(n,s.length+i);var o=[];if(""===n)for(;s.length>0;){for(var a="",l=0;l<i&&s.length>0;l++)a+=s.shift();o.push(a)}else{for(var c=0;c<i-1&&s.length>0;c++)o.push(s.shift());s.length>0&&o.push(s.join(n))}return o}throw new e.Error("split filter expects value to be a string")}},last:function(t){var r;return e.lib.is("Object",t)?t[(r=void 0===t._keys?Object.keys(t):t._keys)[r.length-1]]:e.lib.is("Number",t)?t.toString().slice(-1):t[t.length-1]},raw:function(t){return new e.Markup(t||"")},batch:function(t,r){var n,i,s=r.shift(),o=r.shift();if(!e.lib.is("Array",t))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",s))throw new e.Error("batch filter expects size to be a number");s=Math.ceil(s);var a=e.lib.chunkArray(t,s);if(o&&t.length%s!=0){for(i=s-(n=a.pop()).length;i--;)n.push(o);a.push(n)}return a},round:function(t,r){var n=(r=r||[]).length>0?r[0]:0,i=r.length>1?r[1]:"common";if(t=parseFloat(t),n&&!e.lib.is("Number",n))throw new e.Error("round filter expects precision to be a number");if("common"===i)return e.lib.round(t,n);if(!e.lib.is("Function",Math[i]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[i](t*Math.pow(10,n))/Math.pow(10,n)},spaceless:function(e){return e.replace(/>\s+</g,"><").trim()}},e.filter=function(t,r,n){if(!e.filters[t])throw new e.Error("Unable to find filter "+t);return e.filters[t].call(this,r,n)},e.filter.extend=function(t,r){e.filters[t]=r},e}},function(e,t,r){"use strict";var n=r(0)(r(1));e.exports=function(t){return t.functions={range:function(e,t,r){var n,i,s=[],o=r||1,a=!1;if(isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(a=!0,n=e.charCodeAt(0),i=t.charCodeAt(0)):(n=isNaN(e)?0:e,i=isNaN(t)?0:t):(n=parseInt(e,10),i=parseInt(t,10)),n>i)for(;n>=i;)s.push(a?String.fromCharCode(n):n),n-=o;else for(;n<=i;)s.push(a?String.fromCharCode(n):n),n+=o;return s},cycle:function(e,t){return e[t%e.length]},dump:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=[].concat(t),s=this,o="\n",a="  ",l=0,c="",u=function(e){for(var t="";e>0;)e--,t+=a;return t},p=function(e){c+=u(l),"object"===(0,n.default)(e)?d(e):"function"==typeof e?c+="function()"+o:"string"==typeof e?c+="string("+e.length+') "'+e+'"'+o:"number"==typeof e?c+="number("+e+")"+o:"boolean"==typeof e&&(c+="bool("+e+")"+o)},d=function(e){var t;if(null===e)c+="NULL"+o;else if(void 0===e)c+="undefined"+o;else if("object"===(0,n.default)(e)){for(t in c+=u(l)+(0,n.default)(e),l++,c+="("+function(e){var t,r=0;for(t in e)Object.hasOwnProperty.call(e,t)&&r++;return r}(e)+") {"+o,e)Object.hasOwnProperty.call(e,t)&&(c+=u(l)+"["+t+"]=> "+o,p(e[t]));l--,c+=u(l)+"}"+o}else p(e)};return 0===i.length&&i.push(s.context),i.forEach((function(e){d(e)})),c},date:function(e){var r;if(null==e||""===e)r=new Date;else if(t.lib.is("Date",e))r=e;else if(t.lib.is("String",e))r=e.match(/^\d+$/)?new Date(1e3*e):new Date(1e3*t.lib.strtotime(e));else{if(!t.lib.is("Number",e))throw new t.Error("Unable to parse date "+e);r=new Date(1e3*e)}return r},block:function(e){var t=this.getBlock(e);if(void 0!==t)return t.render(this,this.context)},parent:function(){return this.getBlock(this.getNestingStackToken(t.logic.type.block).blockName,!0).render(this,this.context)},attribute:function(e,r,n){return t.lib.is("Object",e)&&Object.hasOwnProperty.call(e,r)?"function"==typeof e[r]?e[r].apply(void 0,n):e[r]:e&&e[r]||void 0},max:function(e){if(t.lib.is("Object",e))return delete e._keys,t.lib.max(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Reflect.apply(t.lib.max,null,[e].concat(n))},min:function(e){if(t.lib.is("Object",e))return delete e._keys,t.lib.min(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Reflect.apply(t.lib.min,null,[e].concat(n))},template_from_string:function(e){return void 0===e&&(e=""),t.Templates.parsers.twig({options:this.template.options,data:e})},random:function(e){function r(e){var t=Math.floor(2147483648*Math.random()),r=Math.min.call(null,0,e),n=Math.max.call(null,0,e);return r+Math.floor((n-r+1)*t/2147483648)}if(t.lib.is("Number",e))return r(e);if(t.lib.is("String",e))return e.charAt(r(e.length-1));if(t.lib.is("Array",e))return e[r(e.length-1)];if(t.lib.is("Object",e)){var n=Object.keys(e);return e[n[r(n.length-1)]]}return r(2147483647)},source:function(r,n){var i,s=!1,o={id:r,path:r,method:void 0!==e.exports&&"undefined"==typeof window?"fs":"ajax",parser:"source",async:!1,fetchTemplateSource:!0};void 0===n&&(n=!1);try{null==(i=t.Templates.loadRemote(r,o))?i="":s=!0}catch(e){t.log.debug("Twig.functions.source: ","Problem loading template  ",e)}return s||n?i:'Template "{name}" is not defined.'.replace("{name}",r)}},t._function=function(e,r,n){if(!t.functions[e])throw new t.Error("Unable to find function "+e);return t.functions[e](r,n)},t._function.extend=function(e,r){t.functions[e]=r},t}},function(e,t,r){"use strict";e.exports=function(e){return e.lib={},e.lib.sprintf=r(4),e.lib.vsprintf=r(21),e.lib.round=r(22),e.lib.max=r(24),e.lib.min=r(25),e.lib.stripTags=r(26),e.lib.strtotime=r(28),e.lib.date=r(29),e.lib.boolval=r(30),e.lib.is=function(e,t){if(null==t)return!1;switch(e){case"Array":return Array.isArray(t);case"Date":return t instanceof Date;case"String":return"string"==typeof t||t instanceof String;case"Number":return"number"==typeof t||t instanceof Number;case"Function":return"function"==typeof t;case"Object":return t instanceof Object;default:return!1}},e.lib.replaceAll=function(e,t,r){var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return e.replace(new RegExp(n,"g"),r)},e.lib.chunkArray=function(e,t){var r=[],n=0,i=e.length;if(t<1||!Array.isArray(e))return[];for(;n<i;)r.push(e.slice(n,n+=t));return r},e}},function(e,t,r){"use strict";e.exports=function(e,t){return r(4).apply(this,[e].concat(t))}},function(e,t,r){"use strict";function n(e,t){var r=Math.floor(Math.abs(e)+.5);return("PHP_ROUND_HALF_DOWN"===t&&e===r-.5||"PHP_ROUND_HALF_EVEN"===t&&e===.5+2*Math.floor(r/2)||"PHP_ROUND_HALF_ODD"===t&&e===.5+2*Math.floor(r/2)-1)&&(r-=1),e<0?-r:r}e.exports=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"PHP_ROUND_HALF_UP",o=r(23),a=r(5);if(e=o(e),i=a(i),t=Math.pow(10,i),isNaN(e)||!isFinite(e))return e;if(Math.trunc(e)===e&&i>=0)return e;var l=14-Math.floor(Math.log10(Math.abs(e)));return l>i&&l-15<i?(e=n(e*Math.pow(10,l),s),e/=Math.pow(10,Math.abs(i-l))):e*=t,(e=n(e,s))/t}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":n(e)){case"number":return e;case"string":return parseFloat(e)||0;default:return r(5)(e)}}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){var e,t,r=0,i=0,s=arguments,o=s.length,a=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},l=function e(t,r){var i=0,s=0,o=0,l=0,c=0;if(t===r)return 0;if("object"===(void 0===t?"undefined":n(t))){if("object"===(void 0===r?"undefined":n(r))){if(t=a(t),r=a(r),c=t.length,(l=r.length)>c)return 1;if(l<c)return-1;for(i=0,s=c;i<s;++i){if(1===(o=e(t[i],r[i])))return 1;if(-1===o)return-1}return 0}return-1}return"object"===(void 0===r?"undefined":n(r))?1:isNaN(r)&&!isNaN(t)?0===t?0:t<0?1:-1:isNaN(t)&&!isNaN(r)?0===r?0:r>0?1:-1:r===t?0:r>t?1:-1};if(0===o)throw new Error("At least one value should be passed to max()");if(1===o){if("object"!==n(s[0]))throw new Error("Wrong parameter count for max()");if(0===(e=a(s[0])).length)throw new Error("Array must contain at least one element for max()")}else e=s;for(t=e[0],r=1,i=e.length;r<i;++r)1===l(t,e[r])&&(t=e[r]);return t}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){var e,t,r=0,i=0,s=arguments,o=s.length,a=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},l=function e(t,r){var i=0,s=0,o=0,l=0,c=0;if(t===r)return 0;if("object"===(void 0===t?"undefined":n(t))){if("object"===(void 0===r?"undefined":n(r))){if(t=a(t),r=a(r),c=t.length,(l=r.length)>c)return 1;if(l<c)return-1;for(i=0,s=c;i<s;++i){if(1===(o=e(t[i],r[i])))return 1;if(-1===o)return-1}return 0}return-1}return"object"===(void 0===r?"undefined":n(r))?1:isNaN(r)&&!isNaN(t)?0===t?0:t<0?1:-1:isNaN(t)&&!isNaN(r)?0===r?0:r>0?1:-1:r===t?0:r>t?1:-1};if(0===o)throw new Error("At least one value should be passed to min()");if(1===o){if("object"!==n(s[0]))throw new Error("Wrong parameter count for min()");if(0===(e=a(s[0])).length)throw new Error("Array must contain at least one element for min()")}else e=s;for(t=e[0],r=1,i=e.length;r<i;++r)-1===l(t,e[r])&&(t=e[r]);return t}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(27);t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var i=/<\/?([a-z0-9]*)\b[^>]*>?/gi,s=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,o=n(e);for(o="<"===o.substring(o.length-1)?o.substring(0,o.length-1):o;;){var a=o;if(o=a.replace(s,"").replace(i,(function(e,r){return t.indexOf("<"+r.toLowerCase()+">")>-1?e:""})),a===o)return o}}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":n(e)){case"boolean":return e?"1":"";case"string":return e;case"number":return isNaN(e)?"NAN":isFinite(e)?e+"":(e<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(e)?"Array":null!==e?"Object":"";default:throw new Error("Unsupported value type")}}},function(e,t,r){"use strict";var n="(?:([ap])\\.?m\\.?([\\t ]|$))",i="(2[0-4]|[01]?[0-9])",s="([01][0-9]|2[0-4])",o="(0?[1-9]|1[0-2])",a="([0-5]?[0-9])",l="([0-5][0-9])",c="(60|[0-5]?[0-9])",u="(60|[0-5][0-9])",p="sunday|monday|tuesday|wednesday|thursday|friday|saturday",d=p+"|sun|mon|tue|wed|thu|fri|sat|weekdays?",h="first|second|third|fourth|fifth|sixth|seventh|eighth?|ninth|tenth|eleventh|twelfth",f="(?:second|sec|minute|min|hour|day|fortnight|forthnight|month|year)s?|weeks|"+d,g="([0-9]{1,4})",m="([0-9]{4})",y="(1[0-2]|0?[0-9])",v="(0[0-9]|1[0-2])",w="(?:(3[01]|[0-2]?[0-9])(?:st|nd|rd|th)?)",b="(0[0-9]|[1-2][0-9]|3[01])",x="january|february|march|april|may|june|july|august|september|october|november|december",_="jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec",S="("+x+"|"+_+"|i[vx]|vi{0,3}|xi{0,2}|i{1,3})",k="((?:GMT)?([+-])"+i+":?"+a+"?)",T=S+"[ .\\t-]*"+w+"[,.stndrh\\t ]*";function E(e,t){switch(t=t&&t.toLowerCase()){case"a":e+=12===e?-12:0;break;case"p":e+=12!==e?12:0}return e}function C(e){var t=+e;return e.length<4&&t<100&&(t+=t<70?2e3:1900),t}function P(e){return{jan:0,january:0,i:0,feb:1,february:1,ii:1,mar:2,march:2,iii:2,apr:3,april:3,iv:3,may:4,v:4,jun:5,june:5,vi:5,jul:6,july:6,vii:6,aug:7,august:7,viii:7,sep:8,sept:8,september:8,ix:8,oct:9,october:9,x:9,nov:10,november:10,xi:10,dec:11,december:11,xii:11}[e.toLowerCase()]}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{mon:1,monday:1,tue:2,tuesday:2,wed:3,wednesday:3,thu:4,thursday:4,fri:5,friday:5,sat:6,saturday:6,sun:0,sunday:0}[e.toLowerCase()]||t}function A(e,t){if(!(e=e&&e.match(/(?:GMT)?([+-])(\d+)(:?)(\d{0,2})/i)))return t;var r="-"===e[1]?1:-1,n=+e[2],i=+e[4];return e[4]||e[3]||(i=Math.floor(n%100),n=Math.floor(n/100)),r*(60*n+i)}var j={yesterday:{regex:/^yesterday/i,name:"yesterday",callback:function(){return this.rd-=1,this.resetTime()}},now:{regex:/^now/i,name:"now"},noon:{regex:/^noon/i,name:"noon",callback:function(){return this.resetTime()&&this.time(12,0,0,0)}},midnightOrToday:{regex:/^(midnight|today)/i,name:"midnight | today",callback:function(){return this.resetTime()}},tomorrow:{regex:/^tomorrow/i,name:"tomorrow",callback:function(){return this.rd+=1,this.resetTime()}},timestamp:{regex:/^@(-?\d+)/i,name:"timestamp",callback:function(e,t){return this.rs+=+t,this.y=1970,this.m=0,this.d=1,this.dates=0,this.resetTime()&&this.zone(0)}},firstOrLastDay:{regex:/^(first|last) day of/i,name:"firstdayof | lastdayof",callback:function(e,t){"first"===t.toLowerCase()?this.firstOrLastDayOfMonth=1:this.firstOrLastDayOfMonth=-1}},backOrFrontOf:{regex:RegExp("^(back|front) of "+i+"[ \\t]*"+n+"?","i"),name:"backof | frontof",callback:function(e,t,r,n){var i=+r,s=15;return"back"===t.toLowerCase()||(i-=1,s=45),i=E(i,n),this.resetTime()&&this.time(i,s,0,0)}},weekdayOf:{regex:RegExp("^("+h+"|next|last|previous|this)[ \\t]+("+p+"|sun|mon|tue|wed|thu|fri|sat)[ \\t]+of","i"),name:"weekdayof"},mssqltime:{regex:RegExp("^"+o+":"+l+":"+u+"[:.]([0-9]+)"+n,"i"),name:"mssqltime",callback:function(e,t,r,n,i,s){return this.time(E(+t,s),+r,+n,+i.substr(0,3))}},timeLong12:{regex:RegExp("^"+o+"[:.]"+a+"[:.]"+u+"[ \\t]*"+n,"i"),name:"timelong12",callback:function(e,t,r,n,i){return this.time(E(+t,i),+r,+n,0)}},timeShort12:{regex:RegExp("^"+o+"[:.]"+l+"[ \\t]*"+n,"i"),name:"timeshort12",callback:function(e,t,r,n){return this.time(E(+t,n),+r,0,0)}},timeTiny12:{regex:RegExp("^"+o+"[ \\t]*"+n,"i"),name:"timetiny12",callback:function(e,t,r){return this.time(E(+t,r),0,0,0)}},soap:{regex:RegExp("^"+m+"-"+v+"-"+b+"T"+s+":"+l+":"+u+"(?:\\.([0-9]+))"+k+"?","i"),name:"soap",callback:function(e,t,r,n,i,s,o,a,l){return this.ymd(+t,r-1,+n)&&this.time(+i,+s,+o,+a.substr(0,3))&&this.zone(A(l))}},wddx:{regex:RegExp("^"+m+"-"+y+"-"+w+"T"+i+":"+a+":"+c),name:"wddx",callback:function(e,t,r,n,i,s,o){return this.ymd(+t,r-1,+n)&&this.time(+i,+s,+o,0)}},exif:{regex:RegExp("^"+m+":"+v+":"+b+" "+s+":"+l+":"+u,"i"),name:"exif",callback:function(e,t,r,n,i,s,o){return this.ymd(+t,r-1,+n)&&this.time(+i,+s,+o,0)}},xmlRpc:{regex:RegExp("^"+m+v+b+"T"+i+":"+l+":"+u),name:"xmlrpc",callback:function(e,t,r,n,i,s,o){return this.ymd(+t,r-1,+n)&&this.time(+i,+s,+o,0)}},xmlRpcNoColon:{regex:RegExp("^"+m+v+b+"[Tt]"+i+l+u),name:"xmlrpcnocolon",callback:function(e,t,r,n,i,s,o){return this.ymd(+t,r-1,+n)&&this.time(+i,+s,+o,0)}},clf:{regex:RegExp("^"+w+"/("+_+")/"+m+":"+s+":"+l+":"+u+"[ \\t]+"+k,"i"),name:"clf",callback:function(e,t,r,n,i,s,o,a){return this.ymd(+n,P(r),+t)&&this.time(+i,+s,+o,0)&&this.zone(A(a))}},iso8601long:{regex:RegExp("^t?"+i+"[:.]"+a+"[:.]"+c+"(?:\\.([0-9]+))","i"),name:"iso8601long",callback:function(e,t,r,n,i){return this.time(+t,+r,+n,+i.substr(0,3))}},dateTextual:{regex:RegExp("^"+S+"[ .\\t-]*"+w+"[,.stndrh\\t ]+"+g,"i"),name:"datetextual",callback:function(e,t,r,n){return this.ymd(C(n),P(t),+r)}},pointedDate4:{regex:RegExp("^"+w+"[.\\t-]"+y+"[.-]"+m),name:"pointeddate4",callback:function(e,t,r,n){return this.ymd(+n,r-1,+t)}},pointedDate2:{regex:RegExp("^"+w+"[.\\t]"+y+"\\.([0-9]{2})"),name:"pointeddate2",callback:function(e,t,r,n){return this.ymd(C(n),r-1,+t)}},timeLong24:{regex:RegExp("^t?"+i+"[:.]"+a+"[:.]"+c),name:"timelong24",callback:function(e,t,r,n){return this.time(+t,+r,+n,0)}},dateNoColon:{regex:RegExp("^"+m+v+b),name:"datenocolon",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},pgydotd:{regex:RegExp("^"+m+"\\.?(00[1-9]|0[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6])"),name:"pgydotd",callback:function(e,t,r){return this.ymd(+t,0,+r)}},timeShort24:{regex:RegExp("^t?"+i+"[:.]"+a,"i"),name:"timeshort24",callback:function(e,t,r){return this.time(+t,+r,0,0)}},iso8601noColon:{regex:RegExp("^t?"+s+l+u,"i"),name:"iso8601nocolon",callback:function(e,t,r,n){return this.time(+t,+r,+n,0)}},iso8601dateSlash:{regex:RegExp("^"+m+"/"+v+"/"+b+"/"),name:"iso8601dateslash",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},dateSlash:{regex:RegExp("^"+m+"/"+y+"/"+w),name:"dateslash",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},american:{regex:RegExp("^"+y+"/"+w+"/"+g),name:"american",callback:function(e,t,r,n){return this.ymd(C(n),t-1,+r)}},americanShort:{regex:RegExp("^"+y+"/"+w),name:"americanshort",callback:function(e,t,r){return this.ymd(this.y,t-1,+r)}},gnuDateShortOrIso8601date2:{regex:RegExp("^"+g+"-"+y+"-"+w),name:"gnudateshort | iso8601date2",callback:function(e,t,r,n){return this.ymd(C(t),r-1,+n)}},iso8601date4:{regex:RegExp("^([+-]?[0-9]{4})-"+v+"-"+b),name:"iso8601date4",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},gnuNoColon:{regex:RegExp("^t?"+s+l,"i"),name:"gnunocolon",callback:function(e,t,r){switch(this.times){case 0:return this.time(+t,+r,0,this.f);case 1:return this.y=100*t+ +r,this.times++,!0;default:return!1}}},gnuDateShorter:{regex:RegExp("^"+m+"-"+y),name:"gnudateshorter",callback:function(e,t,r){return this.ymd(+t,r-1,1)}},pgTextReverse:{regex:RegExp("^(\\d{3,4}|[4-9]\\d|3[2-9])-("+_+")-"+b,"i"),name:"pgtextreverse",callback:function(e,t,r,n){return this.ymd(C(t),P(r),+n)}},dateFull:{regex:RegExp("^"+w+"[ \\t.-]*"+S+"[ \\t.-]*"+g,"i"),name:"datefull",callback:function(e,t,r,n){return this.ymd(C(n),P(r),+t)}},dateNoDay:{regex:RegExp("^"+S+"[ .\\t-]*"+m,"i"),name:"datenoday",callback:function(e,t,r){return this.ymd(+r,P(t),1)}},dateNoDayRev:{regex:RegExp("^"+m+"[ .\\t-]*"+S,"i"),name:"datenodayrev",callback:function(e,t,r){return this.ymd(+t,P(r),1)}},pgTextShort:{regex:RegExp("^("+_+")-"+b+"-"+g,"i"),name:"pgtextshort",callback:function(e,t,r,n){return this.ymd(C(n),P(t),+r)}},dateNoYear:{regex:RegExp("^"+T,"i"),name:"datenoyear",callback:function(e,t,r){return this.ymd(this.y,P(t),+r)}},dateNoYearRev:{regex:RegExp("^"+w+"[ .\\t-]*"+S,"i"),name:"datenoyearrev",callback:function(e,t,r){return this.ymd(this.y,P(r),+t)}},isoWeekDay:{regex:RegExp("^"+m+"-?W(0[1-9]|[1-4][0-9]|5[0-3])(?:-?([0-7]))?"),name:"isoweekday | isoweek",callback:function(e,t,r,n){if(n=n?+n:1,!this.ymd(+t,0,1))return!1;var i=new Date(this.y,this.m,this.d).getDay();i=0-(i>4?i-7:i),this.rd+=i+7*(r-1)+n}},relativeText:{regex:RegExp("^("+h+"|next|last|previous|this)[ \\t]+("+f+")","i"),name:"relativetext",callback:function(e,t,r){var n={last:-1,previous:-1,this:0,first:1,next:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eight:8,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12}[t.toLowerCase()];switch(r.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=n;break;case"min":case"mins":case"minute":case"minutes":this.ri+=n;break;case"hour":case"hours":this.rh+=n;break;case"day":case"days":this.rd+=n;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*n;break;case"week":case"weeks":this.rd+=7*n;break;case"month":case"months":this.rm+=n;break;case"year":case"years":this.ry+=n;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=O(r,7),this.weekdayBehavior=1,this.rd+=7*(n>0?n-1:n)}}},relative:{regex:RegExp("^([+-]*)[ \\t]*(\\d+)[ \\t]*("+f+"|week)","i"),name:"relative",callback:function(e,t,r,n){var i=t.replace(/[^-]/g,"").length,s=+r*Math.pow(-1,i);switch(n.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=s;break;case"min":case"mins":case"minute":case"minutes":this.ri+=s;break;case"hour":case"hours":this.rh+=s;break;case"day":case"days":this.rd+=s;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*s;break;case"week":case"weeks":this.rd+=7*s;break;case"month":case"months":this.rm+=s;break;case"year":case"years":this.ry+=s;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=O(n,7),this.weekdayBehavior=1,this.rd+=7*(s>0?s-1:s)}}},dayText:{regex:RegExp("^("+d+")","i"),name:"daytext",callback:function(e,t){this.resetTime(),this.weekday=O(t,0),2!==this.weekdayBehavior&&(this.weekdayBehavior=1)}},relativeTextWeek:{regex:RegExp("^(next|last|previous|this)[ \\t]+week","i"),name:"relativetextweek",callback:function(e,t){switch(this.weekdayBehavior=2,t.toLowerCase()){case"this":this.rd+=0;break;case"next":this.rd+=7;break;case"last":case"previous":this.rd-=7}isNaN(this.weekday)&&(this.weekday=1)}},monthFullOrMonthAbbr:{regex:RegExp("^("+x+"|"+_+")","i"),name:"monthfull | monthabbr",callback:function(e,t){return this.ymd(this.y,P(t),this.d)}},tzCorrection:{regex:RegExp("^"+k,"i"),name:"tzcorrection",callback:function(e){return this.zone(A(e))}},ago:{regex:/^ago/i,name:"ago",callback:function(){this.ry=-this.ry,this.rm=-this.rm,this.rd=-this.rd,this.rh=-this.rh,this.ri=-this.ri,this.rs=-this.rs,this.rf=-this.rf}},year4:{regex:RegExp("^"+m),name:"year4",callback:function(e,t){return this.y=+t,!0}},whitespace:{regex:/^[ .,\t]+/,name:"whitespace"},dateShortWithTimeLong:{regex:RegExp("^"+T+"t?"+i+"[:.]"+a+"[:.]"+c,"i"),name:"dateshortwithtimelong",callback:function(e,t,r,n,i,s){return this.ymd(this.y,P(t),+r)&&this.time(+n,+i,+s,0)}},dateShortWithTimeLong12:{regex:RegExp("^"+T+o+"[:.]"+a+"[:.]"+u+"[ \\t]*"+n,"i"),name:"dateshortwithtimelong12",callback:function(e,t,r,n,i,s,o){return this.ymd(this.y,P(t),+r)&&this.time(E(+n,o),+i,+s,0)}},dateShortWithTimeShort:{regex:RegExp("^"+T+"t?"+i+"[:.]"+a,"i"),name:"dateshortwithtimeshort",callback:function(e,t,r,n,i){return this.ymd(this.y,P(t),+r)&&this.time(+n,+i,0,0)}},dateShortWithTimeShort12:{regex:RegExp("^"+T+o+"[:.]"+l+"[ \\t]*"+n,"i"),name:"dateshortwithtimeshort12",callback:function(e,t,r,n,i,s){return this.ymd(this.y,P(t),+r)&&this.time(E(+n,s),+i,0,0)}}},M={y:NaN,m:NaN,d:NaN,h:NaN,i:NaN,s:NaN,f:NaN,ry:0,rm:0,rd:0,rh:0,ri:0,rs:0,rf:0,weekday:NaN,weekdayBehavior:0,firstOrLastDayOfMonth:0,z:NaN,dates:0,times:0,zones:0,ymd:function(e,t,r){return!(this.dates>0||(this.dates++,this.y=e,this.m=t,this.d=r,0))},time:function(e,t,r,n){return!(this.times>0||(this.times++,this.h=e,this.i=t,this.s=r,this.f=n,0))},resetTime:function(){return this.h=0,this.i=0,this.s=0,this.f=0,this.times=0,!0},zone:function(e){return this.zones<=1&&(this.zones++,this.z=e,!0)},toDate:function(e){switch(this.dates&&!this.times&&(this.h=this.i=this.s=this.f=0),isNaN(this.y)&&(this.y=e.getFullYear()),isNaN(this.m)&&(this.m=e.getMonth()),isNaN(this.d)&&(this.d=e.getDate()),isNaN(this.h)&&(this.h=e.getHours()),isNaN(this.i)&&(this.i=e.getMinutes()),isNaN(this.s)&&(this.s=e.getSeconds()),isNaN(this.f)&&(this.f=e.getMilliseconds()),this.firstOrLastDayOfMonth){case 1:this.d=1;break;case-1:this.d=0,this.m+=1}if(!isNaN(this.weekday)){var t=new Date(e.getTime());t.setFullYear(this.y,this.m,this.d),t.setHours(this.h,this.i,this.s,this.f);var r=t.getDay();if(2===this.weekdayBehavior)0===r&&0!==this.weekday&&(this.weekday=-6),0===this.weekday&&0!==r&&(this.weekday=7),this.d-=r,this.d+=this.weekday;else{var n=this.weekday-r;(this.rd<0&&n<0||this.rd>=0&&n<=-this.weekdayBehavior)&&(n+=7),this.weekday>=0?this.d+=n:this.d-=7-(Math.abs(this.weekday)-r),this.weekday=NaN}}this.y+=this.ry,this.m+=this.rm,this.d+=this.rd,this.h+=this.rh,this.i+=this.ri,this.s+=this.rs,this.f+=this.rf,this.ry=this.rm=this.rd=0,this.rh=this.ri=this.rs=this.rf=0;var i=new Date(e.getTime());switch(i.setFullYear(this.y,this.m,this.d),i.setHours(this.h,this.i,this.s,this.f),this.firstOrLastDayOfMonth){case 1:i.setDate(1);break;case-1:i.setMonth(i.getMonth()+1,0)}return isNaN(this.z)||i.getTimezoneOffset()===this.z||(i.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),i.setUTCHours(i.getHours(),i.getMinutes()+this.z,i.getSeconds(),i.getMilliseconds())),i}};e.exports=function(e,t){null==t&&(t=Math.floor(Date.now()/1e3));for(var r=[j.yesterday,j.now,j.noon,j.midnightOrToday,j.tomorrow,j.timestamp,j.firstOrLastDay,j.backOrFrontOf,j.timeTiny12,j.timeShort12,j.timeLong12,j.mssqltime,j.timeShort24,j.timeLong24,j.iso8601long,j.gnuNoColon,j.iso8601noColon,j.americanShort,j.american,j.iso8601date4,j.iso8601dateSlash,j.dateSlash,j.gnuDateShortOrIso8601date2,j.gnuDateShorter,j.dateFull,j.pointedDate4,j.pointedDate2,j.dateNoDay,j.dateNoDayRev,j.dateTextual,j.dateNoYear,j.dateNoYearRev,j.dateNoColon,j.xmlRpc,j.xmlRpcNoColon,j.soap,j.wddx,j.exif,j.pgydotd,j.isoWeekDay,j.pgTextShort,j.pgTextReverse,j.clf,j.year4,j.ago,j.dayText,j.relativeTextWeek,j.relativeText,j.monthFullOrMonthAbbr,j.tzCorrection,j.dateShortWithTimeShort12,j.dateShortWithTimeLong12,j.dateShortWithTimeShort,j.dateShortWithTimeLong,j.relative,j.whitespace],n=Object.create(M);e.length;){for(var i=null,s=null,o=0,a=r.length;o<a;o++){var l=r[o],c=e.match(l.regex);c&&(!i||c[0].length>i[0].length)&&(i=c,s=l)}if(!s||s.callback&&!1===s.callback.apply(n,i))return!1;e=e.substr(i[0].length),s=null,i=null}return Math.floor(n.toDate(new Date(1e3*t))/1e3)}},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,i=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],s=/\\?(.?)/gi,o=function(e,t){return n[e]?n[e]():t},a=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e};return n={d:function(){return a(n.j(),2)},D:function(){return n.l().slice(0,3)},j:function(){return r.getDate()},l:function(){return i[n.w()]+"day"},N:function(){return n.w()||7},S:function(){var e=n.j(),t=e%10;return t<=3&&1===parseInt(e%100/10,10)&&(t=0),["st","nd","rd"][t-1]||"th"},w:function(){return r.getDay()},z:function(){var e=new Date(n.Y(),n.n()-1,n.j()),t=new Date(n.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(n.Y(),n.n()-1,n.j()-n.N()+3),t=new Date(e.getFullYear(),0,4);return a(1+Math.round((e-t)/864e5/7),2)},F:function(){return i[6+n.n()]},m:function(){return a(n.n(),2)},M:function(){return n.F().slice(0,3)},n:function(){return r.getMonth()+1},t:function(){return new Date(n.Y(),n.n(),0).getDate()},L:function(){var e=n.Y();return e%4==0&e%100!=0|e%400==0},o:function(){var e=n.n(),t=n.W();return n.Y()+(12===e&&t<9?1:1===e&&t>9?-1:0)},Y:function(){return r.getFullYear()},y:function(){return n.Y().toString().slice(-2)},a:function(){return r.getHours()>11?"pm":"am"},A:function(){return n.a().toUpperCase()},B:function(){var e=3600*r.getUTCHours(),t=60*r.getUTCMinutes(),n=r.getUTCSeconds();return a(Math.floor((e+t+n+3600)/86.4)%1e3,3)},g:function(){return n.G()%12||12},G:function(){return r.getHours()},h:function(){return a(n.g(),2)},H:function(){return a(n.G(),2)},i:function(){return a(r.getMinutes(),2)},s:function(){return a(r.getSeconds(),2)},u:function(){return a(1e3*r.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(n.Y(),0)-Date.UTC(n.Y(),0)!=new Date(n.Y(),6)-Date.UTC(n.Y(),6)?1:0},O:function(){var e=r.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+a(100*Math.floor(t/60)+t%60,4)},P:function(){var e=n.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-r.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(s,o)},r:function(){return"D, d M Y H:i:s O".replace(s,o)},U:function(){return r/1e3|0}},function(e,t){return r=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),e.replace(s,o)}(e,t)}},function(e,t,r){"use strict";e.exports=function(e){return!1!==e&&0!==e&&0!==e&&""!==e&&"0"!==e&&(!Array.isArray(e)||0!==e.length)&&null!=e}},function(e,t,r){"use strict";e.exports=function(e){e.Templates.registerLoader("ajax",(function(t,r,n,i){var s,o=r.precompiled,a=this.parsers[r.parser]||this.parser.twig;if("undefined"==typeof XMLHttpRequest)throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');var l=new XMLHttpRequest;return l.onreadystatechange=function(){var c=null;4===l.readyState&&(200===l.status||window.cordova&&0===l.status?(e.log.debug("Got template ",l.responseText),c=!0===o?JSON.parse(l.responseText):l.responseText,r.url=t,r.data=c,s=a.call(this,r),"function"==typeof n&&n(s)):"function"==typeof i&&i(l))},l.open("GET",t,Boolean(r.async)),l.overrideMimeType("text/plain"),l.send(),!!r.async||s}))}},function(e,t,r){"use strict";e.exports=function(e){var t,n;try{t=r(33),n=r(6)}catch(e){console.warn("Missing fs and path modules. "+e)}e.Templates.registerLoader("fs",(function(r,i,s,o){var a,l,c=i.precompiled,u=this.parsers[i.parser]||this.parser.twig;if(!t||!n)throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');var p=function(e,t){e?"function"==typeof o&&o(e):(!0===c&&(t=JSON.parse(t)),i.data=t,i.path=i.path||r,a=u.call(this,i),"function"==typeof s&&s(a))};if(i.path=i.path||r,i.async)return t.stat(i.path,(function(r,n){!r&&n.isFile()?t.readFile(i.path,"utf8",p):"function"==typeof o&&o(new e.Error("Unable to find template file "+i.path))})),!0;try{if(!t.statSync(i.path).isFile())throw new e.Error("Unable to find template file "+i.path)}catch(t){throw new e.Error("Unable to find template file "+i.path+". "+t)}return l=t.readFileSync(i.path,"utf8"),p(void 0,l),a}))}},function(e,t){},function(e,t){var r,n,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,c=[],u=!1,p=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):p=-1,c.length&&h())}function h(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(0)(r(2));function i(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e.exports=function(e){for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",apply:"Twig.logic.type.apply",endapply:"Twig.logic.type.endapply",do:"Twig.logic.type.do",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith",deprecated:"Twig.logic.type.deprecated"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s?([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile:function(t){var r=t.match[1];return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse:function(t,r,n){var i=this;return e.expression.parseAsync.call(i,t.stack,r).then((function(s){return n=!0,e.lib.boolval(s)?(n=!1,i.parseAsync(t.output,r)):""})).then((function(e){return{chain:n,output:e}}))}},{type:e.logic.type.elseif,regex:/^elseif\s?([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile:function(t){var r=t.match[1];return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse:function(t,r,n){var i=this;return e.expression.parseAsync.call(i,t.stack,r).then((function(s){return n&&e.lib.boolval(s)?(n=!1,i.parseAsync(t.output,r)):""})).then((function(e){return{chain:n,output:e}}))}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse:function(t,r,n){var i=e.Promise.resolve("");return n&&(i=this.parseAsync(t.output,r)),i.then((function(e){return{chain:n,output:e}}))}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile:function(t){var r=t.match[1],n=t.match[2],i=t.match[3],s=null;if(t.keyVar=null,t.valueVar=null,r.includes(",")){if(2!==(s=r.split(",")).length)throw new e.Error("Invalid expression in for loop: "+r);t.keyVar=s[0].trim(),t.valueVar=s[1].trim()}else t.valueVar=r.trim();return t.expression=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,i&&(t.conditional=e.expression.compile.call(this,{type:e.expression.type.expression,value:i}).stack),delete t.match,t},parse:function(t,r,n){var i,s,o=[],l=0,c=this,u=t.conditional,p=function(n,s){var p=a({},r);return p[t.valueVar]=s,t.keyVar&&(p[t.keyVar]=n),p.loop=function(e,t){var n=void 0!==u;return{index:e+1,index0:e,revindex:n?void 0:t-e,revindex0:n?void 0:t-e-1,first:0===e,last:n?void 0:e===t-1,length:n?void 0:t,parent:r}}(l,i),(void 0===u?e.Promise.resolve(!0):e.expression.parseAsync.call(c,u,p)).then((function(e){if(e)return c.parseAsync(t.output,p).then((function(e){o.push(e),l+=1}))})).then((function(){delete p.loop,delete p[t.valueVar],delete p[t.keyVar],e.merge(r,p,!0)}))};return e.expression.parseAsync.call(c,t.expression,r).then((function(t){return Array.isArray(t)?(i=t.length,e.async.forEach(t,(function(e){return p(l,e)}))):e.lib.is("Object",t)?(s=void 0===t._keys?Object.keys(t):t._keys,i=s.length,e.async.forEach(s,(function(e){if("_keys"!==e)return p(e,t[e])}))):void 0})).then((function(){return{chain:0===o.length,context:r,output:e.output.call(c.template,o)}}))}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim(),n=t.match[2],i=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack;return t.key=r,t.expression=i,delete t.match,t},parse:function(t,r,n){var i=t.key;return e.expression.parseAsync.call(this,t.expression,r).then((function(e){return e===r&&(e=a({},e)),r[i]=e,{chain:n,context:r}}))}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile:function(e){var t=e.match[1].trim();return e.key=t,delete e.match,e},parse:function(e,t,r){var n=this,i=e.key;return n.parseAsync(e.output,t).then((function(e){return n.context[i]=e,t[i]=e,{chain:r,context:t}}))}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile:function(t){var r="|"+t.match[1].trim();return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse:function(t,r,n){var i=this;return i.parseAsync(t.output,r).then((function(n){var s=[{type:e.expression.type.string,value:n}].concat(t.stack);return e.expression.parseAsync.call(i,s,r)})).then((function(e){return{chain:n,output:e}}))}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.apply,regex:/^apply\s+(.+)$/,next:[e.logic.type.endapply],open:!0,compile:function(t){var r="|"+t.match[1].trim();return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse:function(t,r,n){var i=this;return i.parseAsync(t.output,r).then((function(n){var s=[{type:e.expression.type.string,value:n}].concat(t.stack);return e.expression.parseAsync.call(i,s,r)})).then((function(e){return{chain:n,output:e}}))}},{type:e.logic.type.endapply,regex:/^endapply$/,next:[],open:!1},{type:e.logic.type.do,regex:/^do\s+([\S\s]+)$/,next:[],open:!0,compile:function(t){var r=t.match[1],n=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack;return t.expression=n,delete t.match,t},parse:function(t,r,n){return e.expression.parseAsync.call(this,t.expression,r).then((function(){return{chain:n,context:r}}))}},{type:e.logic.type.block,regex:/^block\s+(\w+)$/,next:[e.logic.type.endblock],open:!0,compile:function(e){return e.blockName=e.match[1].trim(),delete e.match,e},parse:function(t,r,n){var i=e.Promise.resolve();return this.template.blocks.defined[t.blockName]=new e.Block(this.template,t),(null===this.template.parentTemplate||this.template.parentTemplate instanceof e.Template)&&(i=this.getBlock(t.blockName).render(this,r)),i.then((function(e){return{chain:n,output:e}}))}},{type:e.logic.type.shortblock,regex:/^block\s+(\w+)\s+(.+)$/,next:[],open:!0,compile:function(t){return t.expression=t.match[2].trim(),t.output=e.expression.compile({type:e.expression.type.expression,value:t.expression}).stack,e.logic.handler[e.logic.type.block].compile.apply(this,[t])},parse:function(){for(var t=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.logic.handler[e.logic.type.block].parse.apply(t,n)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+(\w+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,t},parse:function(t,r,n){var i=this;return e.expression.parseAsync.call(i,t.stack,r).then((function(e){if(Array.isArray(e)){var t=e.reverse().reduce((function(e,t){try{return{render:i.template.importFile(t),fileName:t}}catch(t){return e}}),{render:null,fileName:null});null!==t.fileName&&(i.template.parentTemplate=t.fileName)}else i.template.parentTemplate=e;return{chain:n,output:""}}))}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,t},parse:function(t,r,n){var i=this;return e.expression.parseAsync.call(i,t.stack,r).then((function(t){var r=i.template.importFile(t),n=new e.ParseState(r);return n.parseAsync(r.tokens).then((function(){i.template.blocks.imported=a(a({},i.template.blocks.imported),n.getBlocks())}))})).then((function(){return{chain:n,output:""}}))}},{type:e.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile:function(t){var r=t.match,n=r[1].trim(),i=void 0!==r[2],s=r[3],o=void 0!==r[4]&&r[4].length;return delete t.match,t.only=o,t.ignoreMissing=i,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,void 0!==s&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:s.trim()}).stack),t},parse:function(t,r,n){var i=t.only?{}:a({},r),s=t.ignoreMissing,o=this,l={chain:n,output:""};return(void 0===t.withStack?e.Promise.resolve():e.expression.parseAsync.call(o,t.withStack,r).then((function(e){i=a(a({},i),e)}))).then((function(){return e.expression.parseAsync.call(o,t.stack,r)})).then((function(t){var r=(Array.isArray(t)?t:[t]).reduce((function(t,r){if(null===t.render){if(r instanceof e.Template)return{render:r.renderAsync(i,{isInclude:!0}),lastError:null};try{return{render:o.template.importFile(r).renderAsync(i,{isInclude:!0}),lastError:null}}catch(e){return{render:null,lastError:e}}}return t}),{render:null,lastError:null});if(null!==r.render)return r.render;if(null===r.render&&s)return"";throw r.lastError})).then((function(e){return""!==e&&(l.output=e),l}))}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse:function(t,r,n){return this.parseAsync(t.output,r).then((function(t){var r=t.replace(/>\s+</g,"><").trim();return r=new e.Markup(r),{chain:n,output:r}}))}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+(\w+)\s*\(\s*((?:\w+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile:function(t){var r=t.match[1],n=t.match[2].split(/\s*,\s*/),i=n.map((function(e){return e.split(/\s*=\s*/)[0]})),s=i.length;if(s>1)for(var o={},a=0;a<s;a++){var l=i[a];if(o[l])throw new e.Error("Duplicate arguments for parameter: "+l);o[l]=1}return t.macroName=r,t.parameters=i,t.defaults=n.reduce((function(t,r){var n=r.split(/\s*=\s*/),i=n[0],s=n[1];return t[i]=s?e.expression.compile.call(this,{type:e.expression.type.expression,value:s}).stack:void 0,t}),{}),delete t.match,t},parse:function(t,r,n){var i=this;return i.macros[t.macroName]=function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];var l=a(a({},r),{},{_self:i.macros});return e.async.forEach(t.parameters,(function(n,i){return void 0!==s[i]?(l[n]=s[i],!0):void 0!==t.defaults[n]?e.expression.parseAsync.call(this,t.defaults[n],r).then((function(t){return l[n]=t,e.Promise.resolve()})):(l[n]=void 0,!0)})).then((function(){return i.parseAsync(t.output,l)}))},{chain:n,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+(\w+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim(),n=t.match[2].trim();return delete t.match,t.expression=r,t.contextName=n,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,t},parse:function(t,r,n){var i=this,s={chain:n,output:""};return"_self"===t.expression?(r[t.contextName]=i.macros,s):e.expression.parseAsync.call(i,t.stack,r).then((function(e){return i.template.importFile(e||t.expression)})).then((function(n){var i=new e.ParseState(n);return i.parseAsync(n.tokens).then((function(){return r[t.contextName]=i.macros,s}))}))}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile:function(t){var r,n=t.match[1].trim(),s={},o=i(t.match[2].trim().split(/\s*,\s*/));try{for(o.s();!(r=o.n()).done;){var a=r.value,l=a.match(/^(\w+)\s+as\s+(\w+)$/);l?s[l[1].trim()]=l[2].trim():a.match(/^(\w+)$/)&&(s[a]=a)}}catch(e){o.e(e)}finally{o.f()}return delete t.match,t.expression=n,t.macroNames=s,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,t},parse:function(t,r,n){var i=this;return("_self"===t.expression?e.Promise.resolve(i.macros):e.expression.parseAsync.call(i,t.stack,r).then((function(e){return i.template.importFile(e||t.expression)})).then((function(t){var r=new e.ParseState(t);return r.parseAsync(t.tokens).then((function(){return r.macros}))}))).then((function(e){for(var i in t.macroNames)void 0!==e[i]&&(r[t.macroNames[i]]=e[i]);return{chain:n,output:""}}))}},{type:e.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[e.logic.type.endembed],open:!0,compile:function(t){var r=t.match,n=r[1].trim(),i=void 0!==r[2],s=r[3],o=void 0!==r[4]&&r[4].length;return delete t.match,t.only=o,t.ignoreMissing=i,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,void 0!==s&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:s.trim()}).stack),t},parse:function(t,r,n){var i={},s=e.Promise.resolve(),o=this;return t.only||(i=a({},r)),void 0!==t.withStack&&(s=e.expression.parseAsync.call(o,t.withStack,r).then((function(e){i=a(a({},i),e)}))),s.then((function(){return e.expression.parseAsync.call(o,t.stack,i)})).then((function(r){var n=new e.Template({data:t.output,id:o.template.id,base:o.template.base,path:o.template.path,url:o.template.url,name:o.template.name,method:o.template.method,options:o.template.options});try{n.importFile(r)}catch(e){if(t.ignoreMissing)return"";throw o=null,e}return n.parentTemplate=r,n.renderAsync(i,{isInclude:!0})})).then((function(e){return{chain:n,output:e}}))}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:e.logic.type.with,regex:/^(?:with\s+([\S\s]+?))(?:\s|$)(only)?$/,next:[e.logic.type.endwith],open:!0,compile:function(t){var r=t.match,n=r[1],i=void 0!==r[2]&&r[2].length;return delete t.match,t.only=i,void 0!==n&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n.trim()}).stack),t},parse:function(t,r,n){var i,s={},o=this,l=e.Promise.resolve();return t.only||(s=a({},r)),void 0!==t.withStack&&(l=e.expression.parseAsync.call(o,t.withStack,r).then((function(e){for(i in e)Object.hasOwnProperty.call(e,i)&&(s[i]=e[i])}))),l.then((function(){return o.parseAsync(t.output,s)})).then((function(e){return{chain:n,output:e}}))}},{type:e.logic.type.endwith,regex:/^endwith$/,next:[],open:!1},{type:e.logic.type.deprecated,regex:/^deprecated\s+(.+)$/,next:[],open:!0,compile:function(e){return console.warn("Deprecation notice: "+e.match[1]),e},parse:function(){return{}}}],e.logic.handler={},e.logic.extendType=function(t,r){r=r||"Twig.logic.type"+t,e.logic.type[t]=r},e.logic.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.logic.extendType(t.type),e.logic.handler[t.type]=t};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(t){var r=t.value.trim(),n=e.logic.tokenize.call(this,r),i=e.logic.handler[n.type];return i.compile&&(n=i.compile.call(this,n),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",n)),n},e.logic.tokenize=function(t){var r=null,n=null,i=null,s=null,o=null,a=null,l=null;for(r in t=t.trim(),e.logic.handler)if(Object.hasOwnProperty.call(e.logic.handler,r))for(n=e.logic.handler[r].type,s=i=e.logic.handler[r].regex,Array.isArray(i)||(s=[i]),o=s.length,a=0;a<o;a++)if(null!==(l=s[a].exec(t)))return e.log.trace("Twig.logic.tokenize: ","Matched a ",n," regular expression of ",l),{type:n,match:l};throw new e.Error("Unable to parse '"+t.trim()+"'")},e.logic.parse=function(t,r,n,i){return e.async.potentiallyAsync(this,i,(function(){e.log.debug("Twig.logic.parse: ","Parsing logic token ",t);var i,s=e.logic.handler[t.type],o=this;return s.parse?(o.nestingStack.unshift(t),i=s.parse.call(o,t,r||{},n),e.isPromise(i)?i=i.then((function(e){return o.nestingStack.shift(),e})):o.nestingStack.shift(),i):""}))},e}},function(e,t,r){"use strict";e.exports=function(e){e.Templates.registerParser("source",(function(e){return e.data||""}))}},function(e,t,r){"use strict";e.exports=function(e){e.Templates.registerParser("twig",(function(t){return new e.Template(t)}))}},function(e,t,r){"use strict";var n=r(0)(r(1));e.exports=function(e){return e.path={},e.path.parsePath=function(t,r){var i=null,s=t.options.namespaces,o=r||"";if(s&&"object"===(0,n.default)(s))for(i in s)if(o.includes(i)){var a=new RegExp("^"+i+"::"),l=new RegExp("^@"+i+"/"),c=s[i].replace(/([^/])$/,"$1/");if(a.test(o))return o.replace(a,c);if(l.test(o))return o.replace(l,c)}return e.path.relativePath(t,o)},e.path.relativePath=function(t,n){var i,s,o,a="/",l=[],c=n||"";if(t.url)i=void 0===t.base?t.url:t.base.replace(/([^/])$/,"$1/");else if(t.path){var u=r(6),p=u.sep||a,d=new RegExp("^\\.{1,2}"+p.replace("\\","\\\\"));c=c.replace(/\//g,p),void 0!==t.base&&null===c.match(d)?(c=c.replace(t.base,""),i=t.base+p):i=u.normalize(t.path),i=i.replace(p+p,p),a=p}else{if(!t.name&&!t.id||!t.method||"fs"===t.method||"ajax"===t.method)throw new e.Error("Cannot extend an inline template.");i=t.base||t.name||t.id}for((s=i.split(a)).pop(),s=s.concat(c.split(a));s.length>0;)"."===(o=s.shift())||(".."===o&&l.length>0&&".."!==l[l.length-1]?l.pop():l.push(o));return l.join(a)},e}},function(e,t,r){"use strict";e.exports=function(e){return e.tests={empty:function(e){if(null==e)return!0;if("number"==typeof e)return!1;if(e.length>0)return!1;for(var t in e)if(Object.hasOwnProperty.call(e,t))return!1;return!0},odd:function(e){return e%2==1},even:function(e){return e%2==0},divisibleby:function(e,t){return e%t[0]==0},defined:function(e){return void 0!==e},none:function(e){return null===e},null:function(e){return this.none(e)},"same as":function(e,t){return e===t[0]},sameas:function(t,r){return console.warn("`sameas` is deprecated use `same as`"),e.tests["same as"](t,r)},iterable:function(t){return t&&(e.lib.is("Array",t)||e.lib.is("Object",t))}},e.test=function(t,r,n){if(!e.tests[t])throw e.Error("Test "+t+" is not defined.");return e.tests[t](r,n)},e.test.extend=function(t,r){e.tests[t]=r},e}},function(e,t,r){"use strict";e.exports=function(e){return e.ParseState.prototype.parseAsync=function(e,t){return this.parse(e,t,!0)},e.expression.parseAsync=function(t,r,n){return e.expression.parse.call(this,t,r,n,!0)},e.logic.parseAsync=function(t,r,n){return e.logic.parse.call(this,t,r,n,!0)},e.Template.prototype.renderAsync=function(e,t){return this.render(e,t,!0)},e.async={},e.isPromise=function(e){return e&&e.then&&"function"==typeof e.then},e.async.potentiallyAsync=function(t,r,n){return r?e.Promise.resolve(n.call(t)):function(t,r,n){var i=n.call(t),s=null,o=!0;if(!e.isPromise(i))return i;if(i.then((function(e){i=e,o=!1})).catch((function(e){s=e})),null!==s)throw s;if(o)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return i}(t,0,n)},e.Thenable=function(e,t,r){this.then=e,this._value=r?t:null,this._state=r||0},e.Thenable.prototype.catch=function(e){return 1===this._state?this:this.then(null,e)},e.Thenable.resolvedThen=function(t){try{return e.Promise.resolve(t(this._value))}catch(t){return e.Promise.reject(t)}},e.Thenable.rejectedThen=function(t,r){if(!r||"function"!=typeof r)return this;var n,i=this._value;try{n=r(i)}catch(t){n=e.Promise.reject(t)}return e.Promise.resolve(n)},e.Promise=function(t){var r=0,n=null,i=function(e,t){r=e,n=t};return function(e,t,r){try{e(t,r)}catch(e){r(e)}}(t,(function(e){i(1,e)}),(function(e){i(2,e)})),1===r?e.Promise.resolve(n):2===r?e.Promise.reject(n):(i=new e.FullPromise).promise},e.FullPromise=function(){var t=null;function r(e){e(o._value)}function n(e,t){t(o._value)}var i=function(e,r){t=function(e,t,r){var n=[t,r,-2];return e?-2===e[2]?e=[e,n]:e.push(n):e=n,e}(t,e,r)};function s(e,s){if(!o._state&&(o._value=s,o._state=e,i=1===e?r:n,t)){if(-2===t[2])return i(t[0],t[1]),void(t=null);t.forEach((function(e){i(e[0],e[1])})),t=null}}var o=new e.Thenable((function(t,r){var n="function"==typeof t;if(1===o._state&&!n)return e.Promise.resolve(o._value);if(1===o._state)try{return e.Promise.resolve(t(o._value))}catch(t){return e.Promise.reject(t)}var s="function"==typeof r;return new e.Promise((function(e,o){i(n?function(r){try{e(t(r))}catch(e){o(e)}}:e,s?function(t){try{e(r(t))}catch(e){o(e)}}:o)}))}));return s.promise=o,s},e.Promise.defaultResolved=new e.Thenable(e.Thenable.resolvedThen,void 0,1),e.Promise.emptyStringResolved=new e.Thenable(e.Thenable.resolvedThen,"",1),e.Promise.resolve=function(t){return 0===arguments.length||void 0===t?e.Promise.defaultResolved:e.isPromise(t)?t:""===t?e.Promise.emptyStringResolved:new e.Thenable(e.Thenable.resolvedThen,t,1)},e.Promise.reject=function(t){return new e.Thenable(e.Thenable.rejectedThen,t,2)},e.Promise.all=function(t){var r=new Array(t.length);return e.async.forEach(t,(function(t,n){if(e.isPromise(t)){if(1!==t._state)return t.then((function(e){r[n]=e}));r[n]=t._value}else r[n]=t})).then((function(){return r}))},e.async.forEach=function(t,r){var n=t?t.length:0,i=0;return function s(){var o=null;do{if(i===n)return e.Promise.resolve();o=r(t[i],i),i++}while(!o||!e.isPromise(o)||1===o._state);return o.then(s)}()},e}},function(e,t,r){"use strict";e.exports=function(e){return e.exports={VERSION:e.VERSION},e.exports.twig=function(t){var r=t.id,n={strictVariables:t.strict_variables||!1,autoescape:null!==t.autoescape&&t.autoescape||!1,allowInlineIncludes:t.allowInlineIncludes||!1,rethrow:t.rethrow||!1,namespaces:t.namespaces};if(e.cache&&r&&e.validateId(r),void 0!==t.debug&&(e.debug=t.debug),void 0!==t.trace&&(e.trace=t.trace),void 0!==t.data)return e.Templates.parsers.twig({data:t.data,path:Object.hasOwnProperty.call(t,"path")?t.path:void 0,module:t.module,id:r,options:n});if(void 0!==t.ref){if(void 0!==t.id)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(t.ref)}if(void 0!==t.method){if(!e.Templates.isRegisteredLoader(t.method))throw new e.Error('Loader for "'+t.method+'" is not defined.');return e.Templates.loadRemote(t.name||t.href||t.path||r||void 0,{id:r,method:t.method,parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:n},t.load,t.error)}return void 0!==t.href?e.Templates.loadRemote(t.href,{id:r,method:"ajax",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:n},t.load,t.error):void 0!==t.path?e.Templates.loadRemote(t.path,{id:r,method:"fs",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:n},t.load,t.error):void 0},e.exports.extendFilter=function(t,r){e.filter.extend(t,r)},e.exports.extendFunction=function(t,r){e._function.extend(t,r)},e.exports.extendTest=function(t,r){e.test.extend(t,r)},e.exports.extendTag=function(t){e.logic.extend(t)},e.exports.extend=function(t){t(e)},e.exports.compile=function(t,r){var n=r.filename,i=r.filename,s=new e.Template({data:t,path:i,id:n,options:r.settings["twig options"]});return function(e){return s.render(e)}},e.exports.renderFile=function(t,r,n){"function"==typeof r&&(n=r,r={});var i=(r=r||{}).settings||{},s=i["twig options"],o={path:t,base:i.views,load:function(e){s&&s.allowAsync?e.renderAsync(r).then((function(e){return n(null,e)}),n):n(null,String(e.render(r)))},error:function(e){n(e)}};if(s)for(var a in s)Object.hasOwnProperty.call(s,a)&&(o[a]=s[a]);e.exports.twig(o)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(t){e.cache=t},e.exports.path=e.path,e.exports.filters=e.filters,e.exports.tests=e.tests,e.exports.functions=e.functions,e.exports.Promise=e.Promise,e}}])}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=r(3653),t=r.n(e);const n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t().get(`https://arsenal-cm.streamamg.com/api/v1/73fe7230-fe24-413c-b0ea-6a374dcd14f2/uAcp2nQ94UjH6GsSg4ixSzkv1QDMoOnN5Wy1B4Knf6fRPpJWW3/en/search${e}`)};var i=r(4324),s=r.n(i);function o(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((r=>{void 0===e[r]?e[r]=t[r]:o(t[r])&&o(e[r])&&Object.keys(t[r]).length>0&&a(e[r],t[r])}))}const l={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function c(){const e="undefined"!=typeof document?document:{};return a(e,l),e}const u={document:l,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function p(){const e="undefined"!=typeof window?window:{};return a(e,u),e}class d extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:()=>t,set(e){t.__proto__=e}})}(this))}}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...h(e)):t.push(e)})),t}function f(e,t){return Array.prototype.filter.call(e,t)}function g(e,t){const r=p(),n=c();let i=[];if(!t&&e instanceof d)return e;if(!e)return new d(i);if("string"==typeof e){const r=e.trim();if(r.indexOf("<")>=0&&r.indexOf(">")>=0){let e="div";0===r.indexOf("<li")&&(e="ul"),0===r.indexOf("<tr")&&(e="tbody"),0!==r.indexOf("<td")&&0!==r.indexOf("<th")||(e="tr"),0===r.indexOf("<tbody")&&(e="table"),0===r.indexOf("<option")&&(e="select");const t=n.createElement(e);t.innerHTML=r;for(let e=0;e<t.childNodes.length;e+=1)i.push(t.childNodes[e])}else i=function(e,t){if("string"!=typeof e)return[e];const r=[],n=t.querySelectorAll(e);for(let e=0;e<n.length;e+=1)r.push(n[e]);return r}(e.trim(),t||n)}else if(e.nodeType||e===r||e===n)i.push(e);else if(Array.isArray(e)){if(e instanceof d)return e;i=e}return new d(function(e){const t=[];for(let r=0;r<e.length;r+=1)-1===t.indexOf(e[r])&&t.push(e[r]);return t}(i))}g.fn=d.prototype;const m="resize scroll".split(" ");function y(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(void 0===r[0]){for(let t=0;t<this.length;t+=1)m.indexOf(e)<0&&(e in this[t]?this[t][e]():g(this[t]).trigger(e));return this}return this.on(e,...r)}}y("click"),y("blur"),y("focus"),y("focusin"),y("focusout"),y("keyup"),y("keydown"),y("keypress"),y("submit"),y("change"),y("mousedown"),y("mousemove"),y("mouseup"),y("mouseenter"),y("mouseleave"),y("mouseout"),y("mouseover"),y("touchstart"),y("touchend"),y("touchmove"),y("resize"),y("scroll");const v={addClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=h(t.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.add(...n)})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=h(t.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.remove(...n)})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=h(t.map((e=>e.split(" "))));return f(this,(e=>n.filter((t=>e.classList.contains(t))).length>0)).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=h(t.map((e=>e.split(" "))));this.forEach((e=>{n.forEach((t=>{e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let r=0;r<this.length;r+=1)if(2===arguments.length)this[r].setAttribute(e,t);else for(const t in e)this[r][t]=e[t],this[r].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?`${e}ms`:e;return this},on:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let[n,i,s,o]=t;function a(e){const t=e.target;if(!t)return;const r=e.target.dom7EventData||[];if(r.indexOf(e)<0&&r.unshift(e),g(t).is(i))s.apply(t,r);else{const e=g(t).parents();for(let t=0;t<e.length;t+=1)g(e[t]).is(i)&&s.apply(e[t],r)}}function l(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),s.apply(this,t)}"function"==typeof t[1]&&([n,s,o]=t,i=void 0),o||(o=!1);const c=n.split(" ");let u;for(let e=0;e<this.length;e+=1){const t=this[e];if(i)for(u=0;u<c.length;u+=1){const e=c[u];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:s,proxyListener:a}),t.addEventListener(e,a,o)}else for(u=0;u<c.length;u+=1){const e=c[u];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:s,proxyListener:l}),t.addEventListener(e,l,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let[n,i,s,o]=t;"function"==typeof t[1]&&([n,s,o]=t,i=void 0),o||(o=!1);const a=n.split(" ");for(let e=0;e<a.length;e+=1){const t=a[e];for(let e=0;e<this.length;e+=1){const r=this[e];let n;if(!i&&r.dom7Listeners?n=r.dom7Listeners[t]:i&&r.dom7LiveListeners&&(n=r.dom7LiveListeners[t]),n&&n.length)for(let e=n.length-1;e>=0;e-=1){const i=n[e];s&&i.listener===s||s&&i.listener&&i.listener.dom7proxy&&i.listener.dom7proxy===s?(r.removeEventListener(t,i.proxyListener,o),n.splice(e,1)):s||(r.removeEventListener(t,i.proxyListener,o),n.splice(e,1))}}}return this},trigger:function(){const e=p();for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const i=r[0].split(" "),s=r[1];for(let t=0;t<i.length;t+=1){const n=i[t];for(let t=0;t<this.length;t+=1){const i=this[t];if(e.CustomEvent){const t=new e.CustomEvent(n,{detail:s,bubbles:!0,cancelable:!0});i.dom7EventData=r.filter(((e,t)=>t>0)),i.dispatchEvent(t),i.dom7EventData=[],delete i.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",(function r(n){n.target===this&&(e.call(this,n),t.off("transitionend",r))})),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=p();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=p(),t=c(),r=this[0],n=r.getBoundingClientRect(),i=t.body,s=r.clientTop||i.clientTop||0,o=r.clientLeft||i.clientLeft||0,a=r===e?e.scrollY:r.scrollTop,l=r===e?e.scrollX:r.scrollLeft;return{top:n.top+a-s,left:n.left+l-o}}return null},css:function(e,t){const r=p();let n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(const t in e)this[n].style[t]=e[t];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(((t,r)=>{e.apply(t,[t,r])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=p(),r=c(),n=this[0];let i,s;if(!n||void 0===e)return!1;if("string"==typeof e){if(n.matches)return n.matches(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);for(i=g(e),s=0;s<i.length;s+=1)if(i[s]===n)return!0;return!1}if(e===r)return n===r;if(e===t)return n===t;if(e.nodeType||e instanceof d){for(i=e.nodeType?[e]:e,s=0;s<i.length;s+=1)if(i[s]===n)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const t=this.length;if(e>t-1)return g([]);if(e<0){const r=t+e;return g(r<0?[]:[this[r]])}return g([this[e]])},append:function(){let e;const t=c();for(let r=0;r<arguments.length;r+=1){e=r<0||arguments.length<=r?void 0:arguments[r];for(let r=0;r<this.length;r+=1)if("string"==typeof e){const n=t.createElement("div");for(n.innerHTML=e;n.firstChild;)this[r].appendChild(n.firstChild)}else if(e instanceof d)for(let t=0;t<e.length;t+=1)this[r].appendChild(e[t]);else this[r].appendChild(e)}return this},prepend:function(e){const t=c();let r,n;for(r=0;r<this.length;r+=1)if("string"==typeof e){const i=t.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n-=1)this[r].insertBefore(i.childNodes[n],this[r].childNodes[0])}else if(e instanceof d)for(n=0;n<e.length;n+=1)this[r].insertBefore(e[n],this[r].childNodes[0]);else this[r].insertBefore(e,this[r].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&g(this[0].nextElementSibling).is(e)?g([this[0].nextElementSibling]):g([]):this[0].nextElementSibling?g([this[0].nextElementSibling]):g([]):g([])},nextAll:function(e){const t=[];let r=this[0];if(!r)return g([]);for(;r.nextElementSibling;){const n=r.nextElementSibling;e?g(n).is(e)&&t.push(n):t.push(n),r=n}return g(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&g(t.previousElementSibling).is(e)?g([t.previousElementSibling]):g([]):t.previousElementSibling?g([t.previousElementSibling]):g([])}return g([])},prevAll:function(e){const t=[];let r=this[0];if(!r)return g([]);for(;r.previousElementSibling;){const n=r.previousElementSibling;e?g(n).is(e)&&t.push(n):t.push(n),r=n}return g(t)},parent:function(e){const t=[];for(let r=0;r<this.length;r+=1)null!==this[r].parentNode&&(e?g(this[r].parentNode).is(e)&&t.push(this[r].parentNode):t.push(this[r].parentNode));return g(t)},parents:function(e){const t=[];for(let r=0;r<this.length;r+=1){let n=this[r].parentNode;for(;n;)e?g(n).is(e)&&t.push(n):t.push(n),n=n.parentNode}return g(t)},closest:function(e){let t=this;return void 0===e?g([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let r=0;r<this.length;r+=1){const n=this[r].querySelectorAll(e);for(let e=0;e<n.length;e+=1)t.push(n[e])}return g(t)},children:function(e){const t=[];for(let r=0;r<this.length;r+=1){const n=this[r].children;for(let r=0;r<n.length;r+=1)e&&!g(n[r]).is(e)||t.push(n[r])}return g(t)},filter:function(e){return g(f(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(v).forEach((e=>{Object.defineProperty(g.fn,e,{value:v[e],writable:!0})}));var w=g;function b(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function x(){return Date.now()}function _(e,t){void 0===t&&(t="x");const r=p();let n,i,s;const o=function(e){const t=p();let r;return t.getComputedStyle&&(r=t.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}(e);return r.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map((e=>e.replace(",","."))).join(", ")),s=new r.WebKitCSSMatrix("none"===i?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=s.toString().split(",")),"x"===t&&(i=r.WebKitCSSMatrix?s.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(i=r.WebKitCSSMatrix?s.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0}function S(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function k(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function T(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const n=r<0||arguments.length<=r?void 0:arguments[r];if(null!=n&&!k(n)){const r=Object.keys(Object(n)).filter((e=>t.indexOf(e)<0));for(let t=0,i=r.length;t<i;t+=1){const i=r[t],s=Object.getOwnPropertyDescriptor(n,i);void 0!==s&&s.enumerable&&(S(e[i])&&S(n[i])?n[i].__swiper__?e[i]=n[i]:T(e[i],n[i]):!S(e[i])&&S(n[i])?(e[i]={},n[i].__swiper__?e[i]=n[i]:T(e[i],n[i])):e[i]=n[i])}}}return e}function E(e,t,r){e.style.setProperty(t,r)}function C(e){let{swiper:t,targetPosition:r,side:n}=e;const i=p(),s=-t.translate;let o,a=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const c=r>s?"next":"prev",u=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,d=()=>{o=(new Date).getTime(),null===a&&(a=o);const e=Math.max(Math.min((o-a)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let p=s+c*(r-s);if(u(p,r)&&(p=r),t.wrapperEl.scrollTo({[n]:p}),u(p,r))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})})),void i.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=i.requestAnimationFrame(d)};d()}let P,O,A;function j(){return P||(P=function(){const e=p(),t=c();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const r=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,r)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),P}function M(e){return void 0===e&&(e={}),O||(O=function(e){let{userAgent:t}=void 0===e?{}:e;const r=j(),n=p(),i=n.navigator.platform,s=t||n.navigator.userAgent,o={ios:!1,android:!1},a=n.screen.width,l=n.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===i;let g="MacIntel"===i;return!u&&g&&r.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!f&&(o.os="android",o.android=!0),(u||h||d)&&(o.os="ios",o.ios=!0),o}(e)),O}function I(){return A||(A=function(){const e=p();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),A}var N={on(e,t,r){const n=this;if("function"!=typeof t)return n;const i=r?"unshift":"push";return e.split(" ").forEach((e=>{n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][i](t)})),n},once(e,t,r){const n=this;if("function"!=typeof t)return n;function i(){n.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];t.apply(n,s)}return i.__emitterProxy=t,n.on(e,i,r)},onAny(e,t){const r=this;if("function"!=typeof e)return r;const n=t?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[n](e),r},offAny(e){const t=this;if(!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);return r>=0&&t.eventsAnyListeners.splice(r,1),t},off(e,t){const r=this;return r.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?r.eventsListeners[e]=[]:r.eventsListeners[e]&&r.eventsListeners[e].forEach(((n,i)=>{(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&r.eventsListeners[e].splice(i,1)}))})),r):r},emit(){const e=this;if(!e.eventsListeners)return e;let t,r,n;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];"string"==typeof s[0]||Array.isArray(s[0])?(t=s[0],r=s.slice(1,s.length),n=e):(t=s[0].events,r=s[0].data,n=s[0].context||e),r.unshift(n);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(n,[t,...r])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(n,r)}))})),e}};var R={updateSize:function(){const e=this;let t,r;const n=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:n[0].clientWidth,r=void 0!==e.params.height&&null!==e.params.height?e.params.height:n[0].clientHeight,0===t&&e.isHorizontal()||0===r&&e.isVertical()||(t=t-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),r=r-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function r(e,r){return parseFloat(e.getPropertyValue(t(r))||0)}const n=e.params,{$wrapperEl:i,size:s,rtlTranslate:o,wrongRTL:a}=e,l=e.virtual&&n.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,u=i.children(`.${e.params.slideClass}`),p=l?e.virtual.slides.length:u.length;let d=[];const h=[],f=[];let g=n.slidesOffsetBefore;"function"==typeof g&&(g=n.slidesOffsetBefore.call(e));let m=n.slidesOffsetAfter;"function"==typeof m&&(m=n.slidesOffsetAfter.call(e));const y=e.snapGrid.length,v=e.slidesGrid.length;let w=n.spaceBetween,b=-g,x=0,_=0;if(void 0===s)return;"string"==typeof w&&w.indexOf("%")>=0&&(w=parseFloat(w.replace("%",""))/100*s),e.virtualSize=-w,o?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),n.centeredSlides&&n.cssMode&&(E(e.wrapperEl,"--swiper-centered-offset-before",""),E(e.wrapperEl,"--swiper-centered-offset-after",""));const S=n.grid&&n.grid.rows>1&&e.grid;let k;S&&e.grid.initSlides(p);const T="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>void 0!==n.breakpoints[e].slidesPerView)).length>0;for(let i=0;i<p;i+=1){k=0;const o=u.eq(i);if(S&&e.grid.updateSlide(i,o,p,t),"none"!==o.css("display")){if("auto"===n.slidesPerView){T&&(u[i].style[t("width")]="");const s=getComputedStyle(o[0]),a=o[0].style.transform,l=o[0].style.webkitTransform;if(a&&(o[0].style.transform="none"),l&&(o[0].style.webkitTransform="none"),n.roundLengths)k=e.isHorizontal()?o.outerWidth(!0):o.outerHeight(!0);else{const e=r(s,"width"),t=r(s,"padding-left"),n=r(s,"padding-right"),i=r(s,"margin-left"),a=r(s,"margin-right"),l=s.getPropertyValue("box-sizing");if(l&&"border-box"===l)k=e+i+a;else{const{clientWidth:r,offsetWidth:s}=o[0];k=e+t+n+i+a+(s-r)}}a&&(o[0].style.transform=a),l&&(o[0].style.webkitTransform=l),n.roundLengths&&(k=Math.floor(k))}else k=(s-(n.slidesPerView-1)*w)/n.slidesPerView,n.roundLengths&&(k=Math.floor(k)),u[i]&&(u[i].style[t("width")]=`${k}px`);u[i]&&(u[i].swiperSlideSize=k),f.push(k),n.centeredSlides?(b=b+k/2+x/2+w,0===x&&0!==i&&(b=b-s/2-w),0===i&&(b=b-s/2-w),Math.abs(b)<.001&&(b=0),n.roundLengths&&(b=Math.floor(b)),_%n.slidesPerGroup==0&&d.push(b),h.push(b)):(n.roundLengths&&(b=Math.floor(b)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup==0&&d.push(b),h.push(b),b=b+k+w),e.virtualSize+=k+w,x=k,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+m,o&&a&&("slide"===n.effect||"coverflow"===n.effect)&&i.css({width:`${e.virtualSize+n.spaceBetween}px`}),n.setWrapperSize&&i.css({[t("width")]:`${e.virtualSize+n.spaceBetween}px`}),S&&e.grid.updateWrapperSize(k,d,t),!n.centeredSlides){const t=[];for(let r=0;r<d.length;r+=1){let i=d[r];n.roundLengths&&(i=Math.floor(i)),d[r]<=e.virtualSize-s&&t.push(i)}d=t,Math.floor(e.virtualSize-s)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-s)}if(0===d.length&&(d=[0]),0!==n.spaceBetween){const r=e.isHorizontal()&&o?"marginLeft":t("marginRight");u.filter(((e,t)=>!n.cssMode||t!==u.length-1)).css({[r]:`${w}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;f.forEach((t=>{e+=t+(n.spaceBetween?n.spaceBetween:0)})),e-=n.spaceBetween;const t=e-s;d=d.map((e=>e<0?-g:e>t?t+m:e))}if(n.centerInsufficientSlides){let e=0;if(f.forEach((t=>{e+=t+(n.spaceBetween?n.spaceBetween:0)})),e-=n.spaceBetween,e<s){const t=(s-e)/2;d.forEach(((e,r)=>{d[r]=e-t})),h.forEach(((e,r)=>{h[r]=e+t}))}}if(Object.assign(e,{slides:u,snapGrid:d,slidesGrid:h,slidesSizesGrid:f}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){E(e.wrapperEl,"--swiper-centered-offset-before",-d[0]+"px"),E(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-f[f.length-1]/2+"px");const t=-e.snapGrid[0],r=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+r))}if(p!==c&&e.emit("slidesLengthChange"),d.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==v&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),!(l||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const t=`${n.containerModifierClass}backface-hidden`,r=e.$el.hasClass(t);p<=n.maxBackfaceHiddenSlides?r||e.$el.addClass(t):r&&e.$el.removeClass(t)}},updateAutoHeight:function(e){const t=this,r=[],n=t.virtual&&t.params.virtual.enabled;let i,s=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const o=e=>n?t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)t.visibleSlides.each((e=>{r.push(e)}));else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const e=t.activeIndex+i;if(e>t.slides.length&&!n)break;r.push(o(e))}else r.push(o(t.activeIndex));for(i=0;i<r.length;i+=1)if(void 0!==r[i]){const e=r[i].offsetHeight;s=e>s?e:s}(s||0===s)&&t.$wrapperEl.css("height",`${s}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,r=t.params,{slides:n,rtlTranslate:i,snapGrid:s}=t;if(0===n.length)return;void 0===n[0].swiperSlideOffset&&t.updateSlidesOffset();let o=-e;i&&(o=e),n.removeClass(r.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<n.length;e+=1){const a=n[e];let l=a.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(l-=n[0].swiperSlideOffset);const c=(o+(r.centeredSlides?t.minTranslate():0)-l)/(a.swiperSlideSize+r.spaceBetween),u=(o-s[0]+(r.centeredSlides?t.minTranslate():0)-l)/(a.swiperSlideSize+r.spaceBetween),p=-(o-l),d=p+t.slidesSizesGrid[e];(p>=0&&p<t.size-1||d>1&&d<=t.size||p<=0&&d>=t.size)&&(t.visibleSlides.push(a),t.visibleSlidesIndexes.push(e),n.eq(e).addClass(r.slideVisibleClass)),a.progress=i?-c:c,a.originalProgress=i?-u:u}t.visibleSlides=w(t.visibleSlides)},updateProgress:function(e){const t=this;if(void 0===e){const r=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*r||0}const r=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:s,isEnd:o}=t;const a=s,l=o;0===n?(i=0,s=!0,o=!0):(i=(e-t.minTranslate())/n,s=i<=0,o=i>=1),Object.assign(t,{progress:i,isBeginning:s,isEnd:o}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),s&&!a&&t.emit("reachBeginning toEdge"),o&&!l&&t.emit("reachEnd toEdge"),(a&&!s||l&&!o)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){const e=this,{slides:t,params:r,$wrapperEl:n,activeIndex:i,realIndex:s}=e,o=e.virtual&&r.virtual.enabled;let a;t.removeClass(`${r.slideActiveClass} ${r.slideNextClass} ${r.slidePrevClass} ${r.slideDuplicateActiveClass} ${r.slideDuplicateNextClass} ${r.slideDuplicatePrevClass}`),a=o?e.$wrapperEl.find(`.${r.slideClass}[data-swiper-slide-index="${i}"]`):t.eq(i),a.addClass(r.slideActiveClass),r.loop&&(a.hasClass(r.slideDuplicateClass)?n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${s}"]`).addClass(r.slideDuplicateActiveClass):n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${s}"]`).addClass(r.slideDuplicateActiveClass));let l=a.nextAll(`.${r.slideClass}`).eq(0).addClass(r.slideNextClass);r.loop&&0===l.length&&(l=t.eq(0),l.addClass(r.slideNextClass));let c=a.prevAll(`.${r.slideClass}`).eq(0).addClass(r.slidePrevClass);r.loop&&0===c.length&&(c=t.eq(-1),c.addClass(r.slidePrevClass)),r.loop&&(l.hasClass(r.slideDuplicateClass)?n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass):n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass),c.hasClass(r.slideDuplicateClass)?n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass):n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,r=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:n,snapGrid:i,params:s,activeIndex:o,realIndex:a,snapIndex:l}=t;let c,u=e;if(void 0===u){for(let e=0;e<n.length;e+=1)void 0!==n[e+1]?r>=n[e]&&r<n[e+1]-(n[e+1]-n[e])/2?u=e:r>=n[e]&&r<n[e+1]&&(u=e+1):r>=n[e]&&(u=e);s.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if(i.indexOf(r)>=0)c=i.indexOf(r);else{const e=Math.min(s.slidesPerGroupSkip,u);c=e+Math.floor((u-e)/s.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),u===o)return void(c!==l&&(t.snapIndex=c,t.emit("snapIndexChange")));const p=parseInt(t.slides.eq(u).attr("data-swiper-slide-index")||u,10);Object.assign(t,{snapIndex:c,realIndex:p,previousIndex:o,activeIndex:u}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),a!==p&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,r=t.params,n=w(e).closest(`.${r.slideClass}`)[0];let i,s=!1;if(n)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===n){s=!0,i=e;break}if(!n||!s)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(w(n).attr("data-swiper-slide-index"),10):t.clickedIndex=i,r.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};var L={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:r,translate:n,$wrapperEl:i}=this;if(t.virtualTranslate)return r?-n:n;if(t.cssMode)return n;let s=_(i[0],e);return r&&(s=-s),s||0},setTranslate:function(e,t){const r=this,{rtlTranslate:n,params:i,$wrapperEl:s,wrapperEl:o,progress:a}=r;let l,c=0,u=0;r.isHorizontal()?c=n?-e:e:u=e,i.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),i.cssMode?o[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-c:-u:i.virtualTranslate||s.transform(`translate3d(${c}px, ${u}px, 0px)`),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?c:u;const p=r.maxTranslate()-r.minTranslate();l=0===p?0:(e-r.minTranslate())/p,l!==a&&r.updateProgress(e),r.emit("setTranslate",r.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,r,n,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===r&&(r=!0),void 0===n&&(n=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(u=n&&e>l?l:n&&e<c?c:e,s.updateProgress(u),o.cssMode){const e=s.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return C({swiper:s,targetPosition:-u,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(s.setTransition(0),s.setTranslate(u),r&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(u),r&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,r&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}};function $(e){let{swiper:t,runCallbacks:r,direction:n,step:i}=e;const{activeIndex:s,previousIndex:o}=t;let a=n;if(a||(a=s>o?"next":s<o?"prev":"reset"),t.emit(`transition${i}`),r&&s!==o){if("reset"===a)return void t.emit(`slideResetTransition${i}`);t.emit(`slideChangeTransition${i}`),"next"===a?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}var D={slideTo:function(e,t,r,n,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===r&&(r=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const s=this;let o=e;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:p,rtlTranslate:d,wrapperEl:h,enabled:f}=s;if(s.animating&&a.preventInteractionOnTransition||!f&&!n&&!i)return!1;const g=Math.min(s.params.slidesPerGroupSkip,o);let m=g+Math.floor((o-g)/s.params.slidesPerGroup);m>=l.length&&(m=l.length-1),(p||a.initialSlide||0)===(u||0)&&r&&s.emit("beforeSlideChangeStart");const y=-l[m];if(s.updateProgress(y),a.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*y),r=Math.floor(100*c[e]),n=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=r&&t<n-(n-r)/2?o=e:t>=r&&t<n&&(o=e+1):t>=r&&(o=e)}if(s.initialized&&o!==p){if(!s.allowSlideNext&&y<s.translate&&y<s.minTranslate())return!1;if(!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(p||0)!==o)return!1}let v;if(v=o>p?"next":o<p?"prev":"reset",d&&-y===s.translate||!d&&y===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==a.effect&&s.setTranslate(y),"reset"!==v&&(s.transitionStart(r,v),s.transitionEnd(r,v)),!1;if(a.cssMode){const e=s.isHorizontal(),r=d?y:-y;if(0===t){const t=s.virtual&&s.params.virtual.enabled;t&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),h[e?"scrollLeft":"scrollTop"]=r,t&&requestAnimationFrame((()=>{s.wrapperEl.style.scrollSnapType="",s._swiperImmediateVirtual=!1}))}else{if(!s.support.smoothScroll)return C({swiper:s,targetPosition:r,side:e?"left":"top"}),!0;h.scrollTo({[e?"left":"top"]:r,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(y),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,n),s.transitionStart(r,v),0===t?s.transitionEnd(r,v):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(r,v))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===r&&(r=!0);const i=this;let s=e;return i.params.loop&&(s+=i.loopedSlides),i.slideTo(s,t,r,n)},slideNext:function(e,t,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const n=this,{animating:i,enabled:s,params:o}=n;if(!s)return n;let a=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(a=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(i&&o.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}return o.rewind&&n.isEnd?n.slideTo(0,e,t,r):n.slideTo(n.activeIndex+l,e,t,r)},slidePrev:function(e,t,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const n=this,{params:i,animating:s,snapGrid:o,slidesGrid:a,rtlTranslate:l,enabled:c}=n;if(!c)return n;if(i.loop){if(s&&i.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const p=u(l?n.translate:-n.translate),d=o.map((e=>u(e)));let h=o[d.indexOf(p)-1];if(void 0===h&&i.cssMode){let e;o.forEach(((t,r)=>{p>=t&&(e=r)})),void 0!==e&&(h=o[e>0?e-1:e])}let f=0;if(void 0!==h&&(f=a.indexOf(h),f<0&&(f=n.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(f=f-n.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),i.rewind&&n.isBeginning){const i=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(i,e,t,r)}return n.slideTo(f,e,t,r)},slideReset:function(e,t,r){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,r)},slideToClosest:function(e,t,r,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===n&&(n=.5);const i=this;let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const e=i.snapGrid[a];l-e>(i.snapGrid[a+1]-e)*n&&(s+=i.params.slidesPerGroup)}else{const e=i.snapGrid[a-1];l-e<=(i.snapGrid[a]-e)*n&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,e,t,r)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:r}=e,n="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let i,s=e.clickedIndex;if(t.loop){if(e.animating)return;i=parseInt(w(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?s<e.loopedSlides-n/2||s>e.slides.length-e.loopedSlides+n/2?(e.loopFix(),s=r.children(`.${t.slideClass}[data-swiper-slide-index="${i}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),b((()=>{e.slideTo(s)}))):e.slideTo(s):s>e.slides.length-n?(e.loopFix(),s=r.children(`.${t.slideClass}[data-swiper-slide-index="${i}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),b((()=>{e.slideTo(s)}))):e.slideTo(s)}else e.slideTo(s)}};var U={loopCreate:function(){const e=this,t=c(),{params:r,$wrapperEl:n}=e,i=n.children().length>0?w(n.children()[0].parentNode):n;i.children(`.${r.slideClass}.${r.slideDuplicateClass}`).remove();let s=i.children(`.${r.slideClass}`);if(r.loopFillGroupWithBlank){const e=r.slidesPerGroup-s.length%r.slidesPerGroup;if(e!==r.slidesPerGroup){for(let n=0;n<e;n+=1){const e=w(t.createElement("div")).addClass(`${r.slideClass} ${r.slideBlankClass}`);i.append(e)}s=i.children(`.${r.slideClass}`)}}"auto"!==r.slidesPerView||r.loopedSlides||(r.loopedSlides=s.length),e.loopedSlides=Math.ceil(parseFloat(r.loopedSlides||r.slidesPerView,10)),e.loopedSlides+=r.loopAdditionalSlides,e.loopedSlides>s.length&&(e.loopedSlides=s.length);const o=[],a=[];s.each(((t,r)=>{const n=w(t);r<e.loopedSlides&&a.push(t),r<s.length&&r>=s.length-e.loopedSlides&&o.push(t),n.attr("data-swiper-slide-index",r)}));for(let e=0;e<a.length;e+=1)i.append(w(a[e].cloneNode(!0)).addClass(r.slideDuplicateClass));for(let e=o.length-1;e>=0;e-=1)i.prepend(w(o[e].cloneNode(!0)).addClass(r.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:r,loopedSlides:n,allowSlidePrev:i,allowSlideNext:s,snapGrid:o,rtlTranslate:a}=e;let l;e.allowSlidePrev=!0,e.allowSlideNext=!0;const c=-o[t]-e.getTranslate();if(t<n){l=r.length-3*n+t,l+=n;e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((a?-e.translate:e.translate)-c)}else if(t>=r.length-n){l=-r.length+t+n,l+=n;e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((a?-e.translate:e.translate)-c)}e.allowSlidePrev=i,e.allowSlideNext=s,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:r}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}};function z(e){const t=this,r=c(),n=p(),i=t.touchEventsData,{params:s,touches:o,enabled:a}=t;if(!a)return;if(t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let l=e;l.originalEvent&&(l=l.originalEvent);let u=w(l.target);if("wrapper"===s.touchEventsTarget&&!u.closest(t.wrapperEl).length)return;if(i.isTouchEvent="touchstart"===l.type,!i.isTouchEvent&&"which"in l&&3===l.which)return;if(!i.isTouchEvent&&"button"in l&&l.button>0)return;if(i.isTouched&&i.isMoved)return;!!s.noSwipingClass&&""!==s.noSwipingClass&&l.target&&l.target.shadowRoot&&e.path&&e.path[0]&&(u=w(e.path[0]));const d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,h=!(!l.target||!l.target.shadowRoot);if(s.noSwiping&&(h?function(e,t){return void 0===t&&(t=this),function t(r){return r&&r!==c()&&r!==p()?(r.assignedSlot&&(r=r.assignedSlot),r.closest(e)||t(r.getRootNode().host)):null}(t)}(d,l.target):u.closest(d)[0]))return void(t.allowClick=!0);if(s.swipeHandler&&!u.closest(s.swipeHandler)[0])return;o.currentX="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,o.currentY="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY;const f=o.currentX,g=o.currentY,m=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,y=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(m&&(f<=y||f>=n.innerWidth-y)){if("prevent"!==m)return;e.preventDefault()}if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=g,i.touchStartTime=x(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==l.type){let e=!0;u.is(i.focusableElements)&&(e=!1,"SELECT"===u[0].nodeName&&(i.isTouched=!1)),r.activeElement&&w(r.activeElement).is(i.focusableElements)&&r.activeElement!==u[0]&&r.activeElement.blur();const n=e&&t.allowTouchMove&&s.touchStartPreventDefault;!s.touchStartForcePreventDefault&&!n||u[0].isContentEditable||l.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}function q(e){const t=c(),r=this,n=r.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=r;if(!a)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched)return void(n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",l));if(n.isTouchEvent&&"touchmove"!==l.type)return;const u="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),p="touchmove"===l.type?u.pageX:l.pageX,d="touchmove"===l.type?u.pageY:l.pageY;if(l.preventedByNestedSwiper)return s.startX=p,void(s.startY=d);if(!r.allowTouchMove)return w(l.target).is(n.focusableElements)||(r.allowClick=!1),void(n.isTouched&&(Object.assign(s,{startX:p,startY:d,currentX:p,currentY:d}),n.touchStartTime=x()));if(n.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(r.isVertical()){if(d<s.startY&&r.translate<=r.maxTranslate()||d>s.startY&&r.translate>=r.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(p<s.startX&&r.translate<=r.maxTranslate()||p>s.startX&&r.translate>=r.minTranslate())return;if(n.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&w(l.target).is(n.focusableElements))return n.isMoved=!0,void(r.allowClick=!1);if(n.allowTouchCallbacks&&r.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=p,s.currentY=d;const h=s.currentX-s.startX,f=s.currentY-s.startY;if(r.params.threshold&&Math.sqrt(h**2+f**2)<r.params.threshold)return;if(void 0===n.isScrolling){let e;r.isHorizontal()&&s.currentY===s.startY||r.isVertical()&&s.currentX===s.startX?n.isScrolling=!1:h*h+f*f>=25&&(e=180*Math.atan2(Math.abs(f),Math.abs(h))/Math.PI,n.isScrolling=r.isHorizontal()?e>i.touchAngle:90-e>i.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",l),void 0===n.startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(n.startMoving=!0)),n.isScrolling)return void(n.isTouched=!1);if(!n.startMoving)return;r.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation(),n.isMoved||(i.loop&&!i.cssMode&&r.loopFix(),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating&&r.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!i.grabCursor||!0!==r.allowSlideNext&&!0!==r.allowSlidePrev||r.setGrabCursor(!0),r.emit("sliderFirstMove",l)),r.emit("sliderMove",l),n.isMoved=!0;let g=r.isHorizontal()?h:f;s.diff=g,g*=i.touchRatio,o&&(g=-g),r.swipeDirection=g>0?"prev":"next",n.currentTranslate=g+n.startTranslate;let m=!0,y=i.resistanceRatio;if(i.touchReleaseOnEdges&&(y=0),g>0&&n.currentTranslate>r.minTranslate()?(m=!1,i.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+g)**y)):g<0&&n.currentTranslate<r.maxTranslate()&&(m=!1,i.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-g)**y)),m&&(l.preventedByNestedSwiper=!0),!r.allowSlideNext&&"next"===r.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&"prev"===r.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),r.allowSlidePrev||r.allowSlideNext||(n.currentTranslate=n.startTranslate),i.threshold>0){if(!(Math.abs(g)>i.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,n.currentTranslate=n.startTranslate,void(s.diff=r.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&r.freeMode||i.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),r.params.freeMode&&i.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function F(e){const t=this,r=t.touchEventsData,{params:n,touches:i,rtlTranslate:s,slidesGrid:o,enabled:a}=t;if(!a)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),r.allowTouchCallbacks&&t.emit("touchEnd",l),r.allowTouchCallbacks=!1,!r.isTouched)return r.isMoved&&n.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,void(r.startMoving=!1);n.grabCursor&&r.isMoved&&r.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const c=x(),u=c-r.touchStartTime;if(t.allowClick){const e=l.path||l.composedPath&&l.composedPath();t.updateClickedSlide(e&&e[0]||l.target),t.emit("tap click",l),u<300&&c-r.lastClickTime<300&&t.emit("doubleTap doubleClick",l)}if(r.lastClickTime=x(),b((()=>{t.destroyed||(t.allowClick=!0)})),!r.isTouched||!r.isMoved||!t.swipeDirection||0===i.diff||r.currentTranslate===r.startTranslate)return r.isTouched=!1,r.isMoved=!1,void(r.startMoving=!1);let p;if(r.isTouched=!1,r.isMoved=!1,r.startMoving=!1,p=n.followFinger?s?t.translate:-t.translate:-r.currentTranslate,n.cssMode)return;if(t.params.freeMode&&n.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:p});let d=0,h=t.slidesSizesGrid[0];for(let e=0;e<o.length;e+=e<n.slidesPerGroupSkip?1:n.slidesPerGroup){const t=e<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;void 0!==o[e+t]?p>=o[e]&&p<o[e+t]&&(d=e,h=o[e+t]-o[e]):p>=o[e]&&(d=e,h=o[o.length-1]-o[o.length-2])}let f=null,g=null;n.rewind&&(t.isBeginning?g=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(f=0));const m=(p-o[d])/h,y=d<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(u>n.longSwipesMs){if(!n.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(m>=n.longSwipesRatio?t.slideTo(n.rewind&&t.isEnd?f:d+y):t.slideTo(d)),"prev"===t.swipeDirection&&(m>1-n.longSwipesRatio?t.slideTo(d+y):null!==g&&m<0&&Math.abs(m)>n.longSwipesRatio?t.slideTo(g):t.slideTo(d))}else{if(!n.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(l.target===t.navigation.nextEl||l.target===t.navigation.prevEl)?l.target===t.navigation.nextEl?t.slideTo(d+y):t.slideTo(d):("next"===t.swipeDirection&&t.slideTo(null!==f?f:d+y),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:d))}}function H(){const e=this,{params:t,el:r}=e;if(r&&0===r.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:s}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=n,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function B(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function W(){const e=this,{wrapperEl:t,rtlTranslate:r,enabled:n}=e;if(!n)return;let i;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const s=e.maxTranslate()-e.minTranslate();i=0===s?0:(e.translate-e.minTranslate())/s,i!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let V=!1;function G(){}const Y=(e,t)=>{const r=c(),{params:n,touchEvents:i,el:s,wrapperEl:o,device:a,support:l}=e,u=!!n.nested,p="on"===t?"addEventListener":"removeEventListener",d=t;if(l.touch){const t=!("touchstart"!==i.start||!l.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};s[p](i.start,e.onTouchStart,t),s[p](i.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:u}:u),s[p](i.end,e.onTouchEnd,t),i.cancel&&s[p](i.cancel,e.onTouchEnd,t)}else s[p](i.start,e.onTouchStart,!1),r[p](i.move,e.onTouchMove,u),r[p](i.end,e.onTouchEnd,!1);(n.preventClicks||n.preventClicksPropagation)&&s[p]("click",e.onClick,!0),n.cssMode&&o[p]("scroll",e.onScroll),n.updateOnWindowResize?e[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",H,!0):e[d]("observerUpdate",H,!0)};var K={attachEvents:function(){const e=this,t=c(),{params:r,support:n}=e;e.onTouchStart=z.bind(e),e.onTouchMove=q.bind(e),e.onTouchEnd=F.bind(e),r.cssMode&&(e.onScroll=W.bind(e)),e.onClick=B.bind(e),n.touch&&!V&&(t.addEventListener("touchstart",G),V=!0),Y(e,"on")},detachEvents:function(){Y(this,"off")}};const J=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var X={setBreakpoint:function(){const e=this,{activeIndex:t,initialized:r,loopedSlides:n=0,params:i,$el:s}=e,o=i.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const a=e.getBreakpoint(o,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;const l=(a in o?o[a]:void 0)||e.originalParams,c=J(e,i),u=J(e,l),p=i.enabled;c&&!u?(s.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&u&&(s.addClass(`${i.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===i.grid.fill)&&s.addClass(`${i.containerModifierClass}grid-column`),e.emitContainerClasses());const d=l.direction&&l.direction!==i.direction,h=i.loop&&(l.slidesPerView!==i.slidesPerView||d);d&&r&&e.changeDirection(),T(e.params,l);const f=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),p&&!f?e.disable():!p&&f&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",l),h&&r&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-n+e.loopedSlides,0,!1)),e.emit("breakpoint",l)},getBreakpoint:function(e,t,r){if(void 0===t&&(t="window"),!e||"container"===t&&!r)return;let n=!1;const i=p(),s="window"===t?i.innerHeight:r.clientHeight,o=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:s*t,point:e}}return{value:e,point:e}}));o.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<o.length;e+=1){const{point:s,value:a}=o[e];"window"===t?i.matchMedia(`(min-width: ${a}px)`).matches&&(n=s):a<=r.clientWidth&&(n=s)}return n||"max"}};var Q={addClasses:function(){const e=this,{classNames:t,params:r,rtl:n,$el:i,device:s,support:o}=e,a=function(e,t){const r=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((n=>{e[n]&&r.push(t+n)})):"string"==typeof e&&r.push(t+e)})),r}(["initialized",r.direction,{"pointer-events":!o.touch},{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&"column"===r.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides}],r.containerModifierClass);t.push(...a),i.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}};var Z={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function ee(e,t){return function(r){void 0===r&&(r={});const n=Object.keys(r)[0],i=r[n];"object"==typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(n)>=0&&!0===e[n]&&(e[n]={auto:!0}),n in e&&"enabled"in i?(!0===e[n]&&(e[n]={enabled:!0}),"object"!=typeof e[n]||"enabled"in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),T(t,r)):T(t,r)):T(t,r)}}const te={eventsEmitter:N,update:R,translate:L,transition:{setTransition:function(e,t){const r=this;r.params.cssMode||r.$wrapperEl.transition(e),r.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),$({swiper:r,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const r=this,{params:n}=r;r.animating=!1,n.cssMode||(r.setTransition(0),$({swiper:r,runCallbacks:e,direction:t,step:"End"}))}},slide:D,loop:U,grabCursor:{setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;r.style.cursor="move",r.style.cursor=e?"-webkit-grabbing":"-webkit-grab",r.style.cursor=e?"-moz-grabbin":"-moz-grab",r.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:K,breakpoints:X,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:r}=e,{slidesOffsetBefore:n}=r;if(n){const t=e.slides.length-1,r=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*n;e.isLocked=e.size>r}else e.isLocked=1===e.snapGrid.length;!0===r.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===r.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:Q,images:{loadImage:function(e,t,r,n,i,s){const o=p();let a;function l(){s&&s()}w(e).parent("picture")[0]||e.complete&&i?l():t?(a=new o.Image,a.onload=l,a.onerror=l,n&&(a.sizes=n),r&&(a.srcset=r),t&&(a.src=t)):l()},preloadImages:function(){const e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let r=0;r<e.imagesToLoad.length;r+=1){const n=e.imagesToLoad[r];e.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,t)}}}},re={};class ne{constructor(){let e,t;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];if(1===n.length&&n[0].constructor&&"Object"===Object.prototype.toString.call(n[0]).slice(8,-1)?t=n[0]:[e,t]=n,t||(t={}),t=T({},t),e&&!t.el&&(t.el=e),t.el&&w(t.el).length>1){const e=[];return w(t.el).each((r=>{const n=T({},t,{el:r});e.push(new ne(n))})),e}const s=this;s.__swiper__=!0,s.support=j(),s.device=M({userAgent:t.userAgent}),s.browser=I(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],t.modules&&Array.isArray(t.modules)&&s.modules.push(...t.modules);const o={};s.modules.forEach((e=>{e({swiper:s,extendParams:ee(t,o),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})}));const a=T({},Z,o);return s.params=T({},a,re,t),s.originalParams=T({},s.params),s.passedParams=T({},t),s.params&&s.params.on&&Object.keys(s.params.on).forEach((e=>{s.on(e,s.params.on[e])})),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=w,Object.assign(s,{enabled:s.params.enabled,el:e,classNames:[],slides:w(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===s.params.direction,isVertical:()=>"vertical"===s.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},s.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:x(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const n=r.minTranslate(),i=(r.maxTranslate()-n)*e+n;r.translateTo(i,void 0===t?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((r=>{const n=e.getSlideClasses(r);t.push({slideEl:r,classNames:n}),e.emit("_slideClass",r,n)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:r,slides:n,slidesGrid:i,slidesSizesGrid:s,size:o,activeIndex:a}=this;let l=1;if(r.centeredSlides){let e,t=n[a].swiperSlideSize;for(let r=a+1;r<n.length;r+=1)n[r]&&!e&&(t+=n[r].swiperSlideSize,l+=1,t>o&&(e=!0));for(let r=a-1;r>=0;r-=1)n[r]&&!e&&(t+=n[r].swiperSlideSize,l+=1,t>o&&(e=!0))}else if("current"===e)for(let e=a+1;e<n.length;e+=1){(t?i[e]+s[e]-i[a]<o:i[e]-i[a]<o)&&(l+=1)}else for(let e=a-1;e>=0;e-=1){i[a]-i[e]<o&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;function n(){const t=e.rtlTranslate?-1*e.translate:e.translate,r=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(r),e.updateActiveIndex(),e.updateSlidesClasses()}let i;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(n(),e.params.autoHeight&&e.updateAutoHeight()):(i=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),i||n()),r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const r=this,n=r.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(r.$el.removeClass(`${r.params.containerModifierClass}${n}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each((t=>{"vertical"===e?t.style.width="":t.style.height=""})),r.emit("changeDirection"),t&&r.update()),r}mount(e){const t=this;if(t.mounted)return!0;const r=w(e||t.params.el);if(!(e=r[0]))return!1;e.swiper=t;const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let i=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=w(e.shadowRoot.querySelector(n()));return t.children=e=>r.children(e),t}return r.children(n())})();if(0===i.length&&t.params.createElements){const e=c().createElement("div");i=w(e),e.className=t.params.wrapperClass,r.append(e),r.children(`.${t.params.slideClass}`).each((e=>{i.append(e)}))}return Object.assign(t,{$el:r,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===r.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===r.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0}init(e){const t=this;if(t.initialized)return t;return!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const r=this,{params:n,$el:i,$wrapperEl:s,slides:o}=r;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),n.loop&&r.loopDestroy(),t&&(r.removeClasses(),i.removeAttr("style"),s.removeAttr("style"),o&&o.length&&o.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach((e=>{r.off(e)})),!1!==e&&(r.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(r)),r.destroyed=!0),null}static extendDefaults(e){T(re,e)}static get extendedDefaults(){return re}static get defaults(){return Z}static installModule(e){ne.prototype.__modules__||(ne.prototype.__modules__=[]);const t=ne.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>ne.installModule(e))),ne):(ne.installModule(e),ne)}}Object.keys(te).forEach((e=>{Object.keys(te[e]).forEach((t=>{ne.prototype[t]=te[e][t]}))})),ne.use([function(e){let{swiper:t,on:r,emit:n}=e;const i=p();let s=null,o=null;const a=()=>{t&&!t.destroyed&&t.initialized&&(n("beforeResize"),n("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&n("orientationchange")};r("init",(()=>{t.params.resizeObserver&&void 0!==i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(s=new ResizeObserver((e=>{o=i.requestAnimationFrame((()=>{const{width:r,height:n}=t;let i=r,s=n;e.forEach((e=>{let{contentBoxSize:r,contentRect:n,target:o}=e;o&&o!==t.el||(i=n?n.width:(r[0]||r).inlineSize,s=n?n.height:(r[0]||r).blockSize)})),i===r&&s===n||a()}))})),s.observe(t.el)):(i.addEventListener("resize",a),i.addEventListener("orientationchange",l))})),r("destroy",(()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",l)}))},function(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;const s=[],o=p(),a=function(e,t){void 0===t&&(t={});const r=new(o.MutationObserver||o.WebkitMutationObserver)((e=>{if(1===e.length)return void i("observerUpdate",e[0]);const t=function(){i("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}));r.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),s.push(r)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=t.$el.parents();for(let t=0;t<e.length;t+=1)a(e[t])}a(t.$el[0],{childList:t.params.observeSlideChildren}),a(t.$wrapperEl[0],{attributes:!1})}})),n("destroy",(()=>{s.forEach((e=>{e.disconnect()})),s.splice(0,s.length)}))}]);var ie=ne;function se(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;const s=c(),o=p();function a(e){if(!t.enabled)return;const{rtlTranslate:r}=t;let n=e;n.originalEvent&&(n=n.originalEvent);const a=n.keyCode||n.charCode,l=t.params.keyboard.pageUpDown,c=l&&33===a,u=l&&34===a,p=37===a,d=39===a,h=38===a,f=40===a;if(!t.allowSlideNext&&(t.isHorizontal()&&d||t.isVertical()&&f||u))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&p||t.isVertical()&&h||c))return!1;if(!(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||s.activeElement&&s.activeElement.nodeName&&("input"===s.activeElement.nodeName.toLowerCase()||"textarea"===s.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(c||u||p||d||h||f)){let e=!1;if(t.$el.parents(`.${t.params.slideClass}`).length>0&&0===t.$el.parents(`.${t.params.slideActiveClass}`).length)return;const n=t.$el,i=n[0].clientWidth,s=n[0].clientHeight,a=o.innerWidth,l=o.innerHeight,c=t.$el.offset();r&&(c.left-=t.$el[0].scrollLeft);const u=[[c.left,c.top],[c.left+i,c.top],[c.left,c.top+s],[c.left+i,c.top+s]];for(let t=0;t<u.length;t+=1){const r=u[t];if(r[0]>=0&&r[0]<=a&&r[1]>=0&&r[1]<=l){if(0===r[0]&&0===r[1])continue;e=!0}}if(!e)return}t.isHorizontal()?((c||u||p||d)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),((u||d)&&!r||(c||p)&&r)&&t.slideNext(),((c||p)&&!r||(u||d)&&r)&&t.slidePrev()):((c||u||h||f)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),(u||f)&&t.slideNext(),(c||h)&&t.slidePrev()),i("keyPress",a)}}function l(){t.keyboard.enabled||(w(s).on("keydown",a),t.keyboard.enabled=!0)}function u(){t.keyboard.enabled&&(w(s).off("keydown",a),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},r({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),n("init",(()=>{t.params.keyboard.enabled&&l()})),n("destroy",(()=>{t.keyboard.enabled&&u()})),Object.assign(t.keyboard,{enable:l,disable:u})}function oe(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;const s=p();let o;r({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),t.mousewheel={enabled:!1};let a,l=x();const c=[];function u(){t.enabled&&(t.mouseEntered=!0)}function d(){t.enabled&&(t.mouseEntered=!1)}function h(e){return!(t.params.mousewheel.thresholdDelta&&e.delta<t.params.mousewheel.thresholdDelta)&&(!(t.params.mousewheel.thresholdTime&&x()-l<t.params.mousewheel.thresholdTime)&&(e.delta>=6&&x()-l<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),i("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),i("scroll",e.raw)),l=(new s.Date).getTime(),!1)))}function f(e){let r=e,n=!0;if(!t.enabled)return;const s=t.params.mousewheel;t.params.cssMode&&r.preventDefault();let l=t.$el;if("container"!==t.params.mousewheel.eventsTarget&&(l=w(t.params.mousewheel.eventsTarget)),!t.mouseEntered&&!l[0].contains(r.target)&&!s.releaseOnEdges)return!0;r.originalEvent&&(r=r.originalEvent);let u=0;const p=t.rtlTranslate?-1:1,d=function(e){let t=0,r=0,n=0,i=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),n=10*t,i=10*r,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(n=e.deltaX),e.shiftKey&&!n&&(n=i,i=0),(n||i)&&e.deltaMode&&(1===e.deltaMode?(n*=40,i*=40):(n*=800,i*=800)),n&&!t&&(t=n<1?-1:1),i&&!r&&(r=i<1?-1:1),{spinX:t,spinY:r,pixelX:n,pixelY:i}}(r);if(s.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(d.pixelX)>Math.abs(d.pixelY)))return!0;u=-d.pixelX*p}else{if(!(Math.abs(d.pixelY)>Math.abs(d.pixelX)))return!0;u=-d.pixelY}else u=Math.abs(d.pixelX)>Math.abs(d.pixelY)?-d.pixelX*p:-d.pixelY;if(0===u)return!0;s.invert&&(u=-u);let f=t.getTranslate()+u*s.sensitivity;if(f>=t.minTranslate()&&(f=t.minTranslate()),f<=t.maxTranslate()&&(f=t.maxTranslate()),n=!!t.params.loop||!(f===t.minTranslate()||f===t.maxTranslate()),n&&t.params.nested&&r.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const e={time:x(),delta:Math.abs(u),direction:Math.sign(u)},n=a&&e.time<a.time+500&&e.delta<=a.delta&&e.direction===a.direction;if(!n){a=void 0,t.params.loop&&t.loopFix();let l=t.getTranslate()+u*s.sensitivity;const p=t.isBeginning,d=t.isEnd;if(l>=t.minTranslate()&&(l=t.minTranslate()),l<=t.maxTranslate()&&(l=t.maxTranslate()),t.setTransition(0),t.setTranslate(l),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!p&&t.isBeginning||!d&&t.isEnd)&&t.updateSlidesClasses(),t.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();const r=c.length?c[c.length-1]:void 0,n=c[0];if(c.push(e),r&&(e.delta>r.delta||e.direction!==r.direction))c.splice(0);else if(c.length>=15&&e.time-n.time<500&&n.delta-e.delta>=1&&e.delta<=6){const r=u>0?.8:.2;a=e,c.splice(0),o=b((()=>{t.slideToClosest(t.params.speed,!0,void 0,r)}),0)}o||(o=b((()=>{a=e,c.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)}),500))}if(n||i("scroll",r),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),l===t.minTranslate()||l===t.maxTranslate())return!0}}else{const r={time:x(),delta:Math.abs(u),direction:Math.sign(u),raw:e};c.length>=2&&c.shift();const n=c.length?c[c.length-1]:void 0;if(c.push(r),n?(r.direction!==n.direction||r.delta>n.delta||r.time>n.time+150)&&h(r):h(r),function(e){const r=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&r.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&r.releaseOnEdges)return!0;return!1}(r))return!0}return r.preventDefault?r.preventDefault():r.returnValue=!1,!1}function g(e){let r=t.$el;"container"!==t.params.mousewheel.eventsTarget&&(r=w(t.params.mousewheel.eventsTarget)),r[e]("mouseenter",u),r[e]("mouseleave",d),r[e]("wheel",f)}function m(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",f),!0):!t.mousewheel.enabled&&(g("on"),t.mousewheel.enabled=!0,!0)}function y(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,f),!0):!!t.mousewheel.enabled&&(g("off"),t.mousewheel.enabled=!1,!0)}n("init",(()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&y(),t.params.mousewheel.enabled&&m()})),n("destroy",(()=>{t.params.cssMode&&m(),t.mousewheel.enabled&&y()})),Object.assign(t.mousewheel,{enable:m,disable:y})}function ae(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;function s(e){let r;return e&&(r=w(e),t.params.uniqueNavElements&&"string"==typeof e&&r.length>1&&1===t.$el.find(e).length&&(r=t.$el.find(e))),r}function o(e,r){const n=t.params.navigation;e&&e.length>0&&(e[r?"addClass":"removeClass"](n.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=r),t.params.watchOverflow&&t.enabled&&e[t.isLocked?"addClass":"removeClass"](n.lockClass))}function a(){if(t.params.loop)return;const{$nextEl:e,$prevEl:r}=t.navigation;o(r,t.isBeginning&&!t.params.rewind),o(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&t.slidePrev()}function u(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&t.slideNext()}function p(){const e=t.params.navigation;if(t.params.navigation=function(e,t,r,n){const i=c();return e.params.createElements&&Object.keys(n).forEach((s=>{if(!r[s]&&!0===r.auto){let o=e.$el.children(`.${n[s]}`)[0];o||(o=i.createElement("div"),o.className=n[s],e.$el.append(o)),r[s]=o,t[s]=o}})),r}(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;const r=s(e.nextEl),n=s(e.prevEl);r&&r.length>0&&r.on("click",u),n&&n.length>0&&n.on("click",l),Object.assign(t.navigation,{$nextEl:r,nextEl:r&&r[0],$prevEl:n,prevEl:n&&n[0]}),t.enabled||(r&&r.addClass(e.lockClass),n&&n.addClass(e.lockClass))}function d(){const{$nextEl:e,$prevEl:r}=t.navigation;e&&e.length&&(e.off("click",u),e.removeClass(t.params.navigation.disabledClass)),r&&r.length&&(r.off("click",l),r.removeClass(t.params.navigation.disabledClass))}r({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},n("init",(()=>{p(),a()})),n("toEdge fromEdge lock unlock",(()=>{a()})),n("destroy",(()=>{d()})),n("enable disable",(()=>{const{$nextEl:e,$prevEl:r}=t.navigation;e&&e[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),r&&r[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)})),n("click",((e,r)=>{const{$nextEl:n,$prevEl:s}=t.navigation,o=r.target;if(t.params.navigation.hideOnClick&&!w(o).is(s)&&!w(o).is(n)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===o||t.pagination.el.contains(o)))return;let e;n?e=n.hasClass(t.params.navigation.hiddenClass):s&&(e=s.hasClass(t.params.navigation.hiddenClass)),i(!0===e?"navigationShow":"navigationHide"),n&&n.toggleClass(t.params.navigation.hiddenClass),s&&s.toggleClass(t.params.navigation.hiddenClass)}})),Object.assign(t.navigation,{update:a,init:p,destroy:d})}function le(e){let{swiper:t,extendParams:r,on:n,emit:i}=e;r({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}}),t.lazy={};let s=!1,o=!1;function a(e,r){void 0===r&&(r=!0);const n=t.params.lazy;if(void 0===e)return;if(0===t.slides.length)return;const s=t.virtual&&t.params.virtual.enabled?t.$wrapperEl.children(`.${t.params.slideClass}[data-swiper-slide-index="${e}"]`):t.slides.eq(e),o=s.find(`.${n.elementClass}:not(.${n.loadedClass}):not(.${n.loadingClass})`);!s.hasClass(n.elementClass)||s.hasClass(n.loadedClass)||s.hasClass(n.loadingClass)||o.push(s[0]),0!==o.length&&o.each((e=>{const o=w(e);o.addClass(n.loadingClass);const l=o.attr("data-background"),c=o.attr("data-src"),u=o.attr("data-srcset"),p=o.attr("data-sizes"),d=o.parent("picture");t.loadImage(o[0],c||l,u,p,!1,(()=>{if(null!=t&&t&&(!t||t.params)&&!t.destroyed){if(l?(o.css("background-image",`url("${l}")`),o.removeAttr("data-background")):(u&&(o.attr("srcset",u),o.removeAttr("data-srcset")),p&&(o.attr("sizes",p),o.removeAttr("data-sizes")),d.length&&d.children("source").each((e=>{const t=w(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))})),c&&(o.attr("src",c),o.removeAttr("data-src"))),o.addClass(n.loadedClass).removeClass(n.loadingClass),s.find(`.${n.preloaderClass}`).remove(),t.params.loop&&r){const e=s.attr("data-swiper-slide-index");if(s.hasClass(t.params.slideDuplicateClass)){a(t.$wrapperEl.children(`[data-swiper-slide-index="${e}"]:not(.${t.params.slideDuplicateClass})`).index(),!1)}else{a(t.$wrapperEl.children(`.${t.params.slideDuplicateClass}[data-swiper-slide-index="${e}"]`).index(),!1)}}i("lazyImageReady",s[0],o[0]),t.params.autoHeight&&t.updateAutoHeight()}})),i("lazyImageLoad",s[0],o[0])}))}function l(){const{$wrapperEl:e,params:r,slides:n,activeIndex:i}=t,s=t.virtual&&r.virtual.enabled,l=r.lazy;let c=r.slidesPerView;function u(t){if(s){if(e.children(`.${r.slideClass}[data-swiper-slide-index="${t}"]`).length)return!0}else if(n[t])return!0;return!1}function p(e){return s?w(e).attr("data-swiper-slide-index"):w(e).index()}if("auto"===c&&(c=0),o||(o=!0),t.params.watchSlidesProgress)e.children(`.${r.slideVisibleClass}`).each((e=>{a(s?w(e).attr("data-swiper-slide-index"):w(e).index())}));else if(c>1)for(let e=i;e<i+c;e+=1)u(e)&&a(e);else a(i);if(l.loadPrevNext)if(c>1||l.loadPrevNextAmount&&l.loadPrevNextAmount>1){const e=l.loadPrevNextAmount,t=c,r=Math.min(i+t+Math.max(e,t),n.length),s=Math.max(i-Math.max(t,e),0);for(let e=i+c;e<r;e+=1)u(e)&&a(e);for(let e=s;e<i;e+=1)u(e)&&a(e)}else{const t=e.children(`.${r.slideNextClass}`);t.length>0&&a(p(t));const n=e.children(`.${r.slidePrevClass}`);n.length>0&&a(p(n))}}function c(){const e=p();if(!t||t.destroyed)return;const r=t.params.lazy.scrollingElement?w(t.params.lazy.scrollingElement):w(e),n=r[0]===e,i=n?e.innerWidth:r[0].offsetWidth,o=n?e.innerHeight:r[0].offsetHeight,a=t.$el.offset(),{rtlTranslate:u}=t;let d=!1;u&&(a.left-=t.$el[0].scrollLeft);const h=[[a.left,a.top],[a.left+t.width,a.top],[a.left,a.top+t.height],[a.left+t.width,a.top+t.height]];for(let e=0;e<h.length;e+=1){const t=h[e];if(t[0]>=0&&t[0]<=i&&t[1]>=0&&t[1]<=o){if(0===t[0]&&0===t[1])continue;d=!0}}const f=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};d?(l(),r.off("scroll",c,f)):s||(s=!0,r.on("scroll",c,f))}n("beforeInit",(()=>{t.params.lazy.enabled&&t.params.preloadImages&&(t.params.preloadImages=!1)})),n("init",(()=>{t.params.lazy.enabled&&(t.params.lazy.checkInView?c():l())})),n("scroll",(()=>{t.params.freeMode&&t.params.freeMode.enabled&&!t.params.freeMode.sticky&&l()})),n("scrollbarDragMove resize _freeModeNoMomentumRelease",(()=>{t.params.lazy.enabled&&(t.params.lazy.checkInView?c():l())})),n("transitionStart",(()=>{t.params.lazy.enabled&&(t.params.lazy.loadOnTransitionStart||!t.params.lazy.loadOnTransitionStart&&!o)&&(t.params.lazy.checkInView?c():l())})),n("transitionEnd",(()=>{t.params.lazy.enabled&&!t.params.lazy.loadOnTransitionStart&&(t.params.lazy.checkInView?c():l())})),n("slideChange",(()=>{const{lazy:e,cssMode:r,watchSlidesProgress:n,touchReleaseOnEdges:i,resistanceRatio:s}=t.params;e.enabled&&(r||n&&(i||0===s))&&l()})),Object.assign(t.lazy,{load:l,loadInSlide:a})}function ce(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function ue(e){let{swiper:t,extendParams:r,on:n}=e;r({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}});let i=null;function s(e){const t=i;0!==t.length&&(t.html(""),t.html(e))}function o(e){e.attr("tabIndex","0")}function a(e){e.attr("tabIndex","-1")}function l(e,t){e.attr("role",t)}function c(e,t){e.attr("aria-roledescription",t)}function u(e,t){e.attr("aria-label",t)}function p(e){e.attr("aria-disabled",!0)}function d(e){e.attr("aria-disabled",!1)}function h(e){if(13!==e.keyCode&&32!==e.keyCode)return;const r=t.params.a11y,n=w(e.target);t.navigation&&t.navigation.$nextEl&&n.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?s(r.lastSlideMessage):s(r.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&n.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?s(r.firstSlideMessage):s(r.prevSlideMessage)),t.pagination&&n.is(ce(t.params.pagination.bulletClass))&&n[0].click()}function f(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function g(){return f()&&t.params.pagination.clickable}const m=(e,t,r)=>{o(e),"BUTTON"!==e[0].tagName&&(l(e,"button"),e.on("keydown",h)),u(e,r),function(e,t){e.attr("aria-controls",t)}(e,t)},y=e=>{const r=e.target.closest(`.${t.params.slideClass}`);if(!r||!t.slides.includes(r))return;const n=t.slides.indexOf(r)===t.activeIndex,i=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(r);n||i||t.slideTo(t.slides.indexOf(r),0)};function v(){const e=t.params.a11y;t.$el.append(i);const r=t.$el;e.containerRoleDescriptionMessage&&c(r,e.containerRoleDescriptionMessage),e.containerMessage&&u(r,e.containerMessage);const n=t.$wrapperEl,s=n.attr("id")||`swiper-wrapper-${o=16,void 0===o&&(o=16),"x".repeat(o).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}`;var o;const a=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";var p;p=s,n.attr("id",p),function(e,t){e.attr("aria-live",t)}(n,a),e.itemRoleDescriptionMessage&&c(w(t.slides),e.itemRoleDescriptionMessage),l(w(t.slides),e.slideRole);const d=t.params.loop?t.slides.filter((e=>!e.classList.contains(t.params.slideDuplicateClass))).length:t.slides.length;let f,v;t.slides.each(((r,n)=>{const i=w(r),s=t.params.loop?parseInt(i.attr("data-swiper-slide-index"),10):n;u(i,e.slideLabelMessage.replace(/\{\{index\}\}/,s+1).replace(/\{\{slidesLength\}\}/,d))})),t.navigation&&t.navigation.$nextEl&&(f=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(v=t.navigation.$prevEl),f&&f.length&&m(f,s,e.nextSlideMessage),v&&v.length&&m(v,s,e.prevSlideMessage),g()&&t.pagination.$el.on("keydown",ce(t.params.pagination.bulletClass),h),t.$el.on("focus",y,!0)}n("beforeInit",(()=>{i=w(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)})),n("afterInit",(()=>{t.params.a11y.enabled&&v()})),n("fromEdge toEdge afterInit lock unlock",(()=>{t.params.a11y.enabled&&function(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:e,$prevEl:r}=t.navigation;r&&r.length>0&&(t.isBeginning?(p(r),a(r)):(d(r),o(r))),e&&e.length>0&&(t.isEnd?(p(e),a(e)):(d(e),o(e)))}()})),n("paginationUpdate",(()=>{t.params.a11y.enabled&&function(){const e=t.params.a11y;f()&&t.pagination.bullets.each((r=>{const n=w(r);t.params.pagination.clickable&&(o(n),t.params.pagination.renderBullet||(l(n,"button"),u(n,e.paginationBulletMessage.replace(/\{\{index\}\}/,n.index()+1)))),n.is(`.${t.params.pagination.bulletActiveClass}`)?n.attr("aria-current","true"):n.removeAttr("aria-current")}))}()})),n("destroy",(()=>{t.params.a11y.enabled&&function(){let e,r;i&&i.length>0&&i.remove(),t.navigation&&t.navigation.$nextEl&&(e=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(r=t.navigation.$prevEl),e&&e.off("keydown",h),r&&r.off("keydown",h),g()&&t.pagination.$el.off("keydown",ce(t.params.pagination.bulletClass),h),t.$el.off("focus",y,!0)}()}))}function pe(e){const t=this,{$wrapperEl:r,params:n}=t;if(n.loop&&t.loopDestroy(),"object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&r.append(e[t]);else r.append(e);n.loop&&t.loopCreate(),n.observer||t.update()}function de(e){const t=this,{params:r,$wrapperEl:n,activeIndex:i}=t;r.loop&&t.loopDestroy();let s=i+1;if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&n.prepend(e[t]);s=i+e.length}else n.prepend(e);r.loop&&t.loopCreate(),r.observer||t.update(),t.slideTo(s,0,!1)}function he(e,t){const r=this,{$wrapperEl:n,params:i,activeIndex:s}=r;let o=s;i.loop&&(o-=r.loopedSlides,r.loopDestroy(),r.slides=n.children(`.${i.slideClass}`));const a=r.slides.length;if(e<=0)return void r.prependSlide(t);if(e>=a)return void r.appendSlide(t);let l=o>e?o+1:o;const c=[];for(let t=a-1;t>=e;t-=1){const e=r.slides.eq(t);e.remove(),c.unshift(e)}if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&n.append(t[e]);l=o>e?o+t.length:o}else n.append(t);for(let e=0;e<c.length;e+=1)n.append(c[e]);i.loop&&r.loopCreate(),i.observer||r.update(),i.loop?r.slideTo(l+r.loopedSlides,0,!1):r.slideTo(l,0,!1)}function fe(e){const t=this,{params:r,$wrapperEl:n,activeIndex:i}=t;let s=i;r.loop&&(s-=t.loopedSlides,t.loopDestroy(),t.slides=n.children(`.${r.slideClass}`));let o,a=s;if("object"==typeof e&&"length"in e){for(let r=0;r<e.length;r+=1)o=e[r],t.slides[o]&&t.slides.eq(o).remove(),o<a&&(a-=1);a=Math.max(a,0)}else o=e,t.slides[o]&&t.slides.eq(o).remove(),o<a&&(a-=1),a=Math.max(a,0);r.loop&&t.loopCreate(),r.observer||t.update(),r.loop?t.slideTo(a+t.loopedSlides,0,!1):t.slideTo(a,0,!1)}function ge(){const e=this,t=[];for(let r=0;r<e.slides.length;r+=1)t.push(r);e.removeSlide(t)}function me(e){let{swiper:t}=e;Object.assign(t,{appendSlide:pe.bind(t),prependSlide:de.bind(t),addSlide:he.bind(t),removeSlide:fe.bind(t),removeAllSlides:ge.bind(t)})}var ye=()=>{s().extendFilter("t",(e=>e||""))};class ve extends Error{}function we(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return atob(t)}}ve.prototype.name="InvalidTokenError";var be,xe,_e,Se={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},ke=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(ke||{});(_e=ke||(ke={})).reset=function(){be=3,xe=Se},_e.setLevel=function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");be=e},_e.setLogger=function(e){xe=e};var Te=class e{constructor(e){this._name=e}debug(...t){be>=4&&xe.debug(e._format(this._name,this._method),...t)}info(...t){be>=3&&xe.info(e._format(this._name,this._method),...t)}warn(...t){be>=2&&xe.warn(e._format(this._name,this._method),...t)}error(...t){be>=1&&xe.error(e._format(this._name,this._method),...t)}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(t,r){const n=new e(`${t}.${r}`);return n.debug("begin"),n}static _format(e,t){const r=`[${e}]`;return t?`${r} ${t}:`:r}static debug(t,...r){be>=4&&xe.debug(e._format(t),...r)}static info(t,...r){be>=3&&xe.info(e._format(t),...r)}static warn(t,...r){be>=2&&xe.warn(e._format(t),...r)}static error(t,...r){be>=1&&xe.error(e._format(t),...r)}};ke.reset();var Ee=e=>btoa([...new Uint8Array(e)].map((e=>String.fromCharCode(e))).join("")),Ce=class e{static _randomWord(){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}static generateUUIDv4(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(t=>(+t^e._randomWord()&15>>+t/4).toString(16))).replace(/-/g,"")}static generateCodeVerifier(){return e.generateUUIDv4()+e.generateUUIDv4()+e.generateUUIDv4()}static async generateCodeChallenge(e){if(!crypto.subtle)throw new Error("Crypto.subtle is available only in secure contexts (HTTPS).");try{const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t);return Ee(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(e){throw Te.error("CryptoUtils.generateCodeChallenge",e),e}}static generateBasicAuth(e,t){const r=(new TextEncoder).encode([e,t].join(":"));return Ee(r)}},Pe=class{constructor(e){this._name=e,this._logger=new Te(`Event('${this._name}')`),this._callbacks=[]}addHandler(e){return this._callbacks.push(e),()=>this.removeHandler(e)}removeHandler(e){const t=this._callbacks.lastIndexOf(e);t>=0&&this._callbacks.splice(t,1)}async raise(...e){this._logger.debug("raise:",...e);for(const t of this._callbacks)await t(...e)}},Oe=class{static decode(e){try{return function(e,t){if("string"!=typeof e)throw new ve("Invalid token specified: must be a string");t||(t={});const r=!0===t.header?0:1,n=e.split(".")[r];if("string"!=typeof n)throw new ve(`Invalid token specified: missing part #${r+1}`);let i;try{i=we(n)}catch(e){throw new ve(`Invalid token specified: invalid base64 for part #${r+1} (${e.message})`)}try{return JSON.parse(i)}catch(e){throw new ve(`Invalid token specified: invalid json for part #${r+1} (${e.message})`)}}(e)}catch(e){throw Te.error("JwtUtils.decode",e),e}}},Ae=class{static center({...e}){var t;return null==e.width&&(e.width=null!=(t=[800,720,600,480].find((e=>e<=window.outerWidth/1.618)))?t:360),null!=e.left||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),null!=e.height&&(null!=e.top||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter((([,e])=>null!=e)).map((([e,t])=>`${e}=${"boolean"!=typeof t?t:t?"yes":"no"}`)).join(",")}},je=class e extends Pe{constructor(){super(...arguments),this._logger=new Te(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const t=this._expiration-e.getEpochTime();this._logger.debug("timer completes in",t),this._expiration<=e.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(t){const r=this._logger.create("init");t=Math.max(Math.floor(t),1);const n=e.getEpochTime()+t;if(this.expiration===n&&this._timerHandle)return void r.debug("skipping since already initialized for expiration at",this.expiration);this.cancel(),r.debug("using duration",t),this._expiration=n;const i=Math.min(t,5);this._timerHandle=setInterval(this._callback,1e3*i)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},Me=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const r=new URL(e,"http://127.0.0.1")["fragment"===t?"hash":"search"];return new URLSearchParams(r.slice(1))}},Ie=class extends Error{constructor(e,t){var r,n,i;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw Te.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=null!=(r=e.error_description)?r:null,this.error_uri=null!=(n=e.error_uri)?n:null,this.state=e.userState,this.session_state=null!=(i=e.session_state)?i:null,this.url_state=e.url_state}},Ne=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},Re=class{constructor(){this._logger=new Te("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},Le=class{constructor(e=[],t=null,r={}){this._jwtHandler=t,this._extraHeaders=r,this._logger=new Te("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:r,...n}=t;if(!r)return await fetch(e,n);const i=new AbortController,s=setTimeout((()=>i.abort()),1e3*r);try{return await fetch(e,{...t,signal:i.signal})}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)throw new Ne("Network timed out");throw e}finally{clearTimeout(s)}}async getJson(e,{token:t,credentials:r}={}){const n=this._logger.create("getJson"),i={Accept:this._contentTypes.join(", ")};let s;t&&(n.debug("token passed, setting Authorization header"),i.Authorization="Bearer "+t),this.appendExtraHeaders(i);try{n.debug("url:",e),s=await this.fetchWithTimeout(e,{method:"GET",headers:i,credentials:r})}catch(e){throw n.error("Network Error"),e}n.debug("HTTP response received, status",s.status);const o=s.headers.get("Content-Type");if(o&&!this._contentTypes.find((e=>o.startsWith(e)))&&n.throw(new Error(`Invalid response Content-Type: ${null!=o?o:"undefined"}, from URL: ${e}`)),s.ok&&this._jwtHandler&&(null==o?void 0:o.startsWith("application/jwt")))return await this._jwtHandler(await s.text());let a;try{a=await s.json()}catch(e){if(n.error("Error parsing JSON response",e),s.ok)throw e;throw new Error(`${s.statusText} (${s.status})`)}if(!s.ok){if(n.error("Error from server:",a),a.error)throw new Ie(a);throw new Error(`${s.statusText} (${s.status}): ${JSON.stringify(a)}`)}return a}async postForm(e,{body:t,basicAuth:r,timeoutInSeconds:n,initCredentials:i}){const s=this._logger.create("postForm"),o={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};let a;void 0!==r&&(o.Authorization="Basic "+r),this.appendExtraHeaders(o);try{s.debug("url:",e),a=await this.fetchWithTimeout(e,{method:"POST",headers:o,body:t,timeoutInSeconds:n,credentials:i})}catch(e){throw s.error("Network error"),e}s.debug("HTTP response received, status",a.status);const l=a.headers.get("Content-Type");if(l&&!this._contentTypes.find((e=>l.startsWith(e))))throw new Error(`Invalid response Content-Type: ${null!=l?l:"undefined"}, from URL: ${e}`);const c=await a.text();let u={};if(c)try{u=JSON.parse(c)}catch(e){if(s.error("Error parsing JSON response",e),a.ok)throw e;throw new Error(`${a.statusText} (${a.status})`)}if(!a.ok){if(s.error("Error from server:",u),u.error)throw new Ie(u,t);throw new Error(`${a.statusText} (${a.status}): ${JSON.stringify(u)}`)}return u}appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),r=Object.keys(this._extraHeaders),n=["authorization","accept","content-type"];0!==r.length&&r.forEach((r=>{if(n.includes(r.toLocaleLowerCase()))return void t.warn("Protected header could not be overridden",r,n);const i="function"==typeof this._extraHeaders[r]?this._extraHeaders[r]():this._extraHeaders[r];i&&""!==i&&(e[r]=i)}))}},$e=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new Te("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){this._logger.create(`get('${e}')`),e=this._prefix+e;return await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let r=0;r<e;r++){const e=await this._store.key(r);e&&0===e.indexOf(this._prefix)&&t.push(e.substr(this._prefix.length))}return t}},De=class{constructor({authority:e,metadataUrl:t,metadata:r,signingKeys:n,metadataSeed:i,client_id:s,client_secret:o,response_type:a="code",scope:l="openid",redirect_uri:c,post_logout_redirect_uri:u,client_authentication:p="client_secret_post",prompt:d,display:h,max_age:f,ui_locales:g,acr_values:m,resource:y,response_mode:v,filterProtocolClaims:w=!0,loadUserInfo:b=!1,staleStateAgeInSeconds:x=900,mergeClaimsStrategy:_={array:"replace"},disablePKCE:S=!1,stateStore:k,revokeTokenAdditionalContentTypes:T,fetchRequestCredentials:E,refreshTokenAllowedScope:C,extraQueryParams:P={},extraTokenParams:O={},extraHeaders:A={}}){if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=r,this.metadataSeed=i,this.signingKeys=n,this.client_id=s,this.client_secret=o,this.response_type=a,this.scope=l,this.redirect_uri=c,this.post_logout_redirect_uri=u,this.client_authentication=p,this.prompt=d,this.display=h,this.max_age=f,this.ui_locales=g,this.acr_values=m,this.resource=y,this.response_mode=v,this.filterProtocolClaims=null==w||w,this.loadUserInfo=!!b,this.staleStateAgeInSeconds=x,this.mergeClaimsStrategy=_,this.disablePKCE=!!S,this.revokeTokenAdditionalContentTypes=T,this.fetchRequestCredentials=E||"same-origin",k)this.stateStore=k;else{const e="undefined"!=typeof window?window.localStorage:new Re;this.stateStore=new $e({store:e})}this.refreshTokenAllowedScope=C,this.extraQueryParams=P,this.extraTokenParams=O,this.extraHeaders=A}},Ue=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Te("TokenClient"),this._jsonService=new Le(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:r=this._settings.client_id,client_secret:n=this._settings.client_secret,...i}){const s=this._logger.create("exchangeCode");r||s.throw(new Error("A client_id is required")),t||s.throw(new Error("A redirect_uri is required")),i.code||s.throw(new Error("A code is required"));const o=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[e,t]of Object.entries(i))null!=t&&o.set(e,t);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw s.throw(new Error("A client_secret is required")),null;a=Ce.generateBasicAuth(r,n);break;case"client_secret_post":o.append("client_id",r),n&&o.append("client_secret",n)}const l=await this._metadataService.getTokenEndpoint(!1);s.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:o,basicAuth:a,initCredentials:this._settings.fetchRequestCredentials});return s.debug("got response"),c}async exchangeCredentials({grant_type:e="password",client_id:t=this._settings.client_id,client_secret:r=this._settings.client_secret,scope:n=this._settings.scope,...i}){const s=this._logger.create("exchangeCredentials");t||s.throw(new Error("A client_id is required"));const o=new URLSearchParams({grant_type:e,scope:n});for(const[e,t]of Object.entries(i))null!=t&&o.set(e,t);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!r)throw s.throw(new Error("A client_secret is required")),null;a=Ce.generateBasicAuth(t,r);break;case"client_secret_post":o.append("client_id",t),r&&o.append("client_secret",r)}const l=await this._metadataService.getTokenEndpoint(!1);s.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:o,basicAuth:a,initCredentials:this._settings.fetchRequestCredentials});return s.debug("got response"),c}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:r=this._settings.client_secret,timeoutInSeconds:n,...i}){const s=this._logger.create("exchangeRefreshToken");t||s.throw(new Error("A client_id is required")),i.refresh_token||s.throw(new Error("A refresh_token is required"));const o=new URLSearchParams({grant_type:e});for(const[e,t]of Object.entries(i))Array.isArray(t)?t.forEach((t=>o.append(e,t))):null!=t&&o.set(e,t);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!r)throw s.throw(new Error("A client_secret is required")),null;a=Ce.generateBasicAuth(t,r);break;case"client_secret_post":o.append("client_id",t),r&&o.append("client_secret",r)}const l=await this._metadataService.getTokenEndpoint(!1);s.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:o,basicAuth:a,timeoutInSeconds:n,initCredentials:this._settings.fetchRequestCredentials});return s.debug("got response"),c}async revoke(e){var t;const r=this._logger.create("revoke");e.token||r.throw(new Error("A token is required"));const n=await this._metadataService.getRevocationEndpoint(!1);r.debug(`got revocation endpoint, revoking ${null!=(t=e.token_type_hint)?t:"default token type"}`);const i=new URLSearchParams;for(const[t,r]of Object.entries(e))null!=r&&i.set(t,r);i.set("client_id",this._settings.client_id),this._settings.client_secret&&i.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(n,{body:i}),r.debug("got response")}},ze=class e{constructor(e){this.id=e.id||Ce.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=je.getEpochTime(),this.request_type=e.request_type,this.url_state=e.url_state}toStorageString(){return new Te("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(t){return Te.createStatic("State","fromStorageString"),Promise.resolve(new e(JSON.parse(t)))}static async clearStaleState(t,r){const n=Te.createStatic("State","clearStaleState"),i=je.getEpochTime()-r,s=await t.getAllKeys();n.debug("got keys",s);for(let r=0;r<s.length;r++){const o=s[r],a=await t.get(o);let l=!1;if(a)try{const t=await e.fromStorageString(a);n.debug("got item from key:",o,t.created),t.created<=i&&(l=!0)}catch(e){n.error("Error parsing state for key:",o,e),l=!0}else n.debug("no item in storage for key:",o),l=!0;l&&(n.debug("removed item for key:",o),t.remove(o))}}},qe=class e extends ze{constructor(e){super(e),this.code_verifier=e.code_verifier,this.code_challenge=e.code_challenge,this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}static async create(t){const r=!0===t.code_verifier?Ce.generateCodeVerifier():t.code_verifier||void 0,n=r?await Ce.generateCodeChallenge(r):void 0;return new e({...t,code_verifier:r,code_challenge:n})}toStorageString(){return new Te("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(t){Te.createStatic("SigninState","fromStorageString");const r=JSON.parse(t);return e.create(r)}},Fe=class e{constructor(e){this.url=e.url,this.state=e.state}static async create({url:t,authority:r,client_id:n,redirect_uri:i,response_type:s,scope:o,state_data:a,response_mode:l,request_type:c,client_secret:u,nonce:p,url_state:d,resource:h,skipUserInfo:f,extraQueryParams:g,extraTokenParams:m,disablePKCE:y,...v}){if(!t)throw this._logger.error("create: No url passed"),new Error("url");if(!n)throw this._logger.error("create: No client_id passed"),new Error("client_id");if(!i)throw this._logger.error("create: No redirect_uri passed"),new Error("redirect_uri");if(!s)throw this._logger.error("create: No response_type passed"),new Error("response_type");if(!o)throw this._logger.error("create: No scope passed"),new Error("scope");if(!r)throw this._logger.error("create: No authority passed"),new Error("authority");const w=await qe.create({data:a,request_type:c,url_state:d,code_verifier:!y,client_id:n,authority:r,redirect_uri:i,response_mode:l,client_secret:u,scope:o,extraTokenParams:m,skipUserInfo:f}),b=new URL(t);b.searchParams.append("client_id",n),b.searchParams.append("redirect_uri",i),b.searchParams.append("response_type",s),b.searchParams.append("scope",o),p&&b.searchParams.append("nonce",p);let x=w.id;if(d&&(x=`${x};${d}`),b.searchParams.append("state",x),w.code_challenge&&(b.searchParams.append("code_challenge",w.code_challenge),b.searchParams.append("code_challenge_method","S256")),h){(Array.isArray(h)?h:[h]).forEach((e=>b.searchParams.append("resource",e)))}for(const[e,t]of Object.entries({response_mode:l,...v,...g}))null!=t&&b.searchParams.append(e,t.toString());return new e({url:b.href,state:w})}};Fe._logger=new Te("SigninRequest");var He=Fe,Be=class{constructor(e){if(this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.state){const e=decodeURIComponent(this.state).split(";");this.state=e[0],e.length>1&&(this.url_state=e.slice(1).join(";"))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-je.getEpochTime()}set expires_in(e){"string"==typeof e&&(e=Number(e)),void 0!==e&&e>=0&&(this.expires_at=Math.floor(e)+je.getEpochTime())}get isOpenId(){var e;return(null==(e=this.scope)?void 0:e.split(" ").includes("openid"))||!!this.id_token}},We=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],Ve=["sub","iss","aud","exp","iat"],Ge=class{constructor(e,t){this._logger=new Te("OidcClient"),this.settings=e instanceof De?e:new De(e),this.metadataService=null!=t?t:new class{constructor(e){this._settings=e,this._logger=new Te("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new Le(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,t),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const r=this._logger.create(`_getMetadataProperty('${e}')`),n=await this.getMetadata();if(r.debug("resolved"),void 0===n[e]){if(!0===t)return void r.warn("Metadata does not contain optional property");r.throw(new Error("Metadata does not contain property "+e))}return n[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const r=await this._jsonService.getJson(t);if(e.debug("got key set",r),!Array.isArray(r.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=r.keys,this._signingKeys}}(this.settings),this._claimsService=new class{constructor(e){this._settings=e,this._logger=new Te("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let e;e=Array.isArray(this._settings.filterProtocolClaims)?this._settings.filterProtocolClaims:We;for(const r of e)Ve.includes(r)||delete t[r]}return t}mergeClaims(e,t){const r={...e};for(const[e,n]of Object.entries(t))if(r[e]!==n)if(Array.isArray(r[e])||Array.isArray(n))if("replace"==this._settings.mergeClaimsStrategy.array)r[e]=n;else{const t=Array.isArray(r[e])?r[e]:[r[e]];for(const e of Array.isArray(n)?n:[n])t.includes(e)||t.push(e);r[e]=t}else"object"==typeof r[e]&&"object"==typeof n?r[e]=this.mergeClaims(r[e],n):r[e]=n;return r}}(this.settings),this._validator=new class{constructor(e,t,r){this._settings=e,this._metadataService=t,this._claimsService=r,this._logger=new Te("ResponseValidator"),this._userInfoService=new class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Te("UserInfoService"),this._getClaimsFromJwt=async e=>{const t=this._logger.create("_getClaimsFromJwt");try{const r=Oe.decode(e);return t.debug("JWT decoding successful"),r}catch(e){throw t.error("Error parsing JWT response"),e}},this._jsonService=new Le(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const r=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",r);const n=await this._jsonService.getJson(r,{token:e,credentials:this._settings.fetchRequestCredentials});return t.debug("got claims",n),n}}(this._settings,this._metadataService),this._tokenClient=new Ue(this._settings,this._metadataService)}async validateSigninResponse(e,t){const r=this._logger.create("validateSigninResponse");this._processSigninState(e,t),r.debug("state processed"),await this._processCode(e,t),r.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),r.debug("tokens validated"),await this._processClaims(e,null==t?void 0:t.skipUserInfo,e.isOpenId),r.debug("claims processed")}async validateCredentialsResponse(e,t){const r=this._logger.create("validateCredentialsResponse");e.isOpenId&&e.id_token&&this._validateIdTokenAttributes(e),r.debug("tokens validated"),await this._processClaims(e,t,e.isOpenId),r.debug("claims processed")}async validateRefreshResponse(e,t){const r=this._logger.create("validateRefreshResponse");e.userState=t.data,null!=e.session_state||(e.session_state=t.session_state),null!=e.scope||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),r.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const n=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,n),r.debug("claims processed")}validateSignoutResponse(e,t){const r=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&r.throw(new Error("State does not match")),r.debug("state validated"),e.userState=t.data,e.error)throw r.warn("Response was error",e.error),new Ie(e)}_processSigninState(e,t){const r=this._logger.create("_processSigninState");if(t.id!==e.state&&r.throw(new Error("State does not match")),t.client_id||r.throw(new Error("No client_id on state")),t.authority||r.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&r.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&r.throw(new Error("client_id mismatch on settings vs. signin state")),r.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,null!=e.scope||(e.scope=t.scope),e.error)throw r.warn("Response was error",e.error),new Ie(e);t.code_verifier&&!e.code&&r.throw(new Error("Expected code in response"))}async _processClaims(e,t=!1,r=!0){const n=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token)return void n.debug("not loading user info");n.debug("loading user info");const i=await this._userInfoService.getClaims(e.access_token);n.debug("user info claims received from user info endpoint"),r&&i.sub!==e.profile.sub&&n.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(i)),n.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t){const r=this._logger.create("_processCode");if(e.code){r.debug("Validating code");const n=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,...t.extraTokenParams});Object.assign(e,n)}else r.debug("No code to process")}_validateIdTokenAttributes(e,t){var r;const n=this._logger.create("_validateIdTokenAttributes");n.debug("decoding ID Token JWT");const i=Oe.decode(null!=(r=e.id_token)?r:"");if(i.sub||n.throw(new Error("ID Token is missing a subject claim")),t){const e=Oe.decode(t);i.sub!==e.sub&&n.throw(new Error("sub in id_token does not match current sub")),i.auth_time&&i.auth_time!==e.auth_time&&n.throw(new Error("auth_time in id_token does not match original auth_time")),i.azp&&i.azp!==e.azp&&n.throw(new Error("azp in id_token does not match original azp")),!i.azp&&e.azp&&n.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=i}}(this.settings,this.metadataService,this._claimsService),this._tokenClient=new Ue(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:r,request_type:n,id_token_hint:i,login_hint:s,skipUserInfo:o,nonce:a,url_state:l,response_type:c=this.settings.response_type,scope:u=this.settings.scope,redirect_uri:p=this.settings.redirect_uri,prompt:d=this.settings.prompt,display:h=this.settings.display,max_age:f=this.settings.max_age,ui_locales:g=this.settings.ui_locales,acr_values:m=this.settings.acr_values,resource:y=this.settings.resource,response_mode:v=this.settings.response_mode,extraQueryParams:w=this.settings.extraQueryParams,extraTokenParams:b=this.settings.extraTokenParams}){const x=this._logger.create("createSigninRequest");if("code"!==c)throw new Error("Only the Authorization Code flow (with PKCE) is supported");const _=await this.metadataService.getAuthorizationEndpoint();x.debug("Received authorization endpoint",_);const S=await He.create({url:_,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:p,response_type:c,scope:u,state_data:e,url_state:l,prompt:d,display:h,max_age:f,ui_locales:g,id_token_hint:i,login_hint:s,acr_values:m,resource:y,request:t,request_uri:r,extraQueryParams:w,extraTokenParams:b,request_type:n,response_mode:v,client_secret:this.settings.client_secret,skipUserInfo:o,nonce:a,disablePKCE:this.settings.disablePKCE});await this.clearStaleState();const k=S.state;return await this.settings.stateStore.set(k.id,k.toStorageString()),S}async readSigninResponseState(e,t=!1){const r=this._logger.create("readSigninResponseState"),n=new Be(Me.readParams(e,this.settings.response_mode));if(!n.state)throw r.throw(new Error("No state in response")),null;const i=await this.settings.stateStore[t?"remove":"get"](n.state);if(!i)throw r.throw(new Error("No matching state found in storage")),null;return{state:await qe.fromStorageString(i),response:n}}async processSigninResponse(e){const t=this._logger.create("processSigninResponse"),{state:r,response:n}=await this.readSigninResponseState(e,!0);return t.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(n,r),n}async processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:r=!1,extraTokenParams:n={}}){const i=await this._tokenClient.exchangeCredentials({username:e,password:t,...n}),s=new Be(new URLSearchParams);return Object.assign(s,i),await this._validator.validateCredentialsResponse(s,r),s}async useRefreshToken({state:e,redirect_uri:t,resource:r,timeoutInSeconds:n,extraTokenParams:i}){var s;const o=this._logger.create("useRefreshToken");let a;if(void 0===this.settings.refreshTokenAllowedScope)a=e.scope;else{const t=this.settings.refreshTokenAllowedScope.split(" ");a=((null==(s=e.scope)?void 0:s.split(" "))||[]).filter((e=>t.includes(e))).join(" ")}const l=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,scope:a,redirect_uri:t,resource:r,timeoutInSeconds:n,...i}),c=new Be(new URLSearchParams);return Object.assign(c,l),o.debug("validating response",c),await this._validator.validateRefreshResponse(c,{...e,scope:a}),c}async createSignoutRequest({state:e,id_token_hint:t,client_id:r,request_type:n,post_logout_redirect_uri:i=this.settings.post_logout_redirect_uri,extraQueryParams:s=this.settings.extraQueryParams}={}){const o=this._logger.create("createSignoutRequest"),a=await this.metadataService.getEndSessionEndpoint();if(!a)throw o.throw(new Error("No end session endpoint")),null;o.debug("Received end session endpoint",a),r||!i||t||(r=this.settings.client_id);const l=new class{constructor({url:e,state_data:t,id_token_hint:r,post_logout_redirect_uri:n,extraQueryParams:i,request_type:s,client_id:o}){if(this._logger=new Te("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const a=new URL(e);r&&a.searchParams.append("id_token_hint",r),o&&a.searchParams.append("client_id",o),n&&(a.searchParams.append("post_logout_redirect_uri",n),t&&(this.state=new ze({data:t,request_type:s}),a.searchParams.append("state",this.state.id)));for(const[e,t]of Object.entries({...i}))null!=t&&a.searchParams.append(e,t.toString());this.url=a.href}}({url:a,id_token_hint:t,client_id:r,post_logout_redirect_uri:i,state_data:e,extraQueryParams:s,request_type:n});await this.clearStaleState();const c=l.state;return c&&(o.debug("Signout request has state to persist"),await this.settings.stateStore.set(c.id,c.toStorageString())),l}async readSignoutResponseState(e,t=!1){const r=this._logger.create("readSignoutResponseState"),n=new class{constructor(e){this.state=e.get("state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}}(Me.readParams(e,this.settings.response_mode));if(!n.state){if(r.debug("No state in response"),n.error)throw r.warn("Response was error:",n.error),new Ie(n);return{state:void 0,response:n}}const i=await this.settings.stateStore[t?"remove":"get"](n.state);if(!i)throw r.throw(new Error("No matching state found in storage")),null;return{state:await ze.fromStorageString(i),response:n}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:r,response:n}=await this.readSignoutResponseState(e,!0);return r?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(n,r)):t.debug("No state from storage; skipping response validation"),n}clearStaleState(){return this._logger.create("clearStaleState"),ze.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},Ye=class e{constructor(e){var t;this.id_token=e.id_token,this.session_state=null!=(t=e.session_state)?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState,this.url_state=e.url_state}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-je.getEpochTime()}set expires_in(e){void 0!==e&&(this.expires_at=Math.floor(e)+je.getEpochTime())}get expired(){const e=this.expires_in;if(void 0!==e)return e<=0}get scopes(){var e,t;return null!=(t=null==(e=this.scope)?void 0:e.split(" "))?t:[]}toStorageString(){return new Te("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(t){return Te.createStatic("User","fromStorageString"),new e(JSON.parse(t))}},Ke="oidc-client",Je=class{constructor(){this._abort=new Pe("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:r,keepOpen:n}=await new Promise(((r,n)=>{const i=i=>{var s;const o=i.data,a=null!=(s=e.scriptOrigin)?s:window.location.origin;if(i.origin===a&&(null==o?void 0:o.source)===Ke){try{const r=Me.readParams(o.url,e.response_mode).get("state");if(r||t.warn("no state found in response url"),i.source!==this._window&&r!==e.state)return}catch(e){this._dispose(),n(new Error("Invalid response from window"))}r(o)}};window.addEventListener("message",i,!1),this._disposeHandlers.add((()=>window.removeEventListener("message",i,!1))),this._disposeHandlers.add(this._abort.addHandler((e=>{this._dispose(),n(e)})))}));return t.debug("got response from window"),this._dispose(),n||this.close(),{url:r}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,r=!1,n=window.location.origin){e.postMessage({source:Ke,url:t,keepOpen:r},n)}},Xe={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},Qe="_blank",Ze=60,et=2,tt=10,rt=class extends De{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:r=e.post_logout_redirect_uri,popupWindowFeatures:n=Xe,popupWindowTarget:i=Qe,redirectMethod:s="assign",redirectTarget:o="self",iframeNotifyParentOrigin:a=e.iframeNotifyParentOrigin,iframeScriptOrigin:l=e.iframeScriptOrigin,silent_redirect_uri:c=e.redirect_uri,silentRequestTimeoutInSeconds:u=tt,automaticSilentRenew:p=!0,validateSubOnSilentRenew:d=!0,includeIdTokenInSilentRenew:h=!1,monitorSession:f=!1,monitorAnonymousSession:g=!1,checkSessionIntervalInSeconds:m=et,query_status_response_type:y="code",stopCheckSessionOnError:v=!0,revokeTokenTypes:w=["access_token","refresh_token"],revokeTokensOnSignout:b=!1,includeIdTokenInSilentSignout:x=!1,accessTokenExpiringNotificationTimeInSeconds:_=Ze,userStore:S}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=r,this.popupWindowFeatures=n,this.popupWindowTarget=i,this.redirectMethod=s,this.redirectTarget=o,this.iframeNotifyParentOrigin=a,this.iframeScriptOrigin=l,this.silent_redirect_uri=c,this.silentRequestTimeoutInSeconds=u,this.automaticSilentRenew=p,this.validateSubOnSilentRenew=d,this.includeIdTokenInSilentRenew=h,this.monitorSession=f,this.monitorAnonymousSession=g,this.checkSessionIntervalInSeconds=m,this.stopCheckSessionOnError=v,this.query_status_response_type=y,this.revokeTokenTypes=w,this.revokeTokensOnSignout=b,this.includeIdTokenInSilentSignout=x,this.accessTokenExpiringNotificationTimeInSeconds=_,S)this.userStore=S;else{const e="undefined"!=typeof window?window.sessionStorage:new Re;this.userStore=new $e({store:e})}}},nt=class e extends Je{constructor({silentRequestTimeoutInSeconds:t=tt}){super(),this._logger=new Te("IFrameWindow"),this._timeoutInSeconds=t,this._frame=e.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout((()=>{this._abort.raise(new Ne("IFrame timed out without a response"))}),1e3*this._timeoutInSeconds);return this._disposeHandlers.add((()=>clearTimeout(t))),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",(e=>{var t;const r=e.target;null==(t=r.parentNode)||t.removeChild(r),this._abort.raise(new Error("IFrame removed from DOM"))}),!0),null==(e=this._frame.contentWindow)||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},it=class extends Je{constructor({popupWindowTarget:e=Qe,popupWindowFeatures:t={}}){super(),this._logger=new Te("PopupWindow");const r=Ae.center({...Xe,...t});this._window=window.open(void 0,e,Ae.serialize(r)),t.closePopupWindowAfterInSeconds&&t.closePopupWindowAfterInSeconds>0&&setTimeout((()=>{this._window&&"boolean"==typeof this._window.closed&&!this._window.closed?this.close():this._abort.raise(new Error("Popup blocked by user"))}),1e3*t.closePopupWindowAfterInSeconds)}async navigate(e){var t;null==(t=this._window)||t.focus();const r=setInterval((()=>{this._window&&!this._window.closed||this._abort.raise(new Error("Popup closed by user"))}),500);return this._disposeHandlers.add((()=>clearInterval(r))),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},st=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");var r={},n=(t||{}).decode||ct,i=0;for(;i<e.length;){var s=e.indexOf("=",i);if(-1===s)break;var o=e.indexOf(";",i);if(-1===o)o=e.length;else if(o<s){i=e.lastIndexOf(";",s-1)+1;continue}var a=e.slice(i,s).trim();if(void 0===r[a]){var l=e.slice(s+1,o).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),r[a]=pt(l,n)}i=o+1}return r},ot=function(e,t,r){var n=r||{},i=n.encode||ut;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!lt.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!lt.test(s))throw new TypeError("argument val is invalid");var o=e+"="+s;if(null!=n.maxAge){var a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(n.domain){if(!lt.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain="+n.domain}if(n.path){if(!lt.test(n.path))throw new TypeError("option path is invalid");o+="; Path="+n.path}if(n.expires){var l=n.expires;if(!function(e){return"[object Date]"===at.call(e)||e instanceof Date}(l)||isNaN(l.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+l.toUTCString()}n.httpOnly&&(o+="; HttpOnly");n.secure&&(o+="; Secure");n.partitioned&&(o+="; Partitioned");if(n.priority){switch("string"==typeof n.priority?n.priority.toLowerCase():n.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(n.sameSite){switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},at=Object.prototype.toString,lt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ct(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function ut(e){return encodeURIComponent(e)}function pt(e,t){try{return t(e)}catch(t){return e}}function dt(e,t={}){const r=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(!t.doNotParse)try{return JSON.parse(r)}catch(e){}return e}class ht{constructor(e,t={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const e=this.cookies;this.cookies=st(document.cookie),this._checkChanges(e)};const r="undefined"==typeof document?"":document.cookie;this.cookies=function(e){return"string"==typeof e?st(e):"object"==typeof e&&null!==e?e:{}}(e||r),this.defaultSetOptions=t,this.HAS_DOCUMENT_COOKIE=function(){const e="undefined"==typeof global?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return"boolean"==typeof e?e:"object"==typeof document&&"string"==typeof document.cookie}()}_emitChange(e){for(let t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach((t=>{e[t]!==this.cookies[t]&&this._emitChange({name:t,value:dt(this.cookies[t])})}))}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,t={}){return t.doNotUpdate||this.update(),dt(this.cookies[e],t)}getAll(e={}){e.doNotUpdate||this.update();const t={};for(let r in this.cookies)t[r]=dt(this.cookies[r],e);return t}set(e,t,r){r=r?Object.assign(Object.assign({},this.defaultSetOptions),r):this.defaultSetOptions;const n="string"==typeof t?t:JSON.stringify(t);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:n}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=ot(e,n,r)),this._emitChange({name:e,value:t,options:r})}remove(e,t){const r=t=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=ot(e,"",r)),this._emitChange({name:e,value:void 0,options:t})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&1===this.changeListeners.length&&("object"==typeof window&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1),this.HAS_DOCUMENT_COOKIE&&0===this.changeListeners.length&&("object"==typeof window&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}const ft={authority:"https://myaccount.arsenal.com",client_id:"ARSENALFC",redirect_uri:`${window.location.protocol}//${window.location.host}/api/oidc/callback`,post_logout_redirect_uri:`${window.location.protocol}//${window.location.host}/api/oidc/logged-out`,response_type:"code",scope:"openid email profile linked_ids",automaticSilentRenew:!(new ht).get("_ssotoken"),filterProtocolClaims:!0,userStore:new $e({store:localStorage})},gt=(new Ge(ft),new class{constructor(e,t,r,n){this._logger=new Te("UserManager"),this.settings=new rt(e),this._client=new Ge(e),this._redirectNavigator=null!=t?t:new class{constructor(e){this._settings=e,this._logger=new Te("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var r;this._logger.create("prepare");let n=window.self;"top"===t&&(n=null!=(r=window.top)?r:window.self);const i=n.location[e].bind(n.location);let s;return{navigate:async e=>{this._logger.create("navigate");const t=new Promise(((e,t)=>{s=t}));return i(e.url),await t},close:()=>{this._logger.create("close"),null==s||s(new Error("Redirect aborted")),n.stop()}}}async callback(){}}(this.settings),this._popupNavigator=null!=r?r:new class{constructor(e){this._settings=e,this._logger=new Te("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget}){return new it({popupWindowFeatures:e,popupWindowTarget:t})}async callback(e,{keepOpen:t=!1}){this._logger.create("callback"),it.notifyOpener(e,t)}}(this.settings),this._iframeNavigator=null!=n?n:new class{constructor(e){this._settings=e,this._logger=new Te("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new nt({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),nt.notifyParent(e,this._settings.iframeNotifyParentOrigin)}}(this.settings),this._events=new class extends class{constructor(e){this._logger=new Te("AccessTokenEvents"),this._expiringTimer=new je("Access token expiring"),this._expiredTimer=new je("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}load(e){const t=this._logger.create("load");if(e.access_token&&void 0!==e.expires_in){const r=e.expires_in;if(t.debug("access token present, remaining duration:",r),r>0){let e=r-this._expiringNotificationTimeInSeconds;e<=0&&(e=1),t.debug("registering expiring timer, raising in",e,"seconds"),this._expiringTimer.init(e)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const n=r+1;t.debug("registering expired timer, raising in",n,"seconds"),this._expiredTimer.init(n)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}}{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new Te("UserManagerEvents"),this._userLoaded=new Pe("User loaded"),this._userUnloaded=new Pe("User unloaded"),this._silentRenewError=new Pe("Silent renew error"),this._userSignedIn=new Pe("User signed in"),this._userSignedOut=new Pe("User signed out"),this._userSessionChanged=new Pe("User session changed")}async load(e,t=!0){super.load(e),t&&await this._userLoaded.raise(e)}async unload(){super.unload(),await this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}async _raiseSilentRenewError(e){await this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}async _raiseUserSignedIn(){await this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}async _raiseUserSignedOut(){await this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}async _raiseUserSessionChanged(){await this._userSessionChanged.raise()}}(this.settings),this._silentRenewService=new class{constructor(e){this._userManager=e,this._logger=new Te("SilentRenewService"),this._isStarted=!1,this._retryTimer=new je("Retry Silent Renew"),this._tokenExpiring=async()=>{const e=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),e.debug("silent token renewal successful")}catch(t){if(t instanceof Ne)return e.warn("ErrorTimeout from signinSilent:",t,"retry in 5s"),void this._retryTimer.init(5);e.error("Error from signinSilent:",t),await this._userManager.events._raiseSilentRenewError(t)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}}(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new class{constructor(e){this._userManager=e,this._logger=new Te("SessionMonitor"),this._start=async e=>{const t=e.session_state;if(!t)return;const r=this._logger.create("_start");if(e.profile?(this._sub=e.profile.sub,r.debug("session_state",t,", sub",this._sub)):(this._sub=void 0,r.debug("session_state",t,", anonymous user")),this._checkSessionIFrame)this._checkSessionIFrame.start(t);else try{const e=await this._userManager.metadataService.getCheckSessionIframe();if(e){r.debug("initializing check session iframe");const n=this._userManager.settings.client_id,i=this._userManager.settings.checkSessionIntervalInSeconds,s=this._userManager.settings.stopCheckSessionOnError,o=new class{constructor(e,t,r,n,i){this._callback=e,this._client_id=t,this._intervalInSeconds=n,this._stopOnError=i,this._logger=new Te("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=e=>{e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(e.data+" message from check session op iframe"))};const s=new URL(r);this._frame_origin=s.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=s.href}load(){return new Promise((e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)}))}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{this._frame.contentWindow&&this._session_state&&this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,1e3*this._intervalInSeconds)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}}(this._callback,n,e,i,s);await o.load(),this._checkSessionIFrame=o,o.start(t)}else r.warn("no check session iframe found in the metadata")}catch(e){r.error("Error from getCheckSessionIframe:",e instanceof Error?e.message:e)}},this._stop=()=>{const e=this._logger.create("_stop");if(this._sub=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const t=setInterval((async()=>{clearInterval(t);try{const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub?{sub:e.sub}:null};this._start(t)}}catch(t){e.error("error from querySessionStatus",t instanceof Error?t.message:t)}}),1e3)}},this._callback=async()=>{const e=this._logger.create("_callback");try{const t=await this._userManager.querySessionStatus();let r=!0;t&&this._checkSessionIFrame?t.sub===this._sub?(r=!1,this._checkSessionIFrame.start(t.session_state),e.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",t.session_state),await this._userManager.events._raiseUserSessionChanged()):e.debug("different subject signed into OP",t.sub):e.debug("subject no longer signed into OP"),r?this._sub?await this._userManager.events._raiseUserSignedOut():await this._userManager.events._raiseUserSignedIn():e.debug("no change in session detected, no event to raise")}catch(t){this._sub&&(e.debug("Error calling queryCurrentSigninSession; raising signed out event",t),await this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch((e=>{this._logger.error(e)}))}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub?{sub:e.sub}:null};this._start(t)}}}}(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){const e=this._logger.create("getUser"),t=await this._loadUser();return t?(e.info("user loaded"),await this._events.load(t,!1),t):(e.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),await this._events.unload()}async signinRedirect(e={}){this._logger.create("signinRedirect");const{redirectMethod:t,...r}=e,n=await this._redirectNavigator.prepare({redirectMethod:t});await this._signinStart({request_type:"si:r",...r},n)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),r=await this._signinEnd(e);return r.profile&&r.profile.sub?t.info("success, signed in subject",r.profile.sub):t.info("no subject"),r}async signinResourceOwnerCredentials({username:e,password:t,skipUserInfo:r=!1}){const n=this._logger.create("signinResourceOwnerCredential"),i=await this._client.processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:r,extraTokenParams:this.settings.extraTokenParams});n.debug("got signin response");const s=await this._buildUser(i);return s.profile&&s.profile.sub?n.info("success, signed in subject",s.profile.sub):n.info("no subject"),s}async signinPopup(e={}){const t=this._logger.create("signinPopup"),{popupWindowFeatures:r,popupWindowTarget:n,...i}=e,s=this.settings.popup_redirect_uri;s||t.throw(new Error("No popup_redirect_uri configured"));const o=await this._popupNavigator.prepare({popupWindowFeatures:r,popupWindowTarget:n}),a=await this._signin({request_type:"si:p",redirect_uri:s,display:"popup",...i},o);return a&&(a.profile&&a.profile.sub?t.info("success, signed in subject",a.profile.sub):t.info("no subject")),a}async signinPopupCallback(e=window.location.href,t=!1){const r=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),r.info("success")}async signinSilent(e={}){var t;const r=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:n,...i}=e;let s=await this._loadUser();if(null==s?void 0:s.refresh_token){r.debug("using refresh token");const e=new class{constructor(e){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.data=e.state}}(s);return await this._useRefreshToken({state:e,redirect_uri:i.redirect_uri,resource:i.resource,extraTokenParams:i.extraTokenParams,timeoutInSeconds:n})}const o=this.settings.silent_redirect_uri;let a;o||r.throw(new Error("No silent_redirect_uri configured")),s&&this.settings.validateSubOnSilentRenew&&(r.debug("subject prior to silent renew:",s.profile.sub),a=s.profile.sub);const l=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n});return s=await this._signin({request_type:"si:s",redirect_uri:o,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==s?void 0:s.id_token:void 0,...i},l,a),s&&((null==(t=s.profile)?void 0:t.sub)?r.info("success, signed in subject",s.profile.sub):r.info("no subject")),s}async _useRefreshToken(e){const t=await this._client.useRefreshToken({...e,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),r=new Ye({...e.state,...t});return await this.storeUser(r),await this._events.load(r),r}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":return await this.signinPopupCallback(e);case"si:s":return await this.signinSilentCallback(e);default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:r}=await this._client.readSignoutResponseState(e);if(r)switch(r.request_type){case"so:r":await this.signoutRedirectCallback(e);break;case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:r,...n}=e,i=this.settings.silent_redirect_uri;i||t.throw(new Error("No silent_redirect_uri configured"));const s=await this._loadUser(),o=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r}),a=await this._signinStart({request_type:"si:s",redirect_uri:i,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==s?void 0:s.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...n},o);try{const e=await this._client.processSigninResponse(a.url);return t.debug("got signin response"),e.session_state&&e.profile.sub?(t.info("success for subject",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub}):(t.info("success, user not authenticated"),null)}catch(e){if(this.settings.monitorAnonymousSession&&e instanceof Ie)switch(e.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:e.session_state}}throw e}}async _signin(e,t,r){const n=await this._signinStart(e,t);return await this._signinEnd(n.url,r)}async _signinStart(e,t){const r=this._logger.create("_signinStart");try{const n=await this._client.createSigninRequest(e);return r.debug("got signin request"),await t.navigate({url:n.url,state:n.state.id,response_mode:n.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(e){throw r.debug("error after preparing navigator, closing navigator window"),t.close(),e}}async _signinEnd(e,t){const r=this._logger.create("_signinEnd"),n=await this._client.processSigninResponse(e);r.debug("got signin response");return await this._buildUser(n,t)}async _buildUser(e,t){const r=this._logger.create("_buildUser"),n=new Ye(e);if(t){if(t!==n.profile.sub)throw r.debug("current user does not match user returned from signin. sub from signin:",n.profile.sub),new Ie({...e,error:"login_required"});r.debug("current user matches user returned from signin")}return await this.storeUser(n),r.debug("user stored"),await this._events.load(n),n}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:r,...n}=e,i=await this._redirectNavigator.prepare({redirectMethod:r});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...n},i),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),r=await this._signoutEnd(e);return t.info("success"),r}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:r,popupWindowTarget:n,...i}=e,s=this.settings.popup_post_logout_redirect_uri,o=await this._popupNavigator.prepare({popupWindowFeatures:r,popupWindowTarget:n});await this._signout({request_type:"so:p",post_logout_redirect_uri:s,state:null==s?void 0:{},...i},o),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const r=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),r.info("success")}async _signout(e,t){const r=await this._signoutStart(e,t);return await this._signoutEnd(r.url)}async _signoutStart(e={},t){var r;const n=this._logger.create("_signoutStart");try{const i=await this._loadUser();n.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(i);const s=e.id_token_hint||i&&i.id_token;s&&(n.debug("setting id_token_hint in signout request"),e.id_token_hint=s),await this.removeUser(),n.debug("user removed, creating signout request");const o=await this._client.createSignoutRequest(e);return n.debug("got signout request"),await t.navigate({url:o.url,state:null==(r=o.state)?void 0:r.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(e){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),e}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),r=await this._client.processSignoutResponse(e);return t.debug("got signout response"),r}async signoutSilent(e={}){var t;const r=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:n,...i}=e,s=this.settings.includeIdTokenInSilentSignout?null==(t=await this._loadUser())?void 0:t.id_token:void 0,o=this.settings.popup_post_logout_redirect_uri,a=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n});await this._signout({request_type:"so:s",post_logout_redirect_uri:o,id_token_hint:s,...i},a),r.info("success")}async signoutSilentCallback(e=window.location.href){const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const r=this._logger.create("_revokeInternal");if(!e)return;const n=t.filter((t=>"string"==typeof e[t]));if(n.length){for(const t of n)await this._client.revokeToken(e[t],t),r.info(`${t} revoked successfully`),"access_token"!==t&&(e[t]=null);await this.storeUser(e),r.debug("user stored"),await this._events.load(e)}else r.debug("no need to revoke due to no token(s)")}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),Ye.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const r=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,r)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}}(ft));window.userManager=gt;const mt=e=>JSON.parse(localStorage.getItem(e)),yt=(e,t,r)=>{let n={};const i=mt("membership");i?(n=i,i[t]||(n[t]=r)):n[t]=r,localStorage.setItem(e,JSON.stringify(n))},vt="https://myaccount.arsenal.com",wt=async()=>{const e=await gt.getUser();if(!e)throw"User is not logged in.";const t=await fetch(`${vt}/api/profile/v1/profile/me`,{headers:{Authorization:`Bearer ${e.access_token}`}});if(200===t.status)return(await t.json()).data;throw"Failed to fetch profile data."},bt=async e=>{const t=await gt.getUser();if(!t)throw"User is not logged in.";const r=null!=e&&e.primary?"primary=true":"primary=false",n=await fetch(`${vt}/api/ticketing/v2/accounts?${r}`,{headers:{Authorization:`Bearer ${t.access_token}`}});if(200===n.status)return(await n.json()).data;throw"Failed to fetch membership data."};r(4122);const xt=e=>{localStorage.setItem("current-page",window.location.href),gt.signinRedirect(e).then((function(){console.log("signinRedirect done")})).catch((function(e){console.error(e)}))},_t=()=>{xt({})},St=()=>{xt({prompt:"create"})};new ht;window.logoutHandler=async()=>{const e=await gt.getUser(),t=new URLSearchParams({id_token_hint:e.id_token}),r=await gt.metadataService.getEndSessionEndpoint();fetch(r,{method:"POST",credentials:"include",body:t}).then((()=>{gt.removeUser(),localStorage.removeItem("membership"),window.localStorage.removeItem("userData"),window.location.href="/"}))};const kt=async()=>!!await gt.getUser();function Tt(e){const t=document.querySelector('[data-js-sso-overlay="true"]');if(t){const i=t.querySelector('[data-js-sso-login="true"]'),s=t.querySelector('[data-js-sso-register="true"]'),o=t.querySelector('[data-js-sso-member="true"]');t.classList.add("sso-overlay--is-opened"),t.setAttribute("aria-hidden","false"),null!=e&&e.showMemberShipOnly?(t.querySelector(".sso-modal--user").classList.add("hidden"),t.querySelector(".sso-modal--member").classList.remove("hidden")):(t.querySelector(".sso-modal--member").classList.add("hidden"),t.querySelector(".sso-modal--user").classList.remove("hidden")),setTimeout((()=>{document.addEventListener("click",r)}),0),i.addEventListener("click",(e=>{e.preventDefault(),_t()})),s.addEventListener("click",(e=>{e.preventDefault(),St()})),o.addEventListener("click",(e=>{e.preventDefault(),window.location="https://www.eticketing.co.uk/arsenal/Memberships/List"})),t.addEventListener("keydown",(e=>{"Escape"===e.key&&n()}))}function r(e){const r=t.querySelector('[data-js-sso-close="true"]');r&&r.contains(e.target)?n():t.querySelector(".sso-modal").contains(e.target)||n()}function n(){t.classList.remove("sso-overlay--is-opened"),t.setAttribute("aria-hidden","true"),document.removeEventListener("click",r)}}function Et(e){const t=e.querySelectorAll('[data-js-sso-login="true"]'),r=e.querySelectorAll('[data-js-sso-modal="true"]'),n=e.querySelectorAll('[data-js-sso-register="true"]'),i=e.querySelectorAll('[data-js-sso-open-overlay="true"]');t.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),_t()}))})),r.forEach((e=>{e.addEventListener("click",(()=>{var t;const r=e.closest('[data-js-sso-account="true"]'),n=null===(t=r.nextElementSibling)||void 0===t?void 0:t.querySelector(".sitewide-search"),i=r.classList.toggle("sso-account--is-opened");function s(t){const n=r.querySelector('[data-js-sso-close="true"]');n&&n.contains(t.target)?o():r.contains(t.target)||e.contains(t.target)||o()}function o(){r.classList.remove("sso-account--is-opened"),n&&n.classList.remove("no-hover"),document.removeEventListener("click",s)}n&&n.classList.toggle("no-hover",i),i?document.addEventListener("click",s):document.removeEventListener("click",s)}))})),n.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),St()}))})),i.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),"false"!==e.currentTarget.getAttribute("data-js-sso-open-overlay")&&Tt()}))}))}async function Ct(e){const t=await gt.getUser();if(!t)return function(e){const t=e.querySelector("body"),r=e.querySelectorAll("[data-js-sso-name]"),n=e.querySelectorAll("[data-js-sso-initials]");null==t||t.classList.remove("sso-logged-in"),r.forEach((e=>{e.textContent=""})),n.forEach((e=>{e.innerHTML="",e.appendChild(jQuery.clone(window.userIcon[0]))})),e.querySelectorAll('[data-js-sso-open-overlay="false"]').forEach((e=>{e.setAttribute("data-js-sso-open-overlay","true")}))}(e),void Et(e);const{profile:{first_name:r,last_name:n}}=t;!function(e,t,r){const n=r.querySelector("body"),i=r.querySelectorAll("[data-js-sso-name]"),s=r.querySelectorAll("[data-js-sso-initials]");null==n||n.classList.add("sso-logged-in"),i.forEach((t=>{t.textContent=e})),s.forEach((r=>{r.textContent=`${e?e.charAt(0):""}${t?t.charAt(0):""}`})),r.querySelectorAll('[data-js-sso-open-overlay="true"]').forEach((e=>{e.setAttribute("data-js-sso-open-overlay","false")}))}(r,n,e)}function Pt(e){gt.removeUser(),Et(e)}window.openLoginOverlay=Tt,gt.events.addUserLoaded((function(e){Ct(document)})),gt.events.addUserUnloaded((function(e){Ct(document)})),gt.events.addUserSessionChanged((e=>{Ct(document)})),gt.events.addSilentRenewError((e=>{Pt(document)}));const Ot=e=>!e||"free"===e.toLowerCase(),At=async e=>{if(!e)return!0;if("member"===e.toLowerCase()){const e=await kt();if(e){const e=await(async e=>{const t=null!=e&&e.primary?"primary":"other",r=mt("membership");if(!r){const r=await bt(e);r&&await yt("membership",t,r)}if(r&&(null==r||!r[t])){const r=await bt(e);r&&await yt("membership",t,r)}const n=await mt("membership");return(null==n?void 0:n[t])??[]})({primary:!0});return!!e&&e.some((e=>e.membership))}return e}return!0};var jt=(e,t,r,n)=>{const i=document.getElementById(e);i&&(i.setAttribute("data-js-heroplayer","true"),i.setAttribute("data-src",`${t}/width/976`),i.classList.remove("b-loaded"),i.classList.add("bg-img"),i.classList.add("b-lazy"),ye(),i.innerHTML=s().twig({allowInlineIncludes:!0,base:"/themes/custom/arsenal_main/source/_patterns",href:"/themes/custom/arsenal_main/source/_patterns/06-javascript/heroPlayer/poster.twig?acb=20240719",async:!1,load:function(e){e.render()}}).render({specialVideo:!!r,anonymousUser:!!n}),bLazy.revalidate(),r?(Drupal.behaviors.heroPlayer.specialVideo(i),i.querySelector('[data-js-sso-poster="true"]').addEventListener("click",(e=>{if(e.preventDefault(),e.currentTarget.classList.contains("video__overlay")&&!e.currentTarget.dataset.jsVideoSpecial){window.dataLayer=window.dataLayer||[];let t="not-live";"true"===e.currentTarget.dataset.jsLive&&(t="live"),window.dataLayer.push({event:"gigyaVideoSignIn",label:t})}window.openLoginOverlay()}))):i.querySelector('[data-js-sso-poster="true"]').addEventListener("click",(e=>{if(e.preventDefault(),e.currentTarget.classList.contains("video__overlay")&&!e.currentTarget.dataset.jsVideoSpecial){window.dataLayer=window.dataLayer||[];let t="not-live";"true"===e.currentTarget.dataset.jsLive&&(t="live"),window.dataLayer.push({event:"gigyaVideoSignIn",label:t})}window.openLoginOverlay()})))};const Mt=()=>{const e=document.querySelector('[data-js-hero-playlist-active="true"]');if(!e)return;let t=e.nextElementSibling;return e.dataset.jsHeroPlaylistEntry===e.nextElementSibling.dataset.jsHeroPlaylistEntry&&(t=e.nextElementSibling.nextElementSibling),t?{entryId:t.dataset.jsHeroPlaylistEntry,advancePlayer:t.firstElementChild.dataset.jsHeroAdvancePlayer}:null},It=(e,t,r)=>{null==t&&(t="true"),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"playVideo",label:"not-live"}),"true"===t.toLowerCase()?e.sendNotification("changeMedia",{referenceId:"heroPlayer",uiconf_id:drupalSettings.heroPlayer.players.advance,flashvars:{doubleClick:{plugin:!0}},entryId:r}):e.sendNotification("changeMedia",{referenceId:"heroPlayer",uiconf_id:drupalSettings.heroPlayer.players.advance.basic,flashvars:{doubleClick:{plugin:!1}},entryId:r})};var Nt=async function(e,r){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=await t().get(`/feeds/web/kstoken/${r}`);drupalSettings.heroPlayer.initialVideo=i.data.ks;const s={targetId:e,wid:"_3000504",uiconf_id:drupalSettings.heroPlayer.players.advance,flashvars:{referenceId:"heroPlayer",ks:i.data.ks,related:{plugin:!1},doubleClick:{plugin:!0}},entry_id:r};n||(s.uiconf_id=drupalSettings.heroPlayer.players.basic,s.flashvars.doubleClick.plugin=!1),kWidget.embed({...s,readyCallback:e=>{const r=document.getElementById(e);r.kBind("playerPlayEnd",(async()=>{const{entryId:e,advancePlayer:n}=Mt();if(await $t(e),"video"===drupalSettings.heroPlayer.status){const i=await t().get(`/feeds/web/kstoken/${e}`);e&&i&&(drupalSettings.heroPlayer.ks=i.data.ks,It(r,n,e),Dt(e,!1))}})),r.kBind("changeMedia",(e=>{(e.entryId!==drupalSettings.heroPlayer.activeEntry||drupalSettings.heroPlayer.initialVideo)&&(drupalSettings.heroPlayer.initialVideo?(r.setKDPAttribute("servicesProxy.kalturaClient","ks",drupalSettings.heroPlayer.initialVideo),r.setKDPAttribute("configProxy.flashvars","ks",drupalSettings.heroPlayer.initialVideo)):(r.setKDPAttribute("servicesProxy.kalturaClient","ks",drupalSettings.heroPlayer.ks),r.setKDPAttribute("configProxy.flashvars","ks",drupalSettings.heroPlayer.ks))),drupalSettings.heroPlayer.activeEntry=e.entryId,drupalSettings.heroPlayer.ks="",drupalSettings.heroPlayer.initialVideo=""}))}})};const Rt=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];drupalSettings.heroPlayer.status=null,jt(drupalSettings.heroPlayer.id,e,t,r)},Lt=async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];drupalSettings.heroPlayer.status="video",await Nt(drupalSettings.heroPlayer.id,e,t)},$t=async function(e){var t,r,i,s;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=await kt(),l=await n(`?query=mediaData.entryId:${e}`),{group:c,adverts_enabled:u}=null==l||null===(t=l.data)||void 0===t||null===(r=t.itemData[0])||void 0===r?void 0:r.metaData,{thumbnailUrl:p}=null==l||null===(i=l.data)||void 0===i||null===(s=i.itemData[0])||void 0===s?void 0:s.mediaData,d="true"===u.toString().toLowerCase();if(a){await At(c)?drupalSettings.heroPlayer.status?drupalSettings.heroPlayer.status="video":await Lt(e,d):("function"==typeof kWidget.destroy&&kWidget.destroy(drupalSettings.heroPlayer.id),Rt(p,!0),window.openLoginOverlay({showMemberShipOnly:!0}))}else Ot(c)&&o&&await Lt(e,d),Ot(c)||("function"==typeof kWidget.destroy&&kWidget.destroy(drupalSettings.heroPlayer.id),"member"===(null==c?void 0:c.toLowerCase())?(Rt(p,!0,!0),window.openLoginOverlay({showMemberShipOnly:!0})):Rt(p))},Dt=async(e,r)=>{const n=document.querySelector('[data-js-hero-tray="true"]');if(n){const s=n.querySelector('[data-js-hero-playlist-active="true"]'),o=n.querySelector(`[data-js-playlist="${drupalSettings.heroPlayer.activePlaylist}"] [data-js-hero-playlist-entry="${e}"]`);o.setAttribute("data-js-hero-playlist-active","true"),s&&s!==o&&(s.removeAttribute("data-js-hero-playlist-active"),s.classList.add("playlist-watched-item"));const a=[...n.querySelectorAll(`[data-js-playlist="${drupalSettings.heroPlayer.activePlaylist}"] .swiper-slide`)].indexOf(o);setTimeout((()=>{var e;null===(e=drupalSettings.heroPlayer[drupalSettings.heroPlayer.activePlaylist])||void 0===e||e.slideTo(a)}));const l=document.querySelector('[data-js-hero="true"]');if(l){var i;const n=o.querySelector("[data-js-playlist-item-title]").dataset.jsPlaylistItemTitle,s=o.querySelector("[data-js-video-duration]").dataset.jsVideoDuration,a=o.querySelector("[data-js-playlist-item-description]").dataset.jsPlaylistItemDescription,c=o.querySelector("[data-js-hero-advance-player]").dataset.jsHeroAdvancePlayer,u=l.querySelector("[data-js-add-to-playlist]");l.querySelector("[data-js-hero-player-heading]").innerHTML=n,l.querySelector("[data-js-video-duration]").innerHTML=s,u.setAttribute("data-js-entry-id",e),s?l.querySelector(".video-duration").classList.remove("video-duration--hide"):l.querySelector(".video-duration").classList.add("video-duration--hide"),a?(l.querySelector("[data-js-hero-player-description]").innerHTML=a,l.querySelector("[data-js-hero-player-description]").classList.add("video-hero__player__meta--description_active")):(l.querySelector("[data-js-hero-player-description]").innerHTML="",l.querySelector("[data-js-hero-player-description]").classList.remove("video-hero__player__meta--description_active"));l.querySelector('[data-js-heroplayer="true"]')?await $t(e,!0):r&&(await $t(e),"video"===drupalSettings.heroPlayer.status&&kWidget.addReadyCallback((async r=>{if(r===drupalSettings.heroPlayer.id){const n=document.getElementById(r),i=await t().get(`/feeds/web/kstoken/${e}`);if(i)try{drupalSettings.heroPlayer.ks=i.data.ks,It(n,c,e)}catch(e){console.error("Video callback error."),console.error(e)}}}))),window.history.replaceState&&window.history.replaceState({entryid:e},`${n}`,`?entryid=${e}`);const p=null===(i=drupalSettings.myVideoPlaylist.results)||void 0===i?void 0:i.includes(e),d=u.querySelector("span");d.innerText=p?drupalSettings.myVideoPlaylist.removeFromPlaylist:drupalSettings.myVideoPlaylist.addToPlaylist}}},Ut=e=>{if(!e.querySelector(".video-hero__player--inner").id)return;e.querySelectorAll('[data-js-hero-player-set-active="true"]').forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget.parentElement;drupalSettings.heroPlayer.activePlaylist=t.parentElement.parentElement.dataset.jsPlaylist,Dt(t.dataset.jsHeroPlaylistEntry,!0),window.matchMedia("(max-width: 1033px)").matches&&window.scrollTo({top:0,behavior:"smooth"})}))}))};r(6405);const zt=new CustomEvent("my playlist results"),qt=async()=>{try{var e;const t=await wt(),r=null==t||null===(e=t.metadata)||void 0===e?void 0:e.my_video_playlist;return r?r.split(",").map((e=>e.trim())).filter((e=>""!==e)):[]}catch(e){throw console.error(e),e}},Ft=async e=>{try{const t=await wt();return t.metadata={...t.metadata,my_video_playlist:e.join(",")},(async e=>{const t=await gt.getUser();if(!t)throw"User is not logged in.";return(await fetch(`${vt}/api/profile/v1/profile/me`,{method:"PATCH",headers:{Authorization:`Bearer ${t.access_token}`},body:JSON.stringify(e)}).then((e=>e.json()))).data})(t)}catch(e){throw console.error(e),e}},Ht=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await qt();let n=[...r];r&&t?n=r.filter((t=>t!==e)):n.push(e),await Ft(n),drupalSettings.myVideoPlaylist.results=n,document.dispatchEvent(zt)},Bt=()=>s().twig({allowInlineIncludes:!0,base:"/themes/custom/arsenal_main/source/_patterns",href:"/themes/custom/arsenal_main/source/_patterns/06-javascript/heroPlayer/playlistVideo.twig?acb=20240628",async:!1,load:function(e){e.render()}}),Wt=(e,t,r,n)=>(ye(),s().twig({allowInlineIncludes:!0,base:"/themes/custom/arsenal_main/source/_patterns",href:"/themes/custom/arsenal_main/source/_patterns/06-javascript/heroPlayer/playlist.twig?acb=20240628",async:!1,load:function(e){e.render()}}).render({id:e,data:t,activeEntry:r??null,isSingleVideo:n})),Vt=async e=>{var r,i,s;const o=null===(r=drupalSettings.heroPlayer[drupalSettings.heroPlayer.activePlaylist])||void 0===r?void 0:r.moreVideos,a=null===(i=drupalSettings.heroPlayer[drupalSettings.heroPlayer.activePlaylist])||void 0===i?void 0:i.pageCount,l=null===(s=drupalSettings.heroPlayer[drupalSettings.heroPlayer.activePlaylist])||void 0===s?void 0:s.pageIndex;if(e.activeIndex>=e.slides.length-10&&o&&l<a){var c;drupalSettings.heroPlayer[drupalSettings.heroPlayer.activePlaylist].moreVideos=!1;const e=document.querySelector('[data-js-hero="true"]');if(!e)return;let r;if("upnextplaylist"===drupalSettings.heroPlayer.activePlaylist)r=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t().get(`https://arsenal-cm.streamamg.com/api/v1/73fe7230-fe24-413c-b0ea-6a374dcd14f2/uAcp2nQ94UjH6GsSg4ixSzkv1QDMoOnN5Wy1B4Knf6fRPpJWW3/en/feed/${e}`,{params:{pageSize:30,pageIndex:r}})}(`${e.dataset.jsFeed}`,l);else{const e=await qt();r=await n(`?query=((mediaData.entryId%3A(${e.join(" OR ")})))&pageIndex=${l}`)}if(null!==(c=r)&&void 0!==c&&c.data.itemData.length){var u,p;const t=[];null===(u=r)||void 0===u||u.data.itemData.map((e=>{const r=Bt().render({video:e});t.push(r)})),null===(p=drupalSettings.heroPlayer[drupalSettings.heroPlayer.activePlaylist])||void 0===p||p.appendSlide(t),drupalSettings.heroPlayer[drupalSettings.heroPlayer.activePlaylist].moreVideos=!0,drupalSettings.heroPlayer[drupalSettings.heroPlayer.activePlaylist].pageIndex=r.data.pagingData.pageIndex+1,Ut(e)}}},Gt=(e,t)=>{t&&(drupalSettings.heroPlayer[e]=new ie(t,{modules:[se,ue,le,ae,me,oe],direction:"horizontal",slidesPerView:1.23,spaceBetween:16,watchSlidesProgress:!0,slideToClickedSlide:!0,a11y:{enabled:!0,slideRole:"listitem"},keyboard:{enabled:!0},navigation:{nextEl:`.${e}.swiper-button--next`,prevEl:`.${e}.swiper-button--prev`},mousewheel:!0,breakpoints:{600:{direction:"horizontal",slidesPerView:2.27,slidesPerGroup:1},1034:{direction:"vertical",slidesPerView:"auto"}},on:{slideChange:async e=>{e.isEnd?e.$el.addClass("reached-end"):e.$el.removeClass("reached-end"),setTimeout((()=>{bLazy.revalidate()}),250),await Vt(e)},lock:e=>{e.$el.removeClass("navigation-enabled")},unlock:e=>{e.$el.addClass("navigation-enabled")}}}))};((e,t)=>{t.myVideoPlaylist||(t.myVideoPlaylist={},t.myVideoPlaylist.addToPlaylist=e.t("Add to playlist"),t.myVideoPlaylist.removeFromPlaylist=e.t("Remove from playlist"),t.myVideoPlaylist.trigger=async()=>await kt()?await qt():[])})(Drupal,drupalSettings),((e,t)=>{e.behaviors.heroVideoPlaylist={setPlaylist:async(e,r)=>{if(!await kt())return void window.openLoginOverlay();await Ht(e,r);const i=document.querySelector(`[data-js-entry-id="${e}"] span`);null!==i&&(i.innerText=r?t.myVideoPlaylist.addToPlaylist:t.myVideoPlaylist.removeFromPlaylist);const s=document.querySelector('[data-js-hero-tray="true"]');if(s){const i=[...s.querySelectorAll("#hero-playlist-myplaylist .swiper-slide")];if(r){var o;const r=i.indexOf(s.querySelector(`[data-js-playlist-myplaylist="true"] [data-js-hero-playlist-entry="${e}"]`));null===(o=t.heroPlayer.myplaylist)||void 0===o||o.removeSlide(r)}else{const r=await n(`?query=mediaData.entryId:${e}`);if(i.length){var a;const e=Bt().render({video:r.data.itemData[0]});null===(a=t.heroPlayer.myplaylist)||void 0===a||a.appendSlide(e)}else{const e=document.querySelector('[data-js-playlist-myplaylist="true"]');e&&(e.innerHTML=Wt("myplaylist",r.data.itemData),Gt("myplaylist",'[data-js-playlist="myplaylist"]'))}const s=document.querySelector('[data-js-hero="true"]');s&&Ut(s),bLazy.revalidate()}}}},e.behaviors.heroVideoTabs={attach:e=>{const t=e.querySelector('[data-js-hero-tray="true"]');if(!t)return;const r=t.querySelector("ul"),n=r.querySelectorAll("a"),i=t.querySelectorAll('[id^="hero-playlist-"]'),s=(e,t)=>{t.focus(),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),e.removeAttribute("aria-selected"),e.setAttribute("tabindex","-1");let r=Array.prototype.indexOf.call(n,t),s=Array.prototype.indexOf.call(n,e);i[s].hidden=!0,i[r].hidden=!1,setTimeout((()=>{bLazy.revalidate()}),150)};r.setAttribute("role","tablist"),Array.prototype.forEach.call(n,((e,t)=>{e.setAttribute("role","tab"),e.setAttribute("id","hero-playlist-tab"+(t+1)),e.setAttribute("tabindex","-1"),e.parentNode.setAttribute("role","presentation"),e.addEventListener("click",(e=>{e.preventDefault();let t=r.querySelector("[aria-selected]");e.currentTarget!==t&&s(t,e.currentTarget)})),e.addEventListener("keydown",(e=>{let r=Array.prototype.indexOf.call(n,e.currentTarget),o=37===e.which?r-1:39===e.which?r+1:40===e.which?"down":null;null!==o&&(e.preventDefault(),"down"===o?i[t].focus():n[o]&&s(e.currentTarget,n[o]))}))})),Array.prototype.forEach.call(i,((e,t)=>{e.setAttribute("role","tabpanel"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-labelledby",n[t].id),e.hidden=!0})),window.location.hash&&"my-playlist"===window.location.hash.substring(1)?(n[1].removeAttribute("tabindex"),n[1].setAttribute("aria-selected","true"),i[1].hidden=!1):(n[0].removeAttribute("tabindex"),n[0].setAttribute("aria-selected","true"),i[0].hidden=!1)}}})(Drupal,drupalSettings)}()}();;
"use strict";var bLazy=new Blazy({offset:100,breakpoints:[{width:440,src:"data-src-mobile"},{width:800,src:"data-src-tablet"},{width:1300,src:"data-src-laptop"},{width:1600,src:"data-src-desktop"}]});!function(e,t){t.behaviors.generic={attach:function(t){if(e("html",t).addClass("js").removeClass("no-js"),e('a[href^="http"]').not('a[href*="www.arsenal.com"],a[href*="player.arsenal.com"],a[href*="payments.streamamg.com"],a[href*="www.eticketing.co.uk"]').attr("target","_blank"),e('a[href*="payments.streamamg.com"]').addClass("js-gigya-login").data("data-js-sso-login","true"),e(".js-unhide-on-load").removeClass("u-hide"),e(".messages .backtrace").wrap("<details>"),e(".js-move-above-page",t).insertBefore(".site__page").removeClass("js-move-above-page").attr("data-dev-note","moved via .js-move-above-page"),e("ul.menu--main").one("mouseenter",(function(){bLazy.load(e(".menu__item .b-lazy"))})),t.querySelectorAll(".views-infinite-scroll-content-wrapper")){var a=function(){var e=t.querySelectorAll(".node--type-article");if(e.length){var a=e[0].getAttribute("about");e.forEach((function(e){e.getBoundingClientRect().y<window.innerHeight/2&&(a=e.getAttribute("about"))})),n.includes(a)||(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"VirtualPageView",virtualPageUrl:a}),n.push(a))}};bLazy.revalidate();var n=["".concat(window.location.pathname)],r=window.innerWidth;a(),window.addEventListener("scroll",a),window.addEventListener("resize",(function(){var e=window.innerWidth;e!==r&&(a(),r=e)}))}window.reloadCss=function(){e('link[href^="/themes/custom/arsenal_main/dest/arsenal-main.css"]').attr("href","/themes/custom/arsenal_main/dest/arsenal-main.css?cachebust=".concat(Date.now()))};var i=e(".view-video-list");if(i.find(".js-pager__items").length&&t===document){var o=i.find(".views-infinite-scroll-content-wrapper"),s=new MutationObserver((function(t){t.forEach((function(t){var a=t.addedNodes;e(a[0]).find("a").focus()}))})),c={attributes:!1,childList:!0,characterData:!1};o.each((function(e,t){s.observe(t,c)}))}e(once("setupCheckboxFilters",'form.views-exposed-form input[type="checkbox"]')).each((function(){var t=e(this),a=t.parents(".views-exposed-form");a.length&&(a.find(".js-form-submit").addClass("u-hide"),t.on("change",(function(){a.submit()})))}))}}}(jQuery,Drupal);var debounce=function(e,t,a){var n;return function(){var r=this,i=arguments,o=function(){n=null,a||e.apply(r,i)},s=a&&!n;clearTimeout(n),n=setTimeout(o,t),s&&e.apply(r,i)}},searchElementLabel=function(e){var t=e.closest(".search-results-wrapper").find("h2");return t?t.text().split("(")[0]:""},searchEventType=function(e){return e.closest(".modal--search").length>0?EVENTS.GlobalSearch:EVENTS.SearchPage},searchItemTitle=function(e){var t=e.attr("title");if(t)return t.trim();var a=e.closest(".search-results__item").find("h3");return a?a.text():""},globalSearchInput="",EVENTS={GlobalSearch:"searchGlobal",SearchPage:"searchPage"},analyticEvents=[{target:".sitewide-search",eventListener:function(e){return{action:"Toggle sitewide search",event:EVENTS.GlobalSearch,label:e.hasClass("active")?"Close":"Open"}}},{target:"main .search-results__item a, .modal--search .search-results__item a",eventListener:function(e){return{action:"View search result item",category:searchElementLabel(e),event:searchEventType(e),label:searchItemTitle(e)}}},{target:".search-results-wrapper__footer .button, .modal--search .search-results-inner .collection-button, .modal--search .search-results-inner .search-results-counter",eventListener:function(e){return{action:"View all search results",category:searchElementLabel(e),event:searchEventType(e),label:e.hasClass("collection-button")||e.hasClass("button")?"Show All":"Counter"}}},{target:".search-header .section-tab__tabs .menu__link, .modal--search .search-tabs__tab",eventListener:function(e){return{action:"Change search collection tab",category:e.text().trim(),event:searchEventType(e)}}},{target:".search-header .ais-SearchBox-reset, .modal--search .ais-SearchBox-reset",eventListener:function(e){var t=searchEventType(e);return{action:"Keyword search",label:"reset",category:e.val().trim(),event:t}}},{target:".ais-Pagination-link",eventListener:function(e){var t=searchElementLabel(e),a=EVENTS.SearchPage;return{action:"Toggle search pagination",label:e.attr("aria-label"),category:t,event:a}}},{target:".search-header .ais-SearchBox-submit, .modal--search .ais-SearchBox-submit",eventListener:function(e){var t=searchEventType(e);return{action:"Keyword search",label:"search",category:e.val().trim(),event:t}}},{target:".refinement-filter__input",eventListener:function(e){return e.is(":checked")?{action:"Refinement filter",category:e.closest(".refinement-filter__button").find("span").text().trim(),event:EVENTS.SearchPage,label:e.closest(".refinement-wrapper").find("h2").text().trim()}:null},onEvent:"change"},{target:".search-header .ais-SearchBox-input, .modal--search .ais-SearchBox-input",eventListener:function(e){var t=searchEventType(e),a=e.val().trim();return!a||a.length<3||a===globalSearchInput?null:(globalSearchInput=a,{action:"Keyword search",label:"keyup",event:t,category:a})},onEvent:"keyup"}];function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function _iterableToArrayLimit(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,i=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(s)throw r}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(e){e.behaviors.gaAnalytics={attach:function(e){$(once("gaAnalytics","body",e)).each((function(){var e=function(e,t){var a=t(e);a&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push(a))};analyticEvents.forEach((function(t){var a=t.eventListener,n=t.onEvent,r=void 0===n?"click":n,i=t.target;"keyup"===r||"change"===r?$("body").on(r,i,debounce((function(){e($(this),a)}),800)):$("body").on(r,i,(function(){e($(this),a)}))}))}))}}}(Drupal),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.HTMLCollection&&!HTMLCollection.prototype.forEach&&(HTMLCollection.prototype.forEach=Array.prototype.forEach),function(e,t){t.behaviors.dropdown={attach:function(){e(once("setupSelects","select")).each((function(){var t,a=e(this),n=a.parents(".form-item").find("label").addClass("u-hide").text(),r=n?'<div class="current__label">'.concat(n,"</div>"):"",i=n?"current--has-label":"current--has-no-label",o=n?"item item--small":"item";n||(t=(t=a.attr("data-drupal-selector"))?t.replace("edit-field-article-","").replace("edit-field-","").replace("-target-id","").replace("-value","").replace(/-/g," "):"Select an option"),a.selectric({maxHeight:200,disableOnMobile:!1,nativeOnMobile:!1,arrowButtonMarkup:'<b class="button"></b>',labelBuilder:'<span class="current '.concat(i,'">\n            ').concat(r,'\n            <span class="current__selection">{text}</span>\n          </span>'),optionsItemBuilder:'<span class="'.concat(o,'">{text}</span>'),onInit:function(a){var r=e(a),i=r.closest(".selectric-wrapper"),o=i.find(".selectric-input"),s=i.find(".selectric-items");s.before(o),i.attr("role","combobox").attr("aria-expanded",!1).attr("aria-owns","".concat(r.attr("id"),"-listbox")).attr("aria-haspopup","listbox"),n?(i.attr("aria-label",n),o.attr("aria-label",n),r.attr("aria-label",n)):t&&(i.attr("aria-label",t),o.attr("aria-label",t),r.attr("aria-label",t)),o.attr("tabindex",0).attr("aria-controls","".concat(r.attr("id"),"-listbox")).attr("readonly",!0),s.find("ul").attr("role","listbox").attr("id","".concat(r.attr("id"),"-listbox")),s.find("li").attr("role","option").each((function(t,a){e(a).attr("id","".concat(r.attr("id"),"-option-").concat(t))}))},onOpen:function(t){e(t).closest(".selectric-wrapper").attr("aria-expanded",!0)},onClose:function(t){e(t).closest(".selectric-wrapper").attr("aria-expanded",!1)}}),a.on("selectric-highlight",(function(t,a,n){var r=n.state.highlightedIdx,i=e(a).closest(".selectric-wrapper"),o=i.find(".selectric-items li"),s=o.eq(r),c=i.find(".selectric-input");o.removeAttr("aria-selected"),c.attr("aria-activedescendant",s.attr("id")),s.attr("aria-selected",!0)}));var s=a.parents(".views-exposed-form");s.length&&(s.find(".js-form-submit").addClass("u-hide"),a.on("change",(function(){s.submit()})))}))}}}(jQuery,Drupal),function(e,t){var a="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function n(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"navigationDesktopNav"})}t.behaviors.menuMain={closeDropdowns:function(e){e.removeClass("is-visible"),e.find(a).attr("tabindex",-1),e.attr("aria-expanded",!1)},openDropdowns:function(e){e.addClass("is-visible"),e.find(a).filter(":visible").attr("tabindex",0),e.attr("aria-expanded",!0),n()},attach:function(){var t=this,a=e(".nav--main"),r=a.find(".menu__item--has-mega-nav"),i=a.find(".mega-nav");r.attr("aria-haspopup",!0),this.closeDropdowns(i),r.on("mouseenter",(function(){n()})),r.on("keypress",(function(e){32===e.which&&e.preventDefault()})),r.on("keyup",(function(a){var n=e(this).children("a"),r=e(this).find(".mega-nav");switch(a.which){case 32:t.closeDropdowns(i),t.openDropdowns(r);break;case 27:t.closeDropdowns(r),n.focus();break;default:return}}))}}}(jQuery,Drupal),function(e,t){t.behaviors.menuAccount={attach:function(){var t=this,a=e(".nav--gigya-account"),n=e(".menu--gigya-account");a.attr("tabindex",0),a.attr("aria-haspopup",!0),n.attr("tabindex",-1),n.attr("aria-expanded",!1),a.on("focus",(function(){n.addClass("is-visible"),n.attr("tabindex",0),n.attr("aria-expanded",!0)})),a.on("blur",(function(e){return t.handleClose(e,n)})),n.find("a").on("blur",(function(e){return t.handleClose(e,n)}))},handleClose:function(t,a){var n=t.relatedTarget?e(t.relatedTarget):e(document.activeElement);n.length&&n.closest(".menu--gigya-account").length||(a.removeClass("is-visible"),a.attr("tabindex",-1),a.attr("aria-expanded",!1))}}}(jQuery,Drupal),function(e,t){t.behaviors.siteheader={attach:function(){var t=e(".menu--main .menu__link.is-active").first().text();e(".header__section-name").text(t);var a=e("#header-trigger"),n=e(".header__menu-trigger");if(n.off("click"),n.on("click",(function(t){t.preventDefault(),a.prop("checked")?(a.prop("checked",!1),e("body").removeClass("menu-opened")):(a.prop("checked",!0),e("body").addClass("menu-opened"),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"navigationMobileNav"}))})),"undefined"!=typeof requestAnimationFrame){var r=e(".header");r.headroom({offset:r.height(),classes:{initial:"header--headroom-ready",pinned:"header--pinned",unpinned:"header--unpinned",top:"header--top",notTop:"header--not-top",bottom:"header--bottom",notBottom:"header--not-bottom"},onPin:function(){e("body").addClass("has-header--pinned")},onUnpin:function(){e("body").removeClass("has-header--pinned")},onTop:function(){}}),e(".header__top .sitewide-search__wrapper").length<1&&e(".sitewide-search__wrapper").clone().insertBefore(".header__cta-group .header__menu-trigger")}}}}(jQuery,Drupal),function(e,t){t.behaviors.lightbox={attach:function(){e(".js-twitter-card__media--link").magnificPopup({type:"image",image:{titleSrc:"title"}})}},t.behaviors.moveTwitterAd={attach:function(){var t,a,n,r=e(".twitter-card__grid .ad-mobile"),i=e(".view-tweets .ad-mobile").is(":last-child");function o(){e("body").outerWidth()<640?i&&r.insertAfter(".twitter-card:nth-child(3)"):e("body").outerWidth()>=640&&!i&&r.insertAfter(".twitter-card:last-child")}o(),e(window).resize((t=function(){i=e(".view-tweets .ad-mobile").is(":last-child"),o()},a=200,function(){var e=this,r=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(e,r)}),a)}))}}}(jQuery,Drupal),function(e,t){t.behaviors.articlestorygroup={attach:function(t){var a,n,r,i=e(".article-story-group",t);if(i.length){var o=function(e,t){1!==t&&(l.some((function(e){return e===t}))||(!function(e){var t=e.find(".node").attr("about"),a=ga.getAll()[0].get("name");ga(a+".send","pageview",t),ga(a+".send","event",{eventCategory:"story group",eventAction:"scrolled article",eventLabel:t})}(e),l.push(t)))},s=function(){c.each((function(t){var a=e(this);a.visible(!0)&&o(a,t+1)}))},c=e(".article-story-group__item",i),l=[];e.fn.visible=function(t){var a=e(this),n=e(window),r=n.scrollTop(),i=r+n.height(),o=a.offset().top,s=o+a.height();return(!0===t?o:s)<=i&&(!0===t?s:o)>=r},s(),e(window).scroll((a=s,n=100,function(){var e=this,t=arguments;clearTimeout(r),r=setTimeout((function(){a.apply(e,t)}),n)}));var d=e(".article-story-group__header");d.length&&d.headroom({offset:d.offset().top+2*d.height(),classes:{initial:"article-story-group__header--headroom-ready",pinned:"article-story-group__header--pinned",unpinned:"article-story-group__header--unpinned",top:"article-story-group__header--top",notTop:"article-story-group__header--not-top",bottom:"article-story-group__header--bottom",notBottom:"article-story-group__header--not-bottom"}})}}}}(jQuery,Drupal),function(e,t){e.behaviors.tabs={attach:function(e){if(!(e.querySelectorAll(".js-tabs").length<1)){var a="u-hide-keep-size",n=t(".js-tabs__panel");t(once("setup-js-tabs",".js-tabs",e)).each((function(){var e=t(this).find(".js-tabs__tab"),i=e.filter(".is-active"),o=r();function s(r){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0;if(0!==r.length){e.removeClass("is-active"),r.addClass("is-active");var s=r.attr("href"),c=t(s);n.removeClass("js-tabs__panel--open").addClass(a),c.removeClass(a).addClass("js-tabs__panel--open");var l=s.replace("#","#!"),d={rand:Math.random()};window.eqjs.query(t("[data-eq-pts]",c)),i&&history.pushState?o?history.replaceState(d,null,l):history.pushState(d,null,l):location.hash=l,bLazy.revalidate(),"undefined"!=typeof Opta&&Opta.start()}}window.addEventListener("popstate",(function(t){t.state&&r()&&s(e.filter("[href='".concat(r(),"']")),!1)})),window.addEventListener("hashchange",(function(t){r()&&s(e.filter("[href='".concat(r(),"']")),!1)})),window.addEventListener("load",(function(){if(n.addClass(a),o&&e.filter("[href='".concat(o,"']")).length)s(e.filter("[href='".concat(o,"']")));else if(i.length){s(i.first())}else s(e.first(),!0,!0)})),e.click((function(e){e.stopImmediatePropagation(),e.preventDefault(),s(t(this))})),t(document).on("activateTab",(function(e,t){s(t.$item)}))}))}function r(){return window.location.hash.replace("#!","#")}}}}(Drupal,jQuery),function(e,t){t.behaviors.accordions={attach:function(){function t(e,t,a){return'<span class="date__day">'.concat(e).concat(a,'</span><span class="date__year">').concat(t,"</span>")}e(once("setupAccordions",".accordions")).each((function(){e(".accordion__divider").click((function(t){t.stopImmediatePropagation();var a,n=e(this).parents(".accordion");n.hasClass("accordion--open")?function(e){e.removeClass("accordion--open")}(n):(n.addClass("accordion--open"),a=n,window.eqjs.query(e("[data-eq-pts]",a)))}))})),e(".view-news-pages .accordion__title span, .view-fixture-news .accordion__title").each((function(){var a=e(this),n=_slicedToArray(a.text().split(","),2),r=n[0],i=n[1];a.addClass("date").html(t(r,i,","))})),e(".js-accordion-text").each((function(){var a=e(this),n=a.hasClass("js-accordion-text--long"),r=a.attr("data-content");if(n){var i=_slicedToArray(r.trim().split(" "),3),o=i[0],s=i[1],c=i[2],l="".concat(o," ").concat(s);a.html(t(l,c,", "))}else if("Postponed"===r)a.html('<span class="date__day">TBC</span>');else{var d=_slicedToArray(r.trim().split(" "),2),u=d[0],h=d[1];a.html(t(u,h," "))}a.addClass("date")}))}}}(jQuery,Drupal),function(e){e.behaviors.fixtureList={attach:function(e){var t=e.querySelector(".js-download-fixtures");if(t){var a=window.location.search.substr(1).split("&"),n=t.getAttribute("href");t.setAttribute("href","".concat(n,"?").concat(a[0]))}}}}(Drupal),function(e,t){t.behaviors.table={attach:function(){e("table").each((function(){var t=e(this),a=[];e(".header-groups > th, .header-groups > td",t).each((function(t){var n=e(this),r={col:parseInt(n.attr("colspan"),10),name:n.text().toLowerCase()||"untitled"};n.addClass("group--".concat(t+1," group--").concat(r.name)),a.push(r)}));var n=0,r=a.map((function(e){var t={start:n,end:e.col+n,name:e.name};return n=t.end,t}));e("tbody > tr, thead > tr:last-child",t).each((function(){var t=e(this);r.forEach((function(a,n){e("td, th",t).slice(a.start,a.end).addClass("group--".concat(n+1," group--").concat(a.name))}))}))}))}}}(jQuery,Drupal),function(e,t){t.behaviors.infiniteScrollRunEq={attach:function(e,t){window.eqjs.all()}}}(jQuery,Drupal),function(e,t){t.behaviors.fixturecards={attach:function(){e(".fixture-card").each((function(){var t=e(this),a=e(".fixture-card__cta",t);a.length&&(t.addClass("fixture-card--is-link"),t.click((function(e){"A"!==e.target.nodeName&&(a&&a[0]&&a[0].href?a[0].host===window.location.host?window.location=a[0].href:window.open(a[0].href):console.error("Was not able to get fixture card cta link to open."))})))}))}}}(jQuery,Drupal),function(e,t){t.behaviors.imagecarouselcard={attach:function(){function t(e,t){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout((function(){return e.apply(n,r)}),t)}}var a=e(".media-card--carousel .card__content:not(.slick-initialized)"),n=a.closest(".js-gallery-carousel-wrapper");function r(a){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;function i(){if(a.parent().hasClass("media-card--with-caption")){var t=a.find(".media-card__figure"),n=e(window).width()-32;t.each((function(){var t=e(this),a=t.find(".media-card__media img").width(),r=t.find(".media-card__caption");a&&r.css("maxWidth",Math.min(n,a)+"px")}))}}a.on("init",(function(e,t){i()}));var o=t(i,250);window.addEventListener("resize",o);var s={Contract:"GalleryContract",Expand:"GalleryExpand",Navigation:"GalleryNavigation"};function c(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push({label:a.parents("article.media-card--carousel").find("span.gallery-title").text()||"",event:e})}a.slick({zIndex:40,arrows:!0,prevArrow:'<div class="media-card__arrow media-card__arrow--prev" title="Previous">\n                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">\n                  <path d="M5.02451 15.8684C4.86701 15.8684 4.70951 15.8094 4.58483 15.6978C4.32233 15.4549 4.30264 15.0348 4.54545 14.7722L10.7142 7.99779L4.54545 1.22339C4.30264 0.954254 4.32233 0.5407 4.58483 0.29782C4.84733 0.054939 5.26076 0.0680661 5.50358 0.337204L12.0792 7.55798C12.3089 7.80743 12.3089 8.19472 12.0792 8.44417L5.50358 15.6649C5.37233 15.8028 5.2017 15.875 5.02451 15.875V15.8684Z" fill="black" />\n                </svg>\n              </div>',nextArrow:'<div class="media-card__arrow media-card__arrow--next" title="Next">\n                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">\n                  <path d="M5.02451 15.8684C4.86701 15.8684 4.70951 15.8094 4.58483 15.6978C4.32233 15.4549 4.30264 15.0348 4.54545 14.7722L10.7142 7.99779L4.54545 1.22339C4.30264 0.954254 4.32233 0.5407 4.58483 0.29782C4.84733 0.054939 5.26076 0.0680661 5.50358 0.337204L12.0792 7.55798C12.3089 7.80743 12.3089 8.19472 12.0792 8.44417L5.50358 15.6649C5.37233 15.8028 5.2017 15.875 5.02451 15.875V15.8684Z" fill="black" />\n                </svg>\n              </div>',autoplay:n,autoplaySpeed:r,centerMode:!0,variableWidth:!0}).on("beforeChange",(function(e,t,a){c(s.Navigation)}));var l=0;e(".media-card--carousel").each((function(){e(this).magnificPopup({delegate:".slick-slide:not(.slick-cloned) a.js-media-card__lightbox",type:"image",gallery:{enabled:!0},image:{titleSrc:"title"},callbacks:{open:function(){setTimeout((function(){return l=1}),400),c(s.Expand)},change:function(){1===l&&c(s.Navigation)},close:function(){l=0,c(s.Contract)}}})}))}n.length>0?n.each((function(){var t=!!this.dataset.jsAutoplay,n=this.dataset.jsAutoplaySpeed?this.dataset.jsAutoplaySpeed:5e3;r(e(this).find(a),t,n)})):r(a)}}}(jQuery,Drupal),function(e){e.behaviors.animatedMedia={attach:function(e){var t=function(e,t,a){t.dataset.src=a,e.classList.contains("b-loaded")&&e.classList.remove("b-loaded"),bLazy.revalidate()};function a(){var a=e.querySelectorAll("video.animated");a&&function(e,t,a){for(var n=0;n<e.length;n++)t.call(a,n,e[n])}(a,(function(e,a){var n=a.querySelector("source");window.innerWidth>=769&&"l"!==a.dataset.playingVid&&(a.dataset.playingVid="l",t(a,n,n.dataset.large)),window.innerWidth<=768&&"s"!==a.dataset.playingVid&&(a.dataset.playingVid="s",t(a,n,n.dataset.small))}))}window.addEventListener("load",a),window.addEventListener("resize",a)}}}(Drupal),function(e,t){t.behaviors.articlecard={attach:function(){var t=e(".article-card__title-words, .takeover__article-title-words");function a(){var t,a=0,n=e(this);n.hasClass("js-processed")&&n.children().removeAttr("class"),n.addClass("js-processed"),n.children().each((function(){var n=e(this),r=n.position().top;t!==r&&(a+=1,n.prev().prev().addClass("last")),n.addClass("row-".concat(a)),t=r}))}function n(e){e.each(a)}function r(t){t.length&&(e("body").outerWidth()<768?t.addClass("article-card--tiny"):t.removeClass("article-card--tiny"))}setTimeout((function(){n(t)}),1e3),t.each((function(){e(this).parents(".article-card, .takeover").on("unhidden",a.bind(this))}));var i,o,s,c=e([".article-card--mobile-tiny",".view-related-content .article-card",".group-grid__item--width-one .article-card",".lazy-latest-news-cards .article-card"].join(","));r(c),e(window).resize((i=function(){n(t),r(c)},o=200,function(){var e=this,t=arguments;clearTimeout(s),s=setTimeout((function(){i.apply(e,t)}),o)}))}}}(jQuery,Drupal),function(e,t){t.behaviors.storygroup={attach:function(){e(once("setup-story-groups",".story-group")).each((function(){var t=e(this),a=e(".group-grid__item",t),n=e(".section-header__icon",t),r=e(".story-group__hr-link",t),i=a.filter(".group-grid__item--row-three-plus"),o=a.slice(3);function s(a){var n=e("body").outerWidth()<1024?o:i;a.preventDefault(),t.hasClass("story-group--closed")?(n.slideDown({duration:400,start:function(){var t;t=n,window.eqjs.query(e("[data-eq-pts]",t)),n.children().trigger("unhidden")},done:function(){bLazy.revalidate()}}),n.find("a").first().focus()):n.slideUp(400),t.toggleClass("story-group--closed"),r.toggleClass("hr-link--flipped")}t.addClass("story-group--closed"),r.addClass("hr-link--flipped"),e(".hr-link__noun",r).text(e(".section-header__title",t).text()),r.click(s),n.click(s);var c=e(".section-header",t),l=t.find(".paragraph--type--article:first-of-type a");if(l&&l.attr("href")){c.addClass("has-hover"),c.on("click",(function(e){window.location.href=l.attr("href")}))}c.on("click",(function(e){var a=t.find(".paragraph--type--article:first-of-type a");a&&a.attr("href")&&(window.location.href=a.attr("href"))}))}))}}}(jQuery,Drupal),function(e,t){t.behaviors.meganav={attach:function(){e(".mega-navs .mega-nav").each((function(t){var a=e(this).children(),n=a.children();a.addClass("mega-nav__inner--has-".concat(n.length)),n.hasClass("mega-nav__item")||n.wrap('<div class="mega-nav__item"></div>'),e(".menu--main .menu__item[data-use-meganav-id='"+e(this).data("region-id")+"']").append(e(this))})),e(".menu--main").addClass("menu--has-mega-nav");var t=document.querySelectorAll(".menu--main [data-eq-pts]");e(".menu--main .menu__item").hover((function(){return window.eqjs.query(t)}))}}}(jQuery,Drupal),function(e,t){t.behaviors.heroBlock={attach:function(){if(e(".hero-block__play").length>0){var t=e(".hero-block__play"),a=e(".hero-block__video"),n=e(".hero-block__image"),r=e(".hero-block__content");t.on("click",(function(){!function(e,t,a,n){e.addClass("visually-hidden"),t.removeClass("visually-hidden"),a.css({"background-image":"none"}),n.addClass("visually-hidden");var r=t.children("div:first");window.addVideo(r)}(t,a,n,r)}))}}}}(jQuery,Drupal),function(e,t){t.behaviors.linkSlider={attach:function(){e(".link-slider").slick({infinite:!0,slidesToScroll:1,variableWidth:!0,prevArrow:'\n          <button type="button" class="slick-prev">\n            <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">\n              <path d="M5.02451 15.8684C4.86701 15.8684 4.70951 15.8094 4.58483 15.6978C4.32233 15.4549 4.30264 15.0348 4.54545 14.7722L10.7142 7.99779L4.54545 1.22339C4.30264 0.954254 4.32233 0.5407 4.58483 0.29782C4.84733 0.054939 5.26076 0.0680661 5.50358 0.337204L12.0792 7.55798C12.3089 7.80743 12.3089 8.19472 12.0792 8.44417L5.50358 15.6649C5.37233 15.8028 5.2017 15.875 5.02451 15.875V15.8684Z" fill="black" />\n            </svg>\n          </button>\n        ',nextArrow:'\n          <button type="button" class="slick-next">\n            <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">\n              <path d="M5.02451 15.8684C4.86701 15.8684 4.70951 15.8094 4.58483 15.6978C4.32233 15.4549 4.30264 15.0348 4.54545 14.7722L10.7142 7.99779L4.54545 1.22339C4.30264 0.954254 4.32233 0.5407 4.58483 0.29782C4.84733 0.054939 5.26076 0.0680661 5.50358 0.337204L12.0792 7.55798C12.3089 7.80743 12.3089 8.19472 12.0792 8.44417L5.50358 15.6649C5.37233 15.8028 5.2017 15.875 5.02451 15.875V15.8684Z" fill="black" />\n            </svg>\n          </button>\n        '})}}}(jQuery,Drupal),function(e,t){t.behaviors.injury={attach:function(t){var a=e("html, body");e('a[href^="#injury"]',t).click((function(t){var n=e(e.attr(this,"href"));n.length&&(a.animate({scrollTop:n.offset().top-65},500),t.preventDefault(),n.focus())}))}}}(jQuery,Drupal);var isInViewport=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e.getBoundingClientRect(),n=e.offsetHeight,r=e.offsetWidth-t;return a.top>=-n&&a.left>=-r&&a.right<=(window.innerWidth||document.documentElement.clientWidth)+r&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)+n},OFFSET_PERCENTAGE=75;!function(e,t){t.behaviors.sectiontab={attach:function(t){if(e(".js-move-to-section-tabs",t).prependTo(".section-tab__tabs").removeClass("js-move-to-section-tabs").attr("data-dev-note","moved via .js-move-to-section-tabs"),t===document){var a=t.querySelector(".section-tab__tabs .menu__link.is-active");a&&a.scrollIntoView({behavior:"smooth",block:"nearest"})}var n=function(e,t,a){var n=e.scrollWidth,r="has-overflow",i=t.clientWidth,o=e.querySelector("li:last-of-type");n>i&&!isInViewport(o,a)?t.classList.add(r):t.classList.remove(r)},r=document.querySelectorAll(".section-tab__tabs"),i=window.innerWidth;r.forEach((function(e){var t=e.querySelector(".menu");if(t){var a=e.querySelector("button"),r=a?a.clientWidth:0;t.addEventListener("scroll",(function(){return n(t,e,r)})),n(t,e,r),window.addEventListener("resize",(function(){var a=window.innerWidth;a!==i&&(n(t,e,r),i=a)})),a&&a.addEventListener("click",(function(){t.scrollLeft+=window.innerWidth/100*OFFSET_PERCENTAGE}))}}))}}}(jQuery,Drupal),function(e,t){t.behaviors.moveHomeSidebar={attach:function(){var t,a,n,r=e(".page-node-type-home-page").length>0,i=e(".site__page"),o=e(".page__sidebar"),s=o.children(".ad-tablet:first"),c=o.children(".ad-mobile:first"),l=!1,d=e(".slices-group .page__sidebar").length>0;function u(){e("body").outerWidth()<1023&&!d?(l?o.insertAfter(".slices-group > div:nth-of-type(1)"):(o.insertAfter(".slices-group > div:nth-of-type(2)"),s.insertAfter(".slices-group > div:nth-of-type(1)"),c.insertAfter(".slices-group > div:nth-of-type(1)")),d=!0):e("body").outerWidth()>=1023&&d&&(o.appendTo(i),d=!1)}(e(".takeover").length>0||e(".hero-article").length>0)&&(l=!0),r&&(u(),e(window).resize((t=function(){u()},a=200,function(){var e=this,r=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(e,r)}),a)})))}}}(jQuery,Drupal);;
/* @license MIT https://raw.githubusercontent.com/focus-trap/tabbable/v6.2.0/LICENSE */
/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):(t="undefined"!=typeof globalThis?globalThis:t||self,function(){var n=t.tabbable,o=t.tabbable={};e(o),o.noConflict=function(){return t.tabbable=n,o}}())}(this,(function(t){"use strict";var e=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],n=e.join(","),o="undefined"==typeof Element,r=o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,i=!o&&Element.prototype.getRootNode?function(t){var e;return null==t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}:function(t){return null==t?void 0:t.ownerDocument},a=function t(e,n){var o;void 0===n&&(n=!0);var r=null==e||null===(o=e.getAttribute)||void 0===o?void 0:o.call(e,"inert");return""===r||"true"===r||n&&e&&t(e.parentNode)},l=function(t,e,o){if(a(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(n));return e&&r.call(t,n)&&i.unshift(t),i=i.filter(o)},u=function t(e,o,i){for(var l=[],u=Array.from(e);u.length;){var d=u.shift();if(!a(d,!1))if("SLOT"===d.tagName){var c=d.assignedElements(),f=t(c.length?c:d.children,!0,i);i.flatten?l.push.apply(l,f):l.push({scopeParent:d,candidates:f})}else{r.call(d,n)&&i.filter(d)&&(o||!e.includes(d))&&l.push(d);var s=d.shadowRoot||"function"==typeof i.getShadowRoot&&i.getShadowRoot(d),p=!a(s,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(d));if(s&&p){var h=t(!0===s?d.children:s.children,!0,i);i.flatten?l.push.apply(l,h):l.push({scopeParent:d,candidates:h})}else u.unshift.apply(u,d.children)}}return l},d=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},c=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||function(t){var e,n=null==t||null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"contenteditable");return""===n||"true"===n}(t))&&!d(t)?0:t.tabIndex},f=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},s=function(t){return"INPUT"===t.tagName},p=function(t){return function(t){return s(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||i(t),o=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=o(window.CSS.escape(t.name));else try{e=o(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var r=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!r||r===t}(t)},h=function(t){var e=t.getBoundingClientRect(),n=e.width,o=e.height;return 0===n&&0===o},v=function(t,e){var n=e.displayCheck,o=e.getShadowRoot;if("hidden"===getComputedStyle(t).visibility)return!0;var a=r.call(t,"details>summary:first-of-type")?t.parentElement:t;if(r.call(a,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return h(t)}else{if("function"==typeof o){for(var l=t;t;){var u=t.parentElement,d=i(t);if(u&&!u.shadowRoot&&!0===o(u))return h(t);t=t.assignedSlot?t.assignedSlot:u||d===t.ownerDocument?u:d.host}t=l}if(function(t){var e,n,o,r,a=t&&i(t),l=null===(e=a)||void 0===e?void 0:e.host,u=!1;if(a&&a!==t)for(u=!!(null!==(n=l)&&void 0!==n&&null!==(o=n.ownerDocument)&&void 0!==o&&o.contains(l)||null!=t&&null!==(r=t.ownerDocument)&&void 0!==r&&r.contains(t));!u&&l;){var d,c,f;u=!(null===(c=l=null===(d=a=i(l))||void 0===d?void 0:d.host)||void 0===c||null===(f=c.ownerDocument)||void 0===f||!f.contains(l))}return u}(t))return!t.getClientRects().length;if("legacy-full"!==n)return!0}return!1},b=function(t,e){return!(e.disabled||a(e)||function(t){return s(t)&&"hidden"===t.type}(e)||v(e,t)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var o=e.children.item(n);if("LEGEND"===o.tagName)return!!r.call(e,"fieldset[disabled] *")||!o.contains(t)}return!0}e=e.parentElement}return!1}(e))},m=function(t,e){return!(p(e)||c(e)<0||!b(t,e))},g=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},y=function t(e){var n=[],o=[];return e.forEach((function(e,r){var i=!!e.scopeParent,a=i?e.scopeParent:e,l=function(t,e){var n=c(t);return n<0&&e&&!d(t)?0:n}(a,i),u=i?t(e.candidates):a;0===l?i?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:l,item:e,isScope:i,content:u})})),o.sort(f).reduce((function(t,e){return e.isScope?t.push.apply(t,e.content):t.push(e.content),t}),[]).concat(n)},w=e.concat("iframe").join(",");t.focusable=function(t,e){return(e=e||{}).getShadowRoot?u([t],e.includeContainer,{filter:b.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):l(t,e.includeContainer,b.bind(null,e))},t.getTabIndex=c,t.isFocusable=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==r.call(t,w)&&b(e,t)},t.isTabbable=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==r.call(t,n)&&m(e,t)},t.tabbable=function(t,e){var n;return n=(e=e||{}).getShadowRoot?u([t],e.includeContainer,{filter:m.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:g}):l(t,e.includeContainer,m.bind(null,e)),y(n)},Object.defineProperty(t,"__esModule",{value:!0})}));

;
